(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"1EKS":function(t,e,n){t.exports=function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};e[s][0].call(a.exports,function(t){return i(e[s][1][t]||t)},a,a.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){(function(r,i,o,s,u,a,c,l,h){"use strict";var f=t("crypto");function d(t,e){return function(t,e){var n;if(void 0===(n="passthrough"!==e.algorithm?f.createHash(e.algorithm):new b).write&&(n.write=n.update,n.end=n.update),m(e,n).dispatch(t),n.update||n.end(""),n.digest)return n.digest("buffer"===e.encoding?void 0:e.encoding);var r=n.read();return"buffer"!==e.encoding?r.toString(e.encoding):r}(t,e=y(t,e))}(n=e.exports=d).sha1=function(t){return d(t)},n.keys=function(t){return d(t,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(t){return d(t,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(t){return d(t,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=f.getHashes?f.getHashes().slice():["sha1","md5"];p.push("passthrough");var g=["buffer","hex","binary","base64"];function y(t,e){var n={};if(n.algorithm=(e=e||{}).algorithm||"sha1",n.encoding=e.encoding||"hex",n.excludeValues=!!e.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===e.ignoreUnknown,n.respectType=!1!==e.respectType,n.respectFunctionNames=!1!==e.respectFunctionNames,n.respectFunctionProperties=!1!==e.respectFunctionProperties,n.unorderedArrays=!0===e.unorderedArrays,n.unorderedSets=!1!==e.unorderedSets,n.unorderedObjects=!1!==e.unorderedObjects,n.replacer=e.replacer||void 0,n.excludeKeys=e.excludeKeys||void 0,void 0===t)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===g.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+g.join(", "));return n}function v(t){if("function"==typeof t)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))}function m(t,e,n){function r(t){return e.update?e.update(t,"utf8"):e.write(t,"utf8")}return n=n||[],{dispatch:function(e){return t.replacer&&(e=t.replacer(e)),this["_"+(null===e?"null":typeof e)](e)},_object:function(e){var i,s=Object.prototype.toString.call(e),u=/\[object (.*)\]/i.exec(s);if(u=(u=u?u[1]:"unknown:["+s+"]").toLowerCase(),0<=(i=n.indexOf(e)))return this.dispatch("[CIRCULAR:"+i+"]");if(n.push(e),void 0!==o&&o.isBuffer&&o.isBuffer(e))return r("buffer:"),r(e);if("object"===u||"function"===u||"asyncfunction"===u){var a=Object.keys(e);t.unorderedObjects&&(a=a.sort()),!1===t.respectType||v(e)||a.splice(0,0,"prototype","__proto__","constructor"),t.excludeKeys&&(a=a.filter(function(e){return!t.excludeKeys(e)})),r("object:"+a.length+":");var c=this;return a.forEach(function(n){c.dispatch(n),r(":"),t.excludeValues||c.dispatch(e[n]),r(",")})}if(!this["_"+u]){if(t.ignoreUnknown)return r("["+u+"]");throw new Error('Unknown object type "'+u+'"')}this["_"+u](e)},_array:function(e,i){i=void 0!==i?i:!1!==t.unorderedArrays;var o=this;if(r("array:"+e.length+":"),!i||e.length<=1)return e.forEach(function(t){return o.dispatch(t)});var s=[],u=e.map(function(e){var r=new b,i=n.slice();return m(t,r,i).dispatch(e),s=s.concat(i.slice(n.length)),r.read().toString()});return n=n.concat(s),u.sort(),this._array(u,!1)},_date:function(t){return r("date:"+t.toJSON())},_symbol:function(t){return r("symbol:"+t.toString())},_error:function(t){return r("error:"+t.toString())},_boolean:function(t){return r("bool:"+t.toString())},_string:function(t){r("string:"+t.length+":"),r(t.toString())},_function:function(e){r("fn:"),v(e)?this.dispatch("[native]"):this.dispatch(e.toString()),!1!==t.respectFunctionNames&&this.dispatch("function-name:"+String(e.name)),t.respectFunctionProperties&&this._object(e)},_number:function(t){return r("number:"+t.toString())},_xml:function(t){return r("xml:"+t.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(t){return r("regex:"+t.toString())},_uint8array:function(t){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){return r("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){return r("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){return r("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){return r("url:"+t.toString())},_map:function(e){r("map:");var n=Array.from(e);return this._array(n,!1!==t.unorderedSets)},_set:function(e){r("set:");var n=Array.from(e);return this._array(n,!1!==t.unorderedSets)},_file:function(t){return r("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},_blob:function(){if(t.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function b(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}n.writeToStream=function(t,e,n){return void 0===n&&(n=e,e={}),m(e=y(t,e),n).dispatch(t)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_5812b7fb.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(t,e,n){(function(t,e,r,i,o,s,u,a,c){!function(t){"use strict";var e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),s="A".charCodeAt(0),u="-".charCodeAt(0),a="_".charCodeAt(0);function c(t){var e=t.charCodeAt(0);return e===n||e===u?62:e===r||e===a?63:e<i?-1:e<i+10?e-i+26+26:e<s+26?e-s:e<o+26?e-o+26:void 0}t.toByteArray=function(t){var n,r;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.length,o="="===t.charAt(i-2)?2:"="===t.charAt(i-1)?1:0,s=new e(3*t.length/4-o),u=0<o?t.length-4:t.length,a=0;function l(t){s[a++]=t}for(n=0;n<u;n+=4,0)l((16711680&(r=c(t.charAt(n))<<18|c(t.charAt(n+1))<<12|c(t.charAt(n+2))<<6|c(t.charAt(n+3))))>>16),l((65280&r)>>8),l(255&r);return 2==o?l(255&(r=c(t.charAt(n))<<2|c(t.charAt(n+1))>>4)):1==o&&(l((r=c(t.charAt(n))<<10|c(t.charAt(n+1))<<4|c(t.charAt(n+2))>>2)>>8&255),l(255&r)),s},t.fromByteArray=function(t){var e,n,r,i,o=t.length%3,s="";function u(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)}for(e=0,r=t.length-o;e<r;e+=3)s+=u((i=n=(t[e]<<16)+(t[e+1]<<8)+t[e+2])>>18&63)+u(i>>12&63)+u(i>>6&63)+u(63&i);switch(o){case 1:s+=u((n=t[t.length-1])>>2),s+=u(n<<4&63),s+="==";break;case 2:s+=u((n=(t[t.length-2]<<8)+t[t.length-1])>>10),s+=u(n>>4&63),s+=u(n<<2&63),s+="="}return s}}(void 0===n?this.base64js={}:n)}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(t,e,n){(function(e,r,i,o,s,u,a,c,l){var h=t("base64-js"),f=t("ieee754");function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);var r,o,s,u,a,c=typeof t;if("base64"===e&&"string"==c)for(t=(r=t).trim?r.trim():r.replace(/^\s+|\s+$/g,"");t.length%4!=0;)t+="=";if("number"==c)o=T(t);else if("string"==c)o=i.byteLength(t,e);else{if("object"!=c)throw new Error("First argument needs to be a number, array or string.");o=T(t.length)}if(i._useTypedArrays?s=i._augment(new Uint8Array(o)):((s=this).length=o,s._isBuffer=!0),i._useTypedArrays&&"number"==typeof t.byteLength)s._set(t);else if(x(a=t)||i.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length)for(u=0;u<o;u++)s[u]=i.isBuffer(t)?t.readUInt8(u):t[u];else if("string"==c)s.write(t,0,e);else if("number"==c&&!i._useTypedArrays&&!n)for(u=0;u<o;u++)s[u]=0;return s}function d(t,e,n,r){r||(M("boolean"==typeof n,"missing or invalid endian"),M(null!=e,"missing offset"),M(e+1<t.length,"Trying to read beyond buffer length"));var i,o=t.length;if(!(o<=e))return n?(i=t[e],e+1<o&&(i|=t[e+1]<<8)):(i=t[e]<<8,e+1<o&&(i|=t[e+1])),i}function p(t,e,n,r){r||(M("boolean"==typeof n,"missing or invalid endian"),M(null!=e,"missing offset"),M(e+3<t.length,"Trying to read beyond buffer length"));var i,o=t.length;if(!(o<=e))return n?(e+2<o&&(i=t[e+2]<<16),e+1<o&&(i|=t[e+1]<<8),i|=t[e],e+3<o&&(i+=t[e+3]<<24>>>0)):(e+1<o&&(i=t[e+1]<<16),e+2<o&&(i|=t[e+2]<<8),e+3<o&&(i|=t[e+3]),i+=t[e]<<24>>>0),i}function g(t,e,n,r){if(r||(M("boolean"==typeof n,"missing or invalid endian"),M(null!=e,"missing offset"),M(e+1<t.length,"Trying to read beyond buffer length")),!(t.length<=e)){var i=d(t,e,n,!0);return 32768&i?-1*(65535-i+1):i}}function y(t,e,n,r){if(r||(M("boolean"==typeof n,"missing or invalid endian"),M(null!=e,"missing offset"),M(e+3<t.length,"Trying to read beyond buffer length")),!(t.length<=e)){var i=p(t,e,n,!0);return 2147483648&i?-1*(4294967295-i+1):i}}function v(t,e,n,r){return r||(M("boolean"==typeof n,"missing or invalid endian"),M(e+3<t.length,"Trying to read beyond buffer length")),f.read(t,e,n,23,4)}function m(t,e,n,r){return r||(M("boolean"==typeof n,"missing or invalid endian"),M(e+7<t.length,"Trying to read beyond buffer length")),f.read(t,e,n,52,8)}function b(t,e,n,r,i){i||(M(null!=e,"missing value"),M("boolean"==typeof r,"missing or invalid endian"),M(null!=n,"missing offset"),M(n+1<t.length,"trying to write beyond buffer length"),R(e,65535));var o=t.length;if(!(o<=n))for(var s=0,u=Math.min(o-n,2);s<u;s++)t[n+s]=(e&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function w(t,e,n,r,i){i||(M(null!=e,"missing value"),M("boolean"==typeof r,"missing or invalid endian"),M(null!=n,"missing offset"),M(n+3<t.length,"trying to write beyond buffer length"),R(e,4294967295));var o=t.length;if(!(o<=n))for(var s=0,u=Math.min(o-n,4);s<u;s++)t[n+s]=e>>>8*(r?s:3-s)&255}function _(t,e,n,r,i){i||(M(null!=e,"missing value"),M("boolean"==typeof r,"missing or invalid endian"),M(null!=n,"missing offset"),M(n+1<t.length,"Trying to write beyond buffer length"),P(e,32767,-32768)),t.length<=n||b(t,0<=e?e:65535+e+1,n,r,i)}function E(t,e,n,r,i){i||(M(null!=e,"missing value"),M("boolean"==typeof r,"missing or invalid endian"),M(null!=n,"missing offset"),M(n+3<t.length,"Trying to write beyond buffer length"),P(e,2147483647,-2147483648)),t.length<=n||w(t,0<=e?e:4294967295+e+1,n,r,i)}function O(t,e,n,r,i){i||(M(null!=e,"missing value"),M("boolean"==typeof r,"missing or invalid endian"),M(null!=n,"missing offset"),M(n+3<t.length,"Trying to write beyond buffer length"),V(e,34028234663852886e22,-34028234663852886e22)),t.length<=n||f.write(t,e,n,r,23,4)}function I(t,e,n,r,i){i||(M(null!=e,"missing value"),M("boolean"==typeof r,"missing or invalid endian"),M(null!=n,"missing offset"),M(n+7<t.length,"Trying to write beyond buffer length"),V(e,17976931348623157e292,-17976931348623157e292)),t.length<=n||f.write(t,e,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(t){return!1}}(),i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=j(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=N(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(t,e){if(M(x(t),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===t.length)return new i(0);if(1===t.length)return t[0];if("number"!=typeof e)for(o=e=0;o<t.length;o++)e+=t[o].length;for(var n=new i(e),r=0,o=0;o<t.length;o++){var s=t[o];s.copy(n,r),r+=s.length}return n},i.prototype.write=function(t,e,n,r){var o;isFinite(e)?isFinite(n)||(r=n,n=void 0):(o=r,r=e,e=n,n=o),e=Number(e)||0;var s,u,a,c,l,h=this.length-e;switch((!n||h<(n=Number(n)))&&(n=h),r=String(r||"utf8").toLowerCase()){case"hex":s=function(t,e,n,r){n=Number(n)||0;var o=t.length-n;(!r||o<(r=Number(r)))&&(r=o);var s=e.length;M(s%2==0,"Invalid hex string"),s/2<r&&(r=s/2);for(var u=0;u<r;u++){var a=parseInt(e.substr(2*u,2),16);M(!isNaN(a),"Invalid hex string"),t[n+u]=a}return i._charsWritten=2*u,u}(this,t,e,n);break;case"utf8":case"utf-8":c=e,l=n,s=i._charsWritten=k(j(t),this,c,l);break;case"ascii":case"binary":s=function(t,e,n,r){return i._charsWritten=k(function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}(this,t,e,n);break;case"base64":u=e,a=n,s=i._charsWritten=k(N(t),this,u,a);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":s=function(t,e,n,r){return i._charsWritten=k(function(t){for(var e,n,r=[],i=0;i<t.length;i++)n=(e=t.charCodeAt(i))>>8,r.push(e%256),r.push(n);return r}(e),t,n,r)}(this,t,e,n);break;default:throw new Error("Unknown encoding")}return s},i.prototype.toString=function(t,e,n){var r,i,o,s,u=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,(n=void 0!==n?Number(n):n=u.length)===e)return"";switch(t){case"hex":r=function(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=e;o<n;o++)i+=A(t[o]);return i}(u,e,n);break;case"utf8":case"utf-8":r=function(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;o<n;o++)t[o]<=127?(r+=D(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+D(i)}(u,e,n);break;case"ascii":case"binary":r=function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}(u,e,n);break;case"base64":i=u,s=n,r=0===(o=e)&&s===i.length?h.fromByteArray(i):h.fromByteArray(i.slice(o,s));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(u,e,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(t,e,n,r){if(r||0===r||(r=this.length),e=e||0,r!==(n=n||0)&&0!==t.length&&0!==this.length){M(n<=r,"sourceEnd < sourceStart"),M(0<=e&&e<t.length,"targetStart out of bounds"),M(0<=n&&n<this.length,"sourceStart out of bounds"),M(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o=r-n;if(o<100||!i._useTypedArrays)for(var s=0;s<o;s++)t[s+e]=this[s+n];else t._set(this.subarray(n,n+o),e)}},i.prototype.slice=function(t,e){var n=this.length;if(t=S(t,n,0),e=S(e,n,n),i._useTypedArrays)return i._augment(this.subarray(t,e));for(var r=e-t,o=new i(r,void 0,!0),s=0;s<r;s++)o[s]=this[s+t];return o},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.readUInt8=function(t,e){if(e||(M(null!=t,"missing offset"),M(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return this[t]},i.prototype.readUInt16LE=function(t,e){return d(this,t,!0,e)},i.prototype.readUInt16BE=function(t,e){return d(this,t,!1,e)},i.prototype.readUInt32LE=function(t,e){return p(this,t,!0,e)},i.prototype.readUInt32BE=function(t,e){return p(this,t,!1,e)},i.prototype.readInt8=function(t,e){if(e||(M(null!=t,"missing offset"),M(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return 128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){return g(this,t,!0,e)},i.prototype.readInt16BE=function(t,e){return g(this,t,!1,e)},i.prototype.readInt32LE=function(t,e){return y(this,t,!0,e)},i.prototype.readInt32BE=function(t,e){return y(this,t,!1,e)},i.prototype.readFloatLE=function(t,e){return v(this,t,!0,e)},i.prototype.readFloatBE=function(t,e){return v(this,t,!1,e)},i.prototype.readDoubleLE=function(t,e){return m(this,t,!0,e)},i.prototype.readDoubleBE=function(t,e){return m(this,t,!1,e)},i.prototype.writeUInt8=function(t,e,n){n||(M(null!=t,"missing value"),M(null!=e,"missing offset"),M(e<this.length,"trying to write beyond buffer length"),R(t,255)),e>=this.length||(this[e]=t)},i.prototype.writeUInt16LE=function(t,e,n){b(this,t,e,!0,n)},i.prototype.writeUInt16BE=function(t,e,n){b(this,t,e,!1,n)},i.prototype.writeUInt32LE=function(t,e,n){w(this,t,e,!0,n)},i.prototype.writeUInt32BE=function(t,e,n){w(this,t,e,!1,n)},i.prototype.writeInt8=function(t,e,n){n||(M(null!=t,"missing value"),M(null!=e,"missing offset"),M(e<this.length,"Trying to write beyond buffer length"),P(t,127,-128)),e>=this.length||this.writeUInt8(0<=t?t:255+t+1,e,n)},i.prototype.writeInt16LE=function(t,e,n){_(this,t,e,!0,n)},i.prototype.writeInt16BE=function(t,e,n){_(this,t,e,!1,n)},i.prototype.writeInt32LE=function(t,e,n){E(this,t,e,!0,n)},i.prototype.writeInt32BE=function(t,e,n){E(this,t,e,!1,n)},i.prototype.writeFloatLE=function(t,e,n){O(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){O(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){I(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){I(this,t,e,!1,n)},i.prototype.fill=function(t,e,n){if(e=e||0,n=n||this.length,"string"==typeof(t=t||0)&&(t=t.charCodeAt(0)),M("number"==typeof t&&!isNaN(t),"value is not a number"),M(e<=n,"end < start"),n!==e&&0!==this.length){M(0<=e&&e<this.length,"start out of bounds"),M(0<=n&&n<=this.length,"end out of bounds");for(var r=e;r<n;r++)this[r]=t}},i.prototype.inspect=function(){for(var t=[],e=this.length,r=0;r<e;r++)if(t[r]=A(this[r]),r===n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;e<n;e+=1)t[e]=this[e];return t.buffer};var C=i.prototype;function S(t,e,n){return"number"!=typeof t?n:e<=(t=~~t)?e:0<=t||0<=(t+=e)?t:0}function T(t){return(t=~~Math.ceil(+t))<0?0:t}function x(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function A(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(t.charCodeAt(n));else{var i=n;55296<=r&&r<=57343&&n++;for(var o=encodeURIComponent(t.slice(i,n+1)).substr(1).split("%"),s=0;s<o.length;s++)e.push(parseInt(o[s],16))}}return e}function N(t){return h.toByteArray(t)}function k(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function D(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}function R(t,e){M("number"==typeof t,"cannot write a non-number as a number"),M(0<=t,"specified a negative value for writing an unsigned value"),M(t<=e,"value is larger than maximum value for type"),M(Math.floor(t)===t,"value has a fractional component")}function P(t,e,n){M("number"==typeof t,"cannot write a non-number as a number"),M(t<=e,"value larger than maximum allowed value"),M(n<=t,"value smaller than minimum allowed value"),M(Math.floor(t)===t,"value has a fractional component")}function V(t,e,n){M("number"==typeof t,"cannot write a non-number as a number"),M(t<=e,"value larger than maximum allowed value"),M(n<=t,"value smaller than minimum allowed value")}function M(t,e){if(!t)throw new Error(e||"Failed assertion")}i._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=C.get,t.set=C.set,t.write=C.write,t.toString=C.toString,t.toLocaleString=C.toString,t.toJSON=C.toJSON,t.copy=C.copy,t.slice=C.slice,t.readUInt8=C.readUInt8,t.readUInt16LE=C.readUInt16LE,t.readUInt16BE=C.readUInt16BE,t.readUInt32LE=C.readUInt32LE,t.readUInt32BE=C.readUInt32BE,t.readInt8=C.readInt8,t.readInt16LE=C.readInt16LE,t.readInt16BE=C.readInt16BE,t.readInt32LE=C.readInt32LE,t.readInt32BE=C.readInt32BE,t.readFloatLE=C.readFloatLE,t.readFloatBE=C.readFloatBE,t.readDoubleLE=C.readDoubleLE,t.readDoubleBE=C.readDoubleBE,t.writeUInt8=C.writeUInt8,t.writeUInt16LE=C.writeUInt16LE,t.writeUInt16BE=C.writeUInt16BE,t.writeUInt32LE=C.writeUInt32LE,t.writeUInt32BE=C.writeUInt32BE,t.writeInt8=C.writeInt8,t.writeInt16LE=C.writeInt16LE,t.writeInt16BE=C.writeInt16BE,t.writeInt32LE=C.writeInt32LE,t.writeInt32BE=C.writeInt32BE,t.writeFloatLE=C.writeFloatLE,t.writeFloatBE=C.writeFloatBE,t.writeDoubleLE=C.writeDoubleLE,t.writeDoubleBE=C.writeDoubleBE,t.fill=C.fill,t.inspect=C.inspect,t.toArrayBuffer=C.toArrayBuffer,t}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(t,e,n){(function(n,r,i,o,s,u,a,c,l){var h=new(i=t("buffer").Buffer)(4);h.fill(0),e.exports={hash:function(t,e,n,r){return i.isBuffer(t)||(t=new i(t)),function(t,e,n){for(var r=new i(e),o=n?r.writeInt32BE:r.writeInt32LE,s=0;s<t.length;s++)o.call(r,t[s],4*s,!0);return r}(e(function(t,e){t.length%4!=0&&(t=i.concat([t,h],t.length+(4-t.length%4)));for(var n=[],r=e?t.readInt32BE:t.readInt32LE,o=0;o<t.length;o+=4)n.push(r.call(t,o));return n}(t,r),8*t.length),n,r)}}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(t,e,n){(function(e,r,i,o,s,u,a,c,l){i=t("buffer").Buffer;var h=t("./sha"),f=t("./sha256"),d=t("./rng"),p={sha1:h,sha256:f,md5:t("./md5")},g=64,y=new i(g);function v(t,e){var n=p[t=t||"sha1"],r=[];return n||m("algorithm:",t,"is not yet supported"),{update:function(t){return i.isBuffer(t)||(t=new i(t)),r.push(t),this},digest:function(t){var o=i.concat(r),s=e?function(t,e,n){i.isBuffer(e)||(e=new i(e)),i.isBuffer(n)||(n=new i(n)),e.length>g?e=t(e):e.length<g&&(e=i.concat([e,y],g));for(var r=new i(g),o=new i(g),s=0;s<g;s++)r[s]=54^e[s],o[s]=92^e[s];var u=t(i.concat([r,n]));return t(i.concat([o,u]))}(n,e,o):n(o);return r=null,t?s.toString(t):s}}}function m(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}y.fill(0),n.createHash=function(t){return v(t)},n.createHmac=v,n.randomBytes=function(t,e){if(!e||!e.call)return new i(d(t));try{e.call(this,void 0,new i(d(t)))}catch(t){e(t)}},function(t,e){for(var n in t)e(t[n])}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(t){n[t]=function(){m("sorry,",t,"is not implemented yet")}})}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(t,e,n){(function(n,r,i,o,s,u,a,c,l){var h=t("./helpers");function f(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var u=n,a=r,c=i,l=o;n=p(n,r,i,o,t[s+0],7,-680876936),o=p(o,n,r,i,t[s+1],12,-389564586),i=p(i,o,n,r,t[s+2],17,606105819),r=p(r,i,o,n,t[s+3],22,-1044525330),n=p(n,r,i,o,t[s+4],7,-176418897),o=p(o,n,r,i,t[s+5],12,1200080426),i=p(i,o,n,r,t[s+6],17,-1473231341),r=p(r,i,o,n,t[s+7],22,-45705983),n=p(n,r,i,o,t[s+8],7,1770035416),o=p(o,n,r,i,t[s+9],12,-1958414417),i=p(i,o,n,r,t[s+10],17,-42063),r=p(r,i,o,n,t[s+11],22,-1990404162),n=p(n,r,i,o,t[s+12],7,1804603682),o=p(o,n,r,i,t[s+13],12,-40341101),i=p(i,o,n,r,t[s+14],17,-1502002290),n=g(n,r=p(r,i,o,n,t[s+15],22,1236535329),i,o,t[s+1],5,-165796510),o=g(o,n,r,i,t[s+6],9,-1069501632),i=g(i,o,n,r,t[s+11],14,643717713),r=g(r,i,o,n,t[s+0],20,-373897302),n=g(n,r,i,o,t[s+5],5,-701558691),o=g(o,n,r,i,t[s+10],9,38016083),i=g(i,o,n,r,t[s+15],14,-660478335),r=g(r,i,o,n,t[s+4],20,-405537848),n=g(n,r,i,o,t[s+9],5,568446438),o=g(o,n,r,i,t[s+14],9,-1019803690),i=g(i,o,n,r,t[s+3],14,-187363961),r=g(r,i,o,n,t[s+8],20,1163531501),n=g(n,r,i,o,t[s+13],5,-1444681467),o=g(o,n,r,i,t[s+2],9,-51403784),i=g(i,o,n,r,t[s+7],14,1735328473),n=y(n,r=g(r,i,o,n,t[s+12],20,-1926607734),i,o,t[s+5],4,-378558),o=y(o,n,r,i,t[s+8],11,-2022574463),i=y(i,o,n,r,t[s+11],16,1839030562),r=y(r,i,o,n,t[s+14],23,-35309556),n=y(n,r,i,o,t[s+1],4,-1530992060),o=y(o,n,r,i,t[s+4],11,1272893353),i=y(i,o,n,r,t[s+7],16,-155497632),r=y(r,i,o,n,t[s+10],23,-1094730640),n=y(n,r,i,o,t[s+13],4,681279174),o=y(o,n,r,i,t[s+0],11,-358537222),i=y(i,o,n,r,t[s+3],16,-722521979),r=y(r,i,o,n,t[s+6],23,76029189),n=y(n,r,i,o,t[s+9],4,-640364487),o=y(o,n,r,i,t[s+12],11,-421815835),i=y(i,o,n,r,t[s+15],16,530742520),n=v(n,r=y(r,i,o,n,t[s+2],23,-995338651),i,o,t[s+0],6,-198630844),o=v(o,n,r,i,t[s+7],10,1126891415),i=v(i,o,n,r,t[s+14],15,-1416354905),r=v(r,i,o,n,t[s+5],21,-57434055),n=v(n,r,i,o,t[s+12],6,1700485571),o=v(o,n,r,i,t[s+3],10,-1894986606),i=v(i,o,n,r,t[s+10],15,-1051523),r=v(r,i,o,n,t[s+1],21,-2054922799),n=v(n,r,i,o,t[s+8],6,1873313359),o=v(o,n,r,i,t[s+15],10,-30611744),i=v(i,o,n,r,t[s+6],15,-1560198380),r=v(r,i,o,n,t[s+13],21,1309151649),n=v(n,r,i,o,t[s+4],6,-145523070),o=v(o,n,r,i,t[s+11],10,-1120210379),i=v(i,o,n,r,t[s+2],15,718787259),r=v(r,i,o,n,t[s+9],21,-343485551),n=m(n,u),r=m(r,a),i=m(i,c),o=m(o,l)}return Array(n,r,i,o)}function d(t,e,n,r,i,o){return m((s=m(m(e,t),m(r,o)))<<(u=i)|s>>>32-u,n);var s,u}function p(t,e,n,r,i,o,s){return d(e&n|~e&r,t,e,i,o,s)}function g(t,e,n,r,i,o,s){return d(e&r|n&~r,t,e,i,o,s)}function y(t,e,n,r,i,o,s){return d(e^n^r,t,e,i,o,s)}function v(t,e,n,r,i,o,s){return d(n^(e|~r),t,e,i,o,s)}function m(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}e.exports=function(t){return h.hash(t,f,16)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(t,e,n){(function(t,n,r,i,o,s,u,a,c){e.exports=function(t){for(var e,n=new Array(t),r=0;r<t;r++)0==(3&r)&&(e=4294967296*Math.random()),n[r]=e>>>((3&r)<<3)&255;return n}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(t,e,n){(function(n,r,i,o,s,u,a,c,l){var h=t("./helpers");function f(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var n,r,i,o,s,u=Array(80),a=1732584193,c=-271733879,l=-1732584194,h=271733878,f=-1009589776,g=0;g<t.length;g+=16){for(var y=a,v=c,m=l,b=h,w=f,_=0;_<80;_++){u[_]=_<16?t[g+_]:p(u[_-3]^u[_-8]^u[_-14]^u[_-16],1);var E=d(d(p(a,5),(i=c,o=l,s=h,(r=_)<20?i&o|~i&s:!(r<40)&&r<60?i&o|i&s|o&s:i^o^s)),d(d(f,u[_]),(n=_)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));f=h,h=l,l=p(c,30),c=a,a=E}a=d(a,y),c=d(c,v),l=d(l,m),h=d(h,b),f=d(f,w)}return Array(a,c,l,h,f)}function d(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function p(t,e){return t<<e|t>>>32-e}e.exports=function(t){return h.hash(t,f,20,!0)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(t,e,n){(function(n,r,i,o,s,u,a,c,l){function h(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function f(t,e){return t>>>e|t<<32-e}function d(t,e){var n,r,i,o,s,u,a,c,l,d,p=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),g=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),y=new Array(64);t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var v,m,b,w,_,E,O,I,C=0;C<t.length;C+=16){n=g[0],r=g[1],i=g[2],o=g[3],s=g[4],u=g[5],a=g[6],c=g[7];for(var S=0;S<64;S++)y[S]=S<16?t[S+C]:h(h(h(f(I=y[S-2],17)^f(I,19)^I>>>10,y[S-7]),f(O=y[S-15],7)^f(O,18)^O>>>3),y[S-16]),l=h(h(h(h(c,f(E=s,6)^f(E,11)^f(E,25)),(_=s)&u^~_&a),p[S]),y[S]),d=h(f(w=n,2)^f(w,13)^f(w,22),(v=n)&(m=r)^v&(b=i)^m&b),c=a,a=u,u=s,s=h(o,l),o=i,i=r,r=n,n=h(l,d);g[0]=h(n,g[0]),g[1]=h(r,g[1]),g[2]=h(i,g[2]),g[3]=h(o,g[3]),g[4]=h(s,g[4]),g[5]=h(u,g[5]),g[6]=h(a,g[6]),g[7]=h(c,g[7])}return g}var p=t("./helpers");e.exports=function(t){return p.hash(t,d,32,!0)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(t,e,n){(function(t,n,r,i,o,s,u,a,c){function l(){}(t=e.exports={}).nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;e!==window&&null!==e||"process-tick"!==t.data||(t.stopPropagation(),0<n.length&&n.shift()())},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),t.title="browser",t.browser=!0,t.env={},t.argv=[],t.on=l,t.addListener=l,t.once=l,t.off=l,t.removeListener=l,t.removeAllListeners=l,t.emit=l,t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(t,e,n){(function(t,e,r,i,o,s,u,a,c){n.read=function(t,e,n,r,i){var o,s,u=8*i-r-1,a=(1<<u)-1,c=a>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=u;0<l;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;0<l;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===a)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,u,a,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),2<=(e+=1<=s+h?f/a:f*Math.pow(2,1-h))*a&&(s++,a/=2),l<=s+h?(u=0,s=l):1<=s+h?(u=(e*a-1)*Math.pow(2,i),s+=h):(u=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));8<=i;t[n+d]=255&u,d+=p,u/=256,i-=8);for(s=s<<i|u,c+=i;0<c;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*g}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return ln}),n.d(e,"b",function(){return aa}),n.d(e,"c",function(){return ra}),n.d(e,"d",function(){return ea}),n.d(e,"e",function(){return na}),n.d(e,"f",function(){return ec}),n.d(e,"g",function(){return Ga}),n.d(e,"h",function(){return uu}),n.d(e,"i",function(){return ba}),n.d(e,"j",function(){return Rs}),n.d(e,"k",function(){return ha}),n.d(e,"l",function(){return Ls}),n.d(e,"m",function(){return Or}),n.d(e,"n",function(){return Lu}),n.d(e,"o",function(){return oo}),n.d(e,"p",function(){return bn}),n.d(e,"q",function(){return cn}),n.d(e,"r",function(){return Eo}),n.d(e,"s",function(){return eu}),n.d(e,"t",function(){return nu}),n.d(e,"u",function(){return la}),n.d(e,"v",function(){return mu}),n.d(e,"w",function(){return $a}),n.d(e,"x",function(){return vu}),n.d(e,"y",function(){return Fa}),n.d(e,"z",function(){return Ea}),n.d(e,"A",function(){return wn}),n.d(e,"B",function(){return ua}),n.d(e,"C",function(){return sa}),n.d(e,"D",function(){return Fs}),n.d(e,"E",function(){return Us}),n.d(e,"F",function(){return Tr}),n.d(e,"G",function(){return Hs}),n.d(e,"H",function(){return mr}),n.d(e,"I",function(){return En}),n.d(e,"J",function(){return Ka}),n.d(e,"K",function(){return du}),n.d(e,"L",function(){return Aa}),n.d(e,"M",function(){return hn}),n.d(e,"N",function(){return zs}),n.d(e,"O",function(){return Bs}),n.d(e,"P",function(){return wu}),n.d(e,"Q",function(){return L}),n.d(e,"R",function(){return qa}),n.d(e,"S",function(){return La}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Ma}),n.d(e,"V",function(){return Ja}),n.d(e,"W",function(){return ka}),n.d(e,"X",function(){return ca}),n.d(e,"Y",function(){return uo}),n.d(e,"Z",function(){return ws}),n.d(e,"ab",function(){return yr}),n.d(e,"bb",function(){return Jn}),n.d(e,"cb",function(){return Hn}),n.d(e,"db",function(){return zn}),n.d(e,"eb",function(){return Yn}),n.d(e,"fb",function(){return Wn}),n.d(e,"gb",function(){return Gn}),n.d(e,"hb",function(){return $n}),n.d(e,"ib",function(){return ys}),n.d(e,"jb",function(){return Xa}),n.d(e,"kb",function(){return vs}),n.d(e,"lb",function(){return ms}),n.d(e,"mb",function(){return Bn}),n.d(e,"nb",function(){return B}),n.d(e,"ob",function(){return ko}),n.d(e,"pb",function(){return Yo}),n.d(e,"qb",function(){return $o}),n.d(e,"rb",function(){return gs}),n.d(e,"sb",function(){return Nt}),n.d(e,"tb",function(){return v}),n.d(e,"ub",function(){return qn}),n.d(e,"vb",function(){return Io}),n.d(e,"wb",function(){return Ct}),n.d(e,"xb",function(){return Ns}),n.d(e,"yb",function(){return ci}),n.d(e,"zb",function(){return Vo}),n.d(e,"Ab",function(){return ns}),n.d(e,"Bb",function(){return Zu}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return ut}),n.d(e,"Eb",function(){return O}),n.d(e,"Fb",function(){return I}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return Lo}),n.d(e,"Jb",function(){return Bo}),n.d(e,"Kb",function(){return Go}),n.d(e,"Lb",function(){return zo}),n.d(e,"Mb",function(){return Ho}),n.d(e,"Nb",function(){return qo}),n.d(e,"Ob",function(){return Wo}),n.d(e,"Pb",function(){return on}),n.d(e,"Qb",function(){return hs}),n.d(e,"Rb",function(){return kn}),n.d(e,"Sb",function(){return sn}),n.d(e,"Tb",function(){return ta}),n.d(e,"Ub",function(){return Qo}),n.d(e,"Vb",function(){return Xu}),n.d(e,"Wb",function(){return Xo}),n.d(e,"Xb",function(){return Vu}),n.d(e,"Yb",function(){return Mu}),n.d(e,"Zb",function(){return Uo}),n.d(e,"ac",function(){return Pu}),n.d(e,"bc",function(){return Ku}),n.d(e,"cc",function(){return Qt}),n.d(e,"dc",function(){return br}),n.d(e,"ec",function(){return ot}),n.d(e,"fc",function(){return Mo}),n.d(e,"gc",function(){return us}),n.d(e,"hc",function(){return as}),n.d(e,"ic",function(){return cs}),n.d(e,"jc",function(){return ls});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(v).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function m(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return v(this())},t}function _(t){return E(t)?t():t}function E(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return S(t,x)||S(t,j)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(N))?t[A]:null}const x=g({"\u0275prov":g}),A=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),N=g({ngInjectorDef:g});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function R(t){const e=D;return D=t,e}function P(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${v(t)}]`)}function V(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,B=U||H||F||q,z={},G=[],W=g({"\u0275cmp":g}),$=g({"\u0275dir":g}),Y=g({"\u0275pipe":g}),Q=g({"\u0275mod":g}),K=g({"\u0275loc":g}),Z=g({"\u0275fac":g}),X=g({__NG_ELEMENT_ID__:g});let J=0;function tt(t){return V(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[Y]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&V(()=>{rt[t.id]=t.type}),e}function ot(t,e){return V(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ut=tt;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[W]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${v(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function yt(t){return 2==(2&t.flags)}function vt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Ot(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Et(t)} found${n}`)}class It{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ct(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),Tt}function Tt(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new It(a&&a.currentValue,e,s===z),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}Ct.ngInherit=!0;let jt=void 0;function Nt(t){jt=t}function kt(t){return!!t.listen}const Dt={createRenderer:(t,e)=>void 0!==jt?jt:"undefined"!=typeof document?document:void 0};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return Rt(e[t])}function Vt(t,e){return Rt(e[t.index])}function Mt(t,e){return t.data[e]}function Lt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function zt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Gt={lFrame:ge(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wt(){return Gt.bindingsEnabled}function $t(){return Gt.lFrame.lView}function Yt(){return Gt.lFrame.tView}function Qt(t){Gt.lFrame.contextLView=t}function Kt(){let t=Zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zt(){return Gt.lFrame.currentTNode}function Xt(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return Gt.lFrame.isParent}function te(){Gt.lFrame.isParent=!1}function ee(){return Gt.isInCheckNoChangesMode}function ne(t){Gt.isInCheckNoChangesMode=t}function re(){const t=Gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ie(){return Gt.lFrame.bindingIndex}function oe(){return Gt.lFrame.bindingIndex++}function se(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ue(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){Gt.lFrame.currentDirectiveIndex=t}function ce(){return Gt.lFrame.currentQueryIndex}function le(t){Gt.lFrame.currentQueryIndex=t}function he(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function fe(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=he(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Gt.lFrame=pe();return r.currentTNode=e,r.lView=t,!0}function de(t){const e=pe(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pe(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?ge(t):e}function ge(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ye(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ve=ye;function me(){const t=ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function be(){return Gt.lFrame.selectedIndex}function we(t){Gt.lFrame.selectedIndex=t}function _e(){const t=Gt.lFrame;return Mt(t.tView,t.selectedIndex)}function Ee(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function Oe(t,e,n){Se(t,e,3,n)}function Ie(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function Ce(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(Te(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Te(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const xe=-1;class Ae{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function je(t,e,n){const r=kt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];ke(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Ne(t){return 3===t||4===t||6===t}function ke(t){return 64===t.charCodeAt(0)}function De(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Re(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Re(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Pe(t){return t!==xe}function Ve(t){return 32767&t}function Me(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Le=!0;function Ue(t){const e=Le;return Le=t,e}let Fe=0;function qe(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,He(r.data,t),He(e,null),He(r.blueprint,null));const i=ze(t,e),o=t.injectorIndex;if(Pe(i)){const t=Ve(i),n=Me(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function He(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ze(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xe}function Ge(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Fe++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function We(t,e,n){if(n&k.Optional)return t;Ot(e,"NodeInjector")}function $e(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=R(void 0);try{return i?i.get(e,r,n&k.Optional):P(e,r,n&k.Optional)}finally{R(o)}}return We(r,e,n)}function Ye(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof o){if(!fe(e,t,r))return r&k.Host?We(i,n,r):$e(e,n,r,i);try{const t=o();if(null!=t||r&k.Optional)return t;Ot(n)}finally{ve()}}else if("number"==typeof o){let i=null,s=Be(t,e),u=xe,a=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(u=-1===s?ze(t,e):e[s+8],u!==xe&&en(r,!1)?(i=e[1],s=Ve(u),e=Me(u,e)):s=-1);-1!==s;){const t=e[1];if(tn(o,s,t.data)){const t=Ze(s,e,n,i,r,a);if(t!==Qe)return t}u=e[s+8],u!==xe&&en(r,e[1].data[s+8]===a)&&tn(o,s,e)?(i=t,s=Ve(u),e=Me(u,e)):s=-1}}}return $e(e,n,r,i)}const Qe={};function Ke(){return new nn(Kt(),$t())}function Ze(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=Xe(u,s,n,null==r?yt(u)&&Le:r!=s&&0!=(3&u.type),i&k.Host&&o===u);return null!==a?Je(e,s,a,u):Qe}function Xe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&mt(t)&&t.type===n)return a}return null}function Je(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ae){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Et(o[n]));const u=Ue(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?R(s.injectImpl):null;fe(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&R(a),Ue(u),s.resolving=!1,ve()}}return i}function tn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function en(t,e){return!(t&k.Self||t&k.Host&&e)}class nn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ye(this._tNode,this._lView,t,void 0,e)}}function rn(t){const e=t;if(E(t))return()=>{const t=rn(_(e));return t?t():null};let n=bt(e);if(null===n){const t=T(e);n=t&&t.factory}return n||null}function on(t){return V(()=>{const e=t.prototype.constructor,n=e[Z]||rn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||rn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function sn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ne(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const un="__parameters__";function an(t,e,n){return V(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(un)?t[un]:Object.defineProperty(t,un,{value:[]})[un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class cn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const ln=new cn("AnalyzeForEntryComponents"),hn=Function;function fn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),fn(r,e)):e!==t&&e.push(r)}return e}function dn(t,e){t.forEach(t=>Array.isArray(t)?dn(t,e):e(t))}function pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yn(t,e,n){let r=mn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vn(t,e){const n=mn(t,e);if(n>=0)return t[1|n]}function mn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const bn=an("Inject",t=>({token:t})),wn=an("Optional"),_n=an("Self"),En=an("SkipSelf"),On=an("Host"),In={},Cn=/\n/gm,Sn="__source",Tn=g({provide:String,useValue:g});let xn,An=void 0;function jn(t){const e=An;return An=t,e}function Nn(t,e=k.Default){if(void 0===An)throw new Error("inject() must be called from an injection context");return null===An?P(t,void 0,e):An.get(t,e&k.Optional?null:void 0,e)}function kn(t,e=k.Default){return(D||Nn)(_(t),e)}function Dn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof wn||"Optional"===i.ngMetadataName||i===wn?n|=k.Optional:i instanceof En||"SkipSelf"===i.ngMetadataName||i===En?n|=k.SkipSelf:i instanceof _n||"Self"===i.ngMetadataName||i===_n?n|=k.Self:i instanceof On||"Host"===i.ngMetadataName||i===On?n|=k.Host:t=i instanceof bn||i===bn?i.token:i}e.push(kn(t,n))}else e.push(kn(r))}return e}function Rn(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,B.trustedTypes))try{xn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}class Pn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Vn extends Pn{getTypeName(){return"HTML"}}class Mn extends Pn{getTypeName(){return"Style"}}class Ln extends Pn{getTypeName(){return"Script"}}class Un extends Pn{getTypeName(){return"URL"}}class Fn extends Pn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Hn(t,e){const n=Bn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Bn(t){return t instanceof Pn&&t.getTypeName()||null}function zn(t){return new Vn(t)}function Gn(t){return new Mn(t)}function Wn(t){return new Ln(t)}function $n(t){return new Un(t)}function Yn(t){return new Fn(t)}class Qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Rn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Kn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Rn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Rn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match(Zn)||t.match(Xn)?t:"unsafe:"+t}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),or=er(ir,rr),sr=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ur=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=tr("srcset"),cr=er(ur,ar,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!cr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ur[o]&&(s=Jn(s)),ar[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Jn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function yr(t,e){let n=null;try{gr=gr||function(t){const e=new Kn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Rn(""),"text/html")}catch(t){return!1}}()?new Qn(e):e}(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==o);return(new hr).sanitizeChildren(vr(n)||n)}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(mr.URL,t)||"":Hn(t,"URL")?qn(t):Jn(_t(t))}function wr(t){return t.ngDebugContext}function _r(t){return t.ngOriginalError}function Er(t,...e){t.error(...e)}class Or{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Er}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?wr(t)?wr(t):this._findContext(_r(t)):null}_findOriginalError(t){let e=_r(t);for(;e&&_r(e);)e=_r(e);return e}}function Ir(t,e){t.__ngContext__=e}const Cr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Sr(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function xr(t,e){return(void 0)(t,e)}function Ar(t){const e=t[3];return pt(e)?e[3]:e}function jr(t){return kr(t[13])}function Nr(t){return kr(t[4])}function kr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Dr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const u=Rt(r);0===t&&null!==n?null==i?Fr(e,n,u):Ur(e,n,u,i||null,!0):1===t&&null!==n?Ur(e,n,u,i||null,!0):2===t?function(t,e,n){const r=Hr(t,e);r&&function(t,e,n,r){kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Rt(n)&&Dr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];$r(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Rr(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Pr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,zt(i,-1)),n.splice(r,1)}function Vr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Pr(o,r),e>0&&(t[n-1][4]=r[4]);const s=gn(t,ft+e);$r(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&$r(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Lr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Lr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Lr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Lr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ae)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Rt(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Pr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ur(t,e,n,r,i){kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Fr(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function qr(t,e,n,r,i){null!==r?Ur(t,e,n,r,i):Fr(t,e,n)}function Hr(t,e){return kt(t)?t.parentNode(e):e.parentNode}function Br(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Vt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Vt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)qr(o,i,n[u],s,!1);else qr(o,i,n,s,!1)}function zr(t,e){if(null!==e){const n=e.type;if(3&n)return Vt(e,t);if(4&n)return Gr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zr(t,n);{const n=t[e.index];return pt(n)?Gr(-1,n):Rt(n)}}if(32&n)return xr(e,t)()||Rt(t[e.index]);{const n=t[16],r=n[6],i=Ar(n),o=r.projection[e.projection];return null!=o?zr(i,o):zr(t,e.next)}}return null}function Gr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return zr(t,r)}return e[7]}function Wr(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&Ir(Rt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)Wr(t,e,n.child,r,i,o,!1),Dr(e,t,i,u,o);else if(32&a){const s=xr(n,r);let a;for(;a=s();)Dr(e,t,i,a,o);Dr(e,t,i,u,o)}else 16&a?Yr(t,e,r,n,i,o):Dr(e,t,i,u,o);n=s?n.projectionNext:n.next}}function $r(t,e,n,r,i,o){Wr(n,r,t.firstChild,e,i,o,!1)}function Yr(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)Dr(e,t,i,u[a],o);else Wr(t,e,u,s[3],i,o,!0)}function Qr(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Kr(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Xr="ng-template";function Jr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ti(t){return 4===t.type&&t.value!==Xr}function ei(t,e,n){return e===(4!==t.type||n?t.value:Xr)}function ni(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ne(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!ei(t,a,n)||""===a&&1===e.length){if(ri(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!Jr(t.attrs,c,n)){if(ri(r))return!1;s=!0}continue}const l=ii(8&r?"class":a,i,ti(t),n);if(-1===l){if(ri(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Zr(e,c,0)||2&r&&c!==t){if(ri(r))return!1;s=!0}}}}else{if(!s&&!ri(r)&&!ri(a))return!1;if(s&&ri(a))continue;s=!1,r=a|1&r}}return ri(r)||s}function ri(t){return 0==(1&t)}function ii(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function oi(t,e,n=!1){for(let r=0;r<e.length;r++)if(ni(t,e[r],n))return!0;return!1}function si(t,e){return t?":not("+e.trim()+")":e}function ui(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ri(s)||(e+=si(o,i),i=""),r=s,o=o||!ri(r);n++}return""!==i&&(e+=si(o,i)),e}const ai={};function ci(t){li(Yt(),$t(),be()+t,ee())}function li(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Oe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ie(e,r,0,n)}we(n)}function hi(t,e){return t<<17|e<<2}function fi(t){return t>>17&32767}function di(t){return 2|t}function pi(t){return(131068&t)>>2}function gi(t,e){return-131069&t|e<<2}function yi(t){return 1|t}function vi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];le(i),n.contentQueries(2,e[o],o)}}}function mi(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function bi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Zt(),s=Jt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),Gt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Xt(o,!0),o}function wi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _i(t,e,n){de(e);try{const r=t.viewQuery;null!==r&&Zi(1,r,n);const i=t.template;null!==i&&Ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vi(t,e),t.staticViewQueries&&Zi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,me()}}function Ei(t,e,n,r){const i=e[2];if(256==(256&i))return;de(e);const o=ee();try{Bt(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ii(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ie(e,n,0,null),Ce(e,0)}if(function(t){for(let e=jr(t);null!==e;e=Nr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&zt(r,1),n[2]|=1024}}}(e),function(t){for(let e=jr(t);null!==e;e=Nr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&Ei(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&vi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&Ie(e,n,1),Ce(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)we(~r);else{const i=r,o=n[++t],s=n[++t];ue(o,i),s(2,e[i])}}}finally{we(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&Zi(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&Ie(e,n,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,zt(e[3],-1))}finally{me()}}function Oi(t,e,n,r){const i=e[10],o=!ee(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&_i(t,e,r),Ei(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ii(t,e,n,r,i){const o=be();try{we(-1),2&r&&e.length>ht&&li(t,e,ht,ee()),n(r,i)}finally{we(o)}}function Ci(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Si(t,e,n){Wt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||qe(n,e),Ir(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=mt(r);o&&Fi(e,n,r);const a=Je(e,t,u,n);Ir(a,e),null!==s&&qi(0,u-i,a,r,0,s),o&&(Lt(n.index,e)[8]=a)}}(t,e,n,Vt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Gt.lFrame.currentDirectiveIndex;try{we(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ae(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Pi(r,i)}}finally{we(-1),ae(s)}}(t,e,n))}function Ti(t,e,n=Vt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ai(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ai(t,e,n,r,i,o,s,u,a,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ai);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function ji(t,e,n,r){const i=Ji(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&to(t).push(r,i.length-1))}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ki(t,e,n,r,i,o,s,u){const a=Vt(e,n);let c,l=e.inputs;var h;!u&&null!=l&&(c=l[r])?(no(t,n,c,r,i),yt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,kt(o)?o.setProperty(a,r,i):ke(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function Di(t,e,n,r){let i=!1;if(Wt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];oi(n,s.selectors,!1)&&(i||(i=[]),Ge(qe(n,e),t,s.type),mt(s)?(Vi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Li(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=wi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=De(n.mergedAttrs,c.hostAttrs),Ui(t,n,e,a,c),Mi(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||ti(e)?null:Hi(n,i);o.push(c),s=Ni(n,a,s),u=Ni(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=De(n.mergedAttrs,n.attrs),i}function Ri(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Pi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Vi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Mi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Li(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ui(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Ae(o,mt(i),null);t.blueprint[r]=s,n[r]=s,Ri(t,e,0,r,wi(t,n,i.hostVars,ai),i)}function Fi(t,e,n){const r=Vt(e,t),i=xi(n),o=t[10],s=$i(t,mi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function qi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function Hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function zi(t,e){const n=Lt(e,t);if(qt(n)){const t=n[1];80&n[2]?Ei(t,n,t.template,n[8]):n[5]>0&&Gi(n)}}function Gi(t){for(let n=jr(t);null!==n;n=Nr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ei(t,e,t.template,e[8])}else e[5]>0&&Gi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);qt(r)&&r[5]>0&&Gi(r)}}function Wi(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),_i(r,n,n[8])}function $i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Yi(t){for(;t;){t[2]|=64;const e=Ar(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Qi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ei(t,e,t.template,n)}catch(i){throw eo(e,i),i}finally{r.end&&r.end()}}function Ki(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];Oi(i,r,i.template,n)}}(t[8])}function Zi(t,e,n){le(0),e(t,n)}const Xi=(()=>Promise.resolve(null))();function Ji(t){return t[7]||(t[7]=[])}function to(t){return t.cleanup||(t.cleanup=[])}function eo(t,e){const n=t[9],r=n?n.get(Or,null):null;r&&r.handleError(e)}function no(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function ro(t,e,n){const r=Pt(e,t);!function(t,e,n){kt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function io(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=m(i,t):2==o&&(r=m(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const oo=new cn("INJECTOR",-1);class so{get(t,e=In){if(e===In){const e=new Error(`NullInjectorError: No provider for ${v(t)}!`);throw e.name="NullInjectorError",e}return e}}const uo=new cn("Set Injector scope."),ao={},co={},lo=[];let ho=void 0;function fo(){return void 0===ho&&(ho=new so),ho}function po(t,e=null,n=null,r){return new go(t,n,e||fo(),r)}class go{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&dn(e,n=>this.processProvider(n,t,e)),dn([t],t=>this.processInjectorType(t,[],i)),this.records.set(oo,mo(void 0,this));const o=this.records.get(uo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:v(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=In,n=k.Default){this.assertNotDestroyed();const r=jn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof cn)&&C(t);e=n&&this.injectableDefInScope(n)?mo(yo(t),ao):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?fo():this.parent).get(t,e=n&k.Optional&&e===In?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(v(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Sn]&&i.unshift(e[Sn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=v(e);if(Array.isArray(e))i=e.map(v).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):v(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Cn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{jn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(v(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{dn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];dn(r,t=>this.processProvider(t,n,r||lo))}}this.injectorDefTypes.add(o),this.records.set(o,mo(r.factory,ao));const u=r.providers;if(null!=u&&!s){const e=t;dn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=wo(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return bo(t)?mo(void 0,t.useValue):mo(vo(t),ao)}(t);if(wo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=mo(void 0,ao,!0),e.factory=()=>Dn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ao&&(e.value=co,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function yo(t){const e=C(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof cn)throw new Error(`Token ${v(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${v(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function vo(t,e,n){let r=void 0;if(wo(t)){const e=_(t);return bt(e)||yo(e)}if(bo(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>kn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||yo(e);r=()=>new e(...Dn(t.deps))}var i;return r}function mo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bo(t){return null!==t&&"object"==typeof t&&Tn in t}function wo(t){return"function"==typeof t}const _o=function(t,e,n){return function(t,e=null,n=null,r){const i=po(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Eo=(()=>{class t{static create(t,e){return Array.isArray(t)?_o(t,e,""):_o(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=In,t.NULL=new so,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>kn(oo)}),t.__NG_ELEMENT_ID__=-1,t})();function Oo(t,e){Ee(Ut(t)[1],Kt())}function Io(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Co(t.inputs),e.declaredInputs=Co(t.declaredInputs),e.outputs=Co(t.outputs);const n=i.hostBindings;n&&xo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&So(t,o),s&&To(t,s),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Io&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=De(i.hostAttrs,n=De(n,i.hostAttrs))}}(r)}function Co(t){return t===z?{}:t===G?[]:t}function So(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function To(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function xo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ao=null;function jo(){if(!Ao){const t=B.Symbol;if(t&&t.iterator)Ao=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ao=n)}}}return Ao}class No{constructor(t){this.wrapped=t}static wrap(t){return new No(t)}static unwrap(t){return No.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof No}}function ko(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&jo()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ro(t,e,n){return t[e]=n}function Po(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Vo(t,e,n,r){const i=$t();return Po(i,oe(),e)&&(Yt(),function(t,e,n,r,i,o){const s=Vt(t,e);!function(t,e,n,r,i,o,s){if(null==o)kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?_t(o):s(o,r||"",i);kt(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],s,o,t.value,n,r,i)}(_e(),i,t,e,n,r)),Vo}function Mo(t,e,n,r,i,o,s,u){const a=$t(),c=Yt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=bi(e,t,4,s||null,Ht(c,u));Di(e,n,l,Ht(c,a)),Ee(e,l);const h=l.tViews=Ai(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Xt(h,!1);const f=a[11].createComment("");Br(c,a,f,h),Ir(f,a),$i(a,a[l]=Bi(f,a,f,h)),vt(h)&&Si(c,a,h),null!=s&&Ti(a,h,u)}function Lo(t,e=k.Default){const n=$t();return null===n?kn(t,e):Ye(Kt(),n,_(t),e)}function Uo(t,e,n){const r=$t();return Po(r,oe(),e)&&ki(Yt(),_e(),r,t,e,r[11],n,!1),Uo}function Fo(t,e,n,r,i){const o=i?"class":"style";no(t,n,e.inputs[o],o,r)}function qo(t,e,n,r){const i=$t(),o=Yt(),s=ht+t,u=i[11],a=i[s]=Rr(u,e,Gt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=bi(e,t,2,i,Ht(u,o));return Di(e,n,a,Ht(u,s)),null!==a.attrs&&io(a,a.attrs,!1),null!==a.mergedAttrs&&io(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Xt(c,!0);const l=c.mergedAttrs;null!==l&&je(u,a,l);const h=c.classes;null!==h&&Kr(u,a,h);const f=c.styles;null!==f&&Qr(u,a,f),64!=(64&c.flags)&&Br(o,i,a,c),0===Gt.lFrame.elementDepthCount&&Ir(a,i),Gt.lFrame.elementDepthCount++,vt(c)&&(Si(o,i,c),Ci(o,c,i)),null!==r&&Ti(i,c)}function Ho(){let t=Kt();Jt()?te():(t=t.parent,Xt(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=Yt();n.firstCreatePass&&(Ee(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Fo(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Fo(n,e,$t(),e.stylesWithoutHost,!1)}function Bo(t,e,n,r){qo(t,e,n,r),Ho()}function zo(t,e,n){const r=$t(),i=Yt(),o=t+ht,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ht(o,r),u=bi(e,t,8,"ng-container",s);return null!==s&&io(u,s,!0),Di(e,n,u,Ht(o,i)),null!==e.queries&&e.queries.elementStart(e,u),u}(o,i,r,e,n):i.data[o];Xt(s,!0);const u=r[o]=r[11].createComment("");Br(i,r,u,s),Ir(u,r),vt(s)&&(Si(i,r,s),Ci(i,s,r)),null!=n&&Ti(r,s)}function Go(){let t=Kt();const e=Yt();Jt()?te():(t=t.parent,Xt(t,!1)),e.firstCreatePass&&(Ee(e,t),gt(t)&&e.queries.elementEnd(t))}function Wo(){return $t()}function $o(t){return!!t&&"function"==typeof t.then}function Yo(t){return!!t&&"function"==typeof t.subscribe}function Qo(t,e,n=!1,r){const i=$t(),o=Yt(),s=Kt();return function(t,e,n,r,i,o,s=!1,u){const a=vt(r),c=t.firstCreatePass&&to(t),l=Ji(e);let h=!0;if(3&r.type){const f=Vt(r,e),d=u?u(f):z,p=d.target||f,g=l.length,y=u?t=>u(Rt(t[r.index])).target:r.index;if(kt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Zo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,g,g+1)}}else o=Zo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,g,s)}else o=Zo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Qo}function Ko(t,e,n){try{return!1!==e(n)}catch(r){return eo(t,r),!1}}function Zo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&Yi(s);let u=Ko(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=Ko(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Xo(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}const Jo=[];function ts(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?fi(o):pi(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];es(t[u],e)&&(a=!0,t[u+1]=r?yi(n):di(n)),u=r?fi(n):pi(n)}a&&(t[n+1]=r?di(o):yi(o))}function es(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mn(t,e)>=0}function ns(t,e){return function(t,e,n,r){const i=$t(),o=Yt(),s=se(2);o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[be()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=is(n=rs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=rs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==pi(r))return t[fi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=rs(null,t,e,n[1],r),n=is(n,e.attrs,r),function(t,e,n,r){t[fi(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=is(r,t[o].hostAttrs,true);return is(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,u=fi(s),a=pi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=fi(t[u+1]);t[r+1]=hi(e,u),0!==e&&(t[e+1]=gi(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=hi(u,0),0!==u&&(t[u+1]=gi(t[u+1],r)),u=r;else t[r+1]=hi(a,0),0===u?u=r:t[a+1]=gi(t[a+1],r),a=r;l&&(t[r+1]=di(t[r+1])),ts(t,c,r,!0),ts(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&mn(o,e)>=0&&(n[r+1]=yi(n[r+1]))}(e,c,t,r),s=hi(u,a),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ai&&Po(i,s,e)&&function(t,e,n,r,i,o,s,u){if(!(3&e.type))return;const a=t.data,c=a[u+1];ss(1==(1&c)?os(a,e,n,i,pi(c),s):void 0)||(ss(o)||function(t){return 2==(2&t)}(c)&&(o=os(a,null,n,i,u,s)),function(t,e,n,r,i){const o=kt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Pt(be(),n),i,o))}(o,o.data[be()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=v(qn(t))),t}(e),true,s)}(t,e),ns}function rs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=is(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function is(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yn(t,s,!!n||e[++o]))}return void 0===t?null:t}function os(t,e,n,r,i,o){const s=null===e;let u=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===ai&&(l=c?Jo:void 0);let h=c?vn(l,r):a===r?l:void 0;if(o&&!ss(h)&&(h=vn(e,r)),ss(h)&&(u=h,s))return u;const f=t[i+1];i=s?fi(f):pi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=vn(t,r))}return u}function ss(t){return void 0!==t}function us(t,e=""){const n=$t(),r=Yt(),i=t+ht,o=r.firstCreatePass?bi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Br(r,n,s,o),Xt(o,!1)}function as(t){return cs("",t,""),as}function cs(t,e,n){const r=$t(),i=function(t,e,n,r){return Po(t,oe(),n)?e+_t(n)+r:ai}(r,t,e,n);return i!==ai&&ro(r,be(),i),cs}function ls(t,e,n,r,i){const o=$t(),s=function(t,e,n,r,i,o){const s=function(t,e,n,r){const i=Po(t,e,n);return Po(t,e+1,r)||i}(t,ie(),n,i);return se(2),s?e+_t(n)+r+_t(i)+o:ai}(o,t,e,n,r,i);return s!==ai&&ro(o,be(),s),ls}function hs(t,e,n){const r=$t();return Po(r,oe(),e)&&ki(Yt(),_e(),r,t,e,r[11],n,!0),hs}const fs=void 0;var ds=["en",[["a","p"],["AM","PM"],fs],[["AM","PM"],fs,fs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fs,"{1} 'at' {0}",fs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ps={};function gs(t,e,n){"string"!=typeof e&&(n=e,e=t[ws.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ps[e]=t,n&&(ps[e][ws.ExtraData]=n)}function ys(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=bs(e);if(n)return n;const r=e.split("-")[0];if(n=bs(r),n)return n;if("en"===r)return ds;throw new Error(`Missing locale data for the locale "${t}".`)}function vs(t){return ys(t)[ws.CurrencyCode]||null}function ms(t){return ys(t)[ws.PluralCase]}function bs(t){return t in ps||(ps[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),ps[t]}var ws=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const _s="en-US";let Es=_s;function Os(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Es=t.toLowerCase().replace(/_/g,"-"))}function Is(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)Is(t[o],e,n,r,i);else{const o=Yt(),s=$t();let u=wo(t)?t:_(t.provide),a=vo(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(wo(t)||!t.multi){const r=new Ae(a,i,Lo),d=Ts(u,e,i?l:l+f,h);-1===d?(Ge(qe(c,s),o,u),Cs(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ts(u,e,l+f,h),p=Ts(u,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){Ge(qe(c,s),o,u);const l=function(t,e,n,r,i){const o=new Ae(t,n,Lo);return o.multi=[],o.index=e,o.componentProviders=0,Ss(o,i,r&&!n),o}(i?As:xs,n.length,i,r,a);!i&&y&&(n[p].providerFactory=l),Cs(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Cs(o,t,d>-1?d:p,Ss(n[i?p:d],a,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Cs(t,e,n,r){const i=wo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Ss(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ts(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function xs(t,e,n,r){return js(this.multi,[])}function As(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),js(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],js(i,o);return o}function js(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ns(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Yt();if(r.firstCreatePass){const i=mt(t);Is(n,r.data,r.blueprint,i,!0),Is(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ks{}class Ds{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${v(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Rs=(()=>{class t{}return t.NULL=new Ds,t})();function Ps(...t){}function Vs(t,e){return new Ls(Vt(t,e))}const Ms=function(){return Vs(Kt(),$t())};let Ls=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ms,t})();class Us{}let Fs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qs(),t})();const qs=function(){const t=$t(),e=Lt(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Hs=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class Bs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const zs=new Bs("11.0.9");class Gs{constructor(){}supports(t){return ko(t)}create(t){return new $s(t)}}const Ws=(t,e)=>e;class $s{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ws}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Zs(n,r,i)?e:n,s=Zs(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ko(t))throw new Error(`Error trying to diff '${v(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[jo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ys(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ks),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ks),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ys{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ks{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Qs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Xs{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new Js}}class Js{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${v(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new tu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class tu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let eu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new En,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new Gs])}),t})(),nu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new En,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new Xs])}),t})();function ru(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Rt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ru(e[1],e,n,r)}const s=n.type;if(8&s)ru(t,e,n.child,r);else if(32&s){const t=xr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Ar(t);ru(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class iu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ru(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Vr(t,n),gn(e,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(t){ji(this._lView[1],this._lView,null,t)}markForCheck(){Yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Qi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ne(!0);try{Qi(t,e,n)}finally{ne(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,$r(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ou extends iu{constructor(t){super(t),this._view=t}detectChanges(){Ki(this._view)}checkNoChanges(){!function(t){ne(!0);try{Ki(t)}finally{ne(!1)}}(this._view)}get context(){return null}}const su=au;let uu=(()=>{class t{}return t.__NG_ELEMENT_ID__=su,t.__ChangeDetectorRef__=!0,t})();function au(t=!1){return function(t,e,n){if(!n&&yt(t)){const n=Lt(t.index,e);return new iu(n,n)}return 47&t.type?new iu(e[16],e):null}(Kt(),$t(),t)}const cu=[new Xs],lu=new eu([new Gs]),hu=new nu(cu),fu=function(){return yu(Kt(),$t())};let du=(()=>{class t{}return t.__NG_ELEMENT_ID__=fu,t})();const pu=du,gu=class extends pu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=mi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),_i(e,n,t),new iu(n)}};function yu(t,e){return 4&t.type?new gu(e,t,Vs(t,e)):null}class vu{}class mu{}const bu=function(){return Cu(Kt(),$t())};let wu=(()=>{class t{}return t.__NG_ELEMENT_ID__=bu,t})();const _u=wu,Eu=class extends _u{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Vs(this._hostTNode,this._hostLView)}get injector(){return new nn(this._hostTNode,this._hostLView)}get parentInjector(){const t=ze(this._hostTNode,this._hostLView);if(Pe(t)){const e=Me(t,this._hostLView),n=Ve(t);return new nn(e[1].data[n+8],e)}return new nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ou(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(vu,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Eu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],pn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=Gr(i,o),u=n[11],a=Hr(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,$r(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),pn(Iu(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ou(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);n&&(gn(Iu(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);return n&&null!=gn(Iu(this._lContainer),e)?new iu(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ou(t){return t[8]}function Iu(t){return t[8]||(t[8]=[])}function Cu(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=Vt(t,e);Ur(n,Hr(n,r),i,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Bi(r,e,i,t),$i(e,n)}return new Eu(n,t,e)}const Su={};class Tu extends Rs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new ju(e,this.ngModule)}}function xu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Au=new cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Cr});class ju extends ks{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ui).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return xu(this.componentDef.inputs)}get outputs(){return xu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Su,i);return o!==Su||r===Su?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Us,Dt),s=i.get(Hs,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):Rr(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Cr,clean:Xi,playerHandler:null,flags:0},f=Ai(0,null,null,1,0,null,null,null,null,null),d=mi(null,f,h,l,null,null,o,u,s,i);let p,g;de(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=bi(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(io(u,a,!0),null!==t&&(je(i,t,a),null!==u.classes&&Kr(i,t,u.classes),null!==u.styles&&Qr(i,t,u.styles)));const c=r.createRenderer(t,e),l=mi(n,xi(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(Ge(qe(u,n),s,e.type),Vi(s,u),Li(u,n.length,1)),$i(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)je(u,c,["ng-version",zs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ri(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&je(u,c,t),e&&e.length>0&&Kr(u,c,e.join(" "))}if(g=Mt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ui(t,r,e,wi(t,e,1,null),n));const i=Je(e,t,r.directiveStart,r);Ir(i,e);const o=Vt(r,e);return o&&Ir(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Kt();e.contentQueries(1,s,t.directiveStart)}const u=Kt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(we(u.index),Ri(n[1],u,0,u.directiveStart,u.directiveEnd,e),Pi(e,s)),s}(t,this.componentDef,d,h,[Oo]),_i(f,d,null)}finally{me()}return new Nu(this.componentType,p,Vs(g,d),d,g)}}class Nu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ou(r),this.componentType=t}get injector(){return new nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ku=new Map;class Du extends vu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Tu(this);const n=lt(t),r=t[K]||null;r&&Os(r),this._bootstrapComponents=Sr(n.bootstrap),this._r3Injector=po(t,e,[{provide:vu,useValue:this},{provide:Rs,useValue:this.componentFactoryResolver}],v(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Eo.THROW_IF_NOT_FOUND,n=k.Default){return t===Eo||t===vu||t===oo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ru extends mu{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${v(e)} vs ${v(e.name)}`)}(i,ku.get(i),n),ku.set(i,n));const o=Sr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Du(this.moduleType,t)}}function Pu(t,e,n){const r=re()+t,i=$t();return i[r]===ai?Ro(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Vu(t,e){const n=Yt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new wt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=bt(r.type)),s=R(Lo);try{const t=Ue(!1),e=o();return Ue(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,$t(),i,e),e}finally{R(s)}}function Mu(t,e,n){const r=t+ht,i=$t(),o=function(t,e){return t[e]}(i,r);return function(t,e){return No.isWrapped(e)&&(e=No.unwrap(e),t[ie()]=ai),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,o){const s=e+n;return Po(t,s,i)?Ro(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===ai?void 0:n}(t,s+1)}(i,re(),e,o.transform,n,o):o.transform(n))}const Lu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function Uu(){return this._results[jo()]()}class Fu{constructor(){this.dirty=!0,this._results=[],this.changes=new Lu,this.length=0;const t=jo(),e=Fu.prototype;e[t]||(e[t]=Uu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=fn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class qu{constructor(t){this.queryList=t,this.matches=null}clone(){return new qu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Hu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ju(t,e).matches&&this.queries[e].setDirty()}}class Bu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class zu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new zu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Gu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Gu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Wu(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===du?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ls||r===wu||r===du&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Wu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function $u(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Vs(t,e):4&t.type?yu(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ls?Vs(e,t):n===du?yu(e,t):n===wu?Cu(e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function Yu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:$u(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Qu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Yu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Qu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Qu(n[1],n,i,r)}}}}}return r}function Ku(t){const e=$t(),n=Yt(),r=ce();le(r+1);const i=Ju(n,r);if(t.dirty&&Ft(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Qu(n,e,r,[]):Yu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Zu(t,e,n,r){!function(t,e,n,r,i,o,s,u){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new zu),t.queries.track(new Gu(e,n))}(t,new Bu(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,u)),function(t,e){const n=new Fu;ji(t,e,n,n.destroy),null===e[19]&&(e[19]=new Hu),e[19].queries.push(new qu(n))}(t,e)}(Yt(),$t(),e,n,r,0,Kt(),t)}function Xu(){return t=$t(),e=ce(),t[19].queries[e].queryList;var t,e}function Ju(t,e){return t.queries.getByIndex(e)}function ta(t=k.Default){const e=au(!0);if(null!=e||t&k.Optional)return e;Ot("ChangeDetectorRef")}const ea=new cn("Application Initializer");let na=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ps,this.reject=Ps,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();$o(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(kn(ea,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const ra=new cn("AppId"),ia={provide:ra,useFactory:function(){return`${oa()}${oa()}${oa()}`},deps:[]};function oa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sa=new cn("Platform Initializer"),ua=new cn("Platform ID"),aa=new cn("appBootstrapListener");let ca=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const la=new cn("LocaleId"),ha=new cn("DefaultCurrencyCode");class fa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const da=function(t){return new Ru(t)},pa=da,ga=function(t){return Promise.resolve(da(t))},ya=function(t){const e=da(t),n=Sr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new ju(n)),t},[]);return new fa(e,n)},va=ya,ma=function(t){return Promise.resolve(ya(t))};let ba=(()=>{class t{constructor(){this.compileModuleSync=pa,this.compileModuleAsync=ga,this.compileModuleAndAllComponentsSync=va,this.compileModuleAndAllComponentsAsync=ma}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const wa=(()=>Promise.resolve(0))();function _a(t){"undefined"==typeof Zone?wa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ea{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lu(!1),this.onMicrotaskEmpty=new Lu(!1),this.onStable=new Lu(!1),this.onError=new Lu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ca(t),Ia(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ca(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return Sa(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),Ta(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return Sa(t),e.invoke(r,i,o,s,u)}finally{Ta(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ca(t),Ia(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ea.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ea.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Oa,Ps,Ps);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Oa={};function Ia(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ca(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Sa(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ta(t){t._nesting--,Ia(t)}class xa{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lu,this.onMicrotaskEmpty=new Lu,this.onStable=new Lu,this.onError=new Lu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Aa=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ea.assertNotInAngularZone(),_a(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_a(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(kn(Ea))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),ja=(()=>{class t{constructor(){this._applications=new Map,Ra.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ra.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Na{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ka(t){Ra=t}let Da,Ra=new Na,Pa=!0,Va=!1;function Ma(){return Va=!0,Pa}function La(){if(Va)throw new Error("Cannot enable prod mode after platform setup.");Pa=!1}const Ua=new cn("AllowMultipleToken");class Fa{constructor(t,e){this.name=t,this.token=e}}function qa(t,e,n=[]){const r="Platform: "+e,i=new cn(r);return(e=[])=>{let o=Ha();if(!o||o.injector.get(Ua,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:uo,useValue:"platform"});!function(t){if(Da&&!Da.destroyed&&!Da.injector.get(Ua,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Da=t.get(Ba);const e=t.get(sa,null);e&&e.forEach(t=>t())}(Eo.create({providers:t,name:r}))}return function(t){const e=Ha();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ha(){return Da&&!Da.destroyed?Da:null}let Ba=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new xa:("zone.js"===t?void 0:t)||new Ea({enableLongStackTrace:Ma(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ea,useValue:n}];return n.run(()=>{const e=Eo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Or,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Wa(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return $o(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(na);return t.runInitializers(),t.donePromise.then(()=>(Os(i.injector.get(la,_s)||_s),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=za({},e);return function(t,e,n){const r=new Ru(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ga);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${v(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(kn(Eo))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function za(t,e){return Array.isArray(e)?e.reduce(za,t):Object.assign(Object.assign({},t),e)}let Ga=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ea.assertNotInAngularZone(),_a(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ea.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ks?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(vu),i=n.create(Eo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Aa,null),u=s&&i.injector.get(ja);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Wa(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),Ma()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Wa(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(aa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(kn(Ea),kn(ca),kn(Eo),kn(Or),kn(Rs),kn(na))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Wa(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $a{}class Ya{}const Qa={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ka=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Qa}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Za(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Za(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(kn(ba),kn(Ya,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Za(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Xa=function(t){return null},Ja=qa(null,"core",[{provide:ua,useValue:"unknown"},{provide:Ba,deps:[Eo]},{provide:ja,deps:[]},{provide:ca,deps:[]}]),tc=[{provide:Ga,useClass:Ga,deps:[Ea,ca,Eo,Or,Rs,na]},{provide:Au,deps:[Ea],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:na,useClass:na,deps:[[new wn,ea]]},{provide:ba,useClass:ba,deps:[]},ia,{provide:eu,useFactory:function(){return lu},deps:[]},{provide:nu,useFactory:function(){return hu},deps:[]},{provide:la,useFactory:function(t){return Os(t=t||"undefined"!=typeof $localize&&$localize.locale||_s),t},deps:[[new bn(la),new wn,new En]]},{provide:ha,useValue:"USD"}];let ec=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(kn(Ga))},providers:tc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new y(i,u,r);return a},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return y}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.q("angularfire2.app.options"),b=new a.q("angularfire2.app.nameOrConfig"),w=new a.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:_,deps:[m,a.z,[new a.A,b]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)(a.Rb(a.B))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function y(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var u=o.name;if(n.has(u))return p.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw l.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&Object(s.f)(a,o.serviceProps),r[u]=a,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBWgKOKv3hHf5VbkYNzf7VSJkApjOpsw2A",authDomain:"udemy-angular-665a2.firebaseapp.com",databaseURL:"https://udemy-angular-665a2.firebaseio.com",projectId:"udemy-angular-665a2",storageBucket:"udemy-angular-665a2.appspot.com",messagingSenderId:"578777764146",appId:"1:578777764146:web:9bfdb16356e7edf256072b",measurementId:"G-23X4BHRCPZ"};let o=null;function s(){return o}const u=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Rb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Rb)(u))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=Object(r.Rb)(u).location;return new w(Object(r.Rb)(a),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(v),r.Rb(a))},t.normalizeQueryParams=y,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new E(Object(r.Rb)(v),Object(r.Rb)(a))}function I(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.lb;class T{}let x=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new N(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let k=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}class P{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class V{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const M=new V,L=new P;let U=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return M;if(Object(r.pb)(e))return L;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb())},t.\u0275pipe=r.Hb({name:"async",type:t,pure:!1}),t})(),F=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Hb({name:"json",type:t,pure:!1}),t})(),q=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:x}]}),t})();function H(t){return"server"===t}let B=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new z(Object(r.Rb)(u),window)}),t})();class z{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=G(this.window.history)||G(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function G(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class W extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new W,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Y||(Y=document.querySelector("base"),Y)?Y.getAttribute("href"):null;return null==e?null:(n=e,$||($=document.createElement("a")),$.setAttribute("href",n),"/"===$.pathname.charAt(0)?$.pathname:"/"+$.pathname);var n}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let $,Y=null;const Q=new r.q("TRANSITION_ID"),K=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Q,u,r.r],multi:!0}];class Z{static init(){Object(r.W)(new Z)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const X=new r.q("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(X),r.Rb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class tt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let et=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),nt=(()=>{class t extends et{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},it=/%COMP%/g;function ot(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ot(t,i,n):(i=i.replace(it,t),n.push(i))}return n}function st(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ut=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new at(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ct(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new lt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ot(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(J),r.Rb(nt),r.Rb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(rt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=rt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=rt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,st(n)):this.eventManager.addEventListener(t,e,st(n))}}class ct extends at{constructor(t,e,n,r){super(t),this.component=n;const i=ot(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(it,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(it,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class lt extends at{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ot(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ht=(()=>{class t extends tt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ft=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yt=(()=>{class t extends tt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ft.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&pt.hasOwnProperty(e)&&(e=pt[e]))}return dt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ft.forEach(r=>{r!=n&&(0,gt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const vt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){W.makeCurrent(),Z.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],mt=Object(r.R)(r.V,"browser",vt),bt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:X,useClass:ht,multi:!0,deps:[u,r.z,r.B]},{provide:X,useClass:yt,multi:!0,deps:[u]},[],{provide:ut,useClass:ut,deps:[J,nt,r.c]},{provide:r.E,useExisting:ut},{provide:et,useExisting:nt},{provide:nt,useClass:nt,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:J,useClass:J,deps:[X,r.z]},[]];let wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Q,useExisting:r.c},K]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:bt,imports:[q,r.f]}),t})();"undefined"!=typeof window&&window;var _t=n("Cfvw"),Et=n("LRne"),Ot=n("XNiG"),It=n("9ppp");class Ct extends Ot.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new It.a;return this._value}next(t){super.next(this._value=t)}}var St=n("z+Ro"),Tt=n("DH7j"),xt=n("7o/Q");class At extends xt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class jt extends xt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Nt=n("SeVD"),kt=n("HDdC");function Dt(t,e,n,r,i=new jt(t,n,r)){if(!i.closed)return e instanceof kt.a?e.subscribe(i):Object(Nt.a)(e)(i)}var Rt=n("yCtX");const Pt={};class Vt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Mt(t,this.resultSelector))}}class Mt extends At{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Dt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Pt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Lt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ut=n("bHdf");function Ft(...t){return Object(Ut.a)(1)(Object(Et.a)(...t))}var qt=n("EY2u");function Ht(t){return new kt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(_t.a)(n):Object(qt.b)()).subscribe(e)})}var Bt=n("lJxs"),zt=n("zx2A");function Gt(t,e){return"function"==typeof e?n=>n.pipe(Gt((n,r)=>Object(_t.a)(t(n,r)).pipe(Object(Bt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Wt(t))}class Wt{constructor(t){this.project=t}call(t,e){return e.subscribe(new $t(t,this.project))}}class $t extends zt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new zt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(zt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Yt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Qt(t){return e=>0===t?Object(qt.b)():e.lift(new Kt(t))}class Kt{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new Zt(t,this.total))}}class Zt extends xt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Xt(...t){const e=t[t.length-1];return Object(St.a)(e)?(t.pop(),n=>Ft(t,n,e)):e=>Ft(t,e)}function Jt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new te(t,e,n))}}class te{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ee(t,this.accumulator,this.seed,this.hasSeed))}}class ee extends xt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ne(t,e){return function(n){return n.lift(new re(t,e))}}class re{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ie(t,this.predicate,this.thisArg))}}class ie extends xt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function oe(t){return function(e){const n=new se(t),r=e.lift(n);return n.caught=r}}class se{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ue(t,this.selector,this.caught))}}class ue extends zt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new zt.a(this);this.add(r);const i=Object(zt.c)(n,r);i!==r&&this.add(i)}}}var ae=n("5+tZ");function ce(t,e){return Object(ae.a)(t,e,1)}function le(t){return function(e){return 0===t?Object(qt.b)():e.lift(new he(t))}}class he{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new fe(t,this.total))}}class fe extends xt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function de(t=ye){return e=>e.lift(new pe(t))}class pe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ge(t,this.errorFactory))}}class ge extends xt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch($m){t=$m}this.destination.error(t)}}}function ye(){return new Lt}function ve(t=null){return e=>e.lift(new me(t))}class me{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new be(t,this.defaultValue))}}class be extends xt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var we=n("SpAZ");function _e(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):we.a,Qt(1),n?ve(e):de(()=>new Lt))}var Ee=n("vkgz"),Oe=n("quSY");class Ie{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ce(t,this.callback))}}class Ce extends xt.a{constructor(t,e){super(t),this.add(new Oe.a(e))}}class Se{constructor(t,e){this.id=t,this.url=e}}class Te extends Se{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xe extends Se{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ae extends Se{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class je extends Se{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ne extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends Se{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Re extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Me{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Le{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Be="primary";class ze{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ge(t){return new ze(t)}function We(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function $e(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ye(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Qe(t[i],e[i]))return!1;return!0}function Qe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ke(t){return Array.prototype.concat.apply([],t)}function Ze(t){return t.length>0?t[t.length-1]:null}function Xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Je(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(_t.a)(Promise.resolve(t)):Object(Et.a)(t)}function tn(t,e,n){return n?function(t,e){return Ye(t,e)}(t.queryParams,e.queryParams)&&en(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qe(t[n],e[n]))}(t.queryParams,e.queryParams)&&nn(t.root,e.root)}function en(t,e){if(!an(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!en(t.children[n],e.children[n]))return!1}return!0}function nn(t,e){return rn(t,e,e.segments)}function rn(t,e,n){if(t.segments.length>n.length)return!!an(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!an(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!nn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!an(t.segments,r)&&!!t.children.primary&&rn(t.children.primary,e,i)}}class on{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return hn.serialize(this)}}class sn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Xe(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fn(this)}}class un{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return bn(this)}}function an(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class cn{}class ln{parse(t){const e=new In(t);return new on(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+dn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${gn(e)}=${gn(t)}`).join("&"):`${gn(e)}=${gn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const hn=new ln;function fn(t){return t.segments.map(t=>bn(t)).join("/")}function dn(t,e){if(!t.hasChildren())return fn(t);if(e){const e=t.children.primary?dn(t.children.primary,!1):"",n=[];return Xe(t.children,(t,e)=>{e!==Be&&n.push(`${e}:${dn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Xe(t.children,(t,r)=>{r===Be&&(n=n.concat(e(t,r)))}),Xe(t.children,(t,r)=>{r!==Be&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Be?[dn(t.children.primary,!1)]:[`${n}:${dn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${fn(t)}/${e[0]}`:`${fn(t)}/(${e.join("//")})`}}function pn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gn(t){return pn(t).replace(/%3B/gi,";")}function yn(t){return pn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vn(t){return decodeURIComponent(t)}function mn(t){return vn(t.replace(/\+/g,"%20"))}function bn(t){return`${yn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${yn(t)}=${yn(e[t])}`).join("")}`;var e}const wn=/^[^\/()?;=#]+/;function _n(t){const e=t.match(wn);return e?e[0]:""}const En=/^[^=?&#]+/,On=/^[^?&#]+/;class In{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new sn(t,e)),n}parseSegment(){const t=_n(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new un(vn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=_n(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=_n(this.remaining);t&&(n=t,this.capture(n))}t[vn(e)]=vn(n)}parseQueryParam(t){const e=function(t){const e=t.match(En);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(On);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=mn(e),i=mn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=_n(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Be);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new sn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Cn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Sn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Sn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Tn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Tn(t,this._root).map(t=>t.value)}}function Sn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Sn(t,n);if(e)return e}return null}function Tn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Tn(t,n);if(r.length)return r.unshift(e),r}return[]}class xn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function An(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class jn extends Cn{constructor(t,e){super(t),this.snapshot=e,Vn(this,t)}toString(){return this.snapshot.toString()}}function Nn(t,e){const n=function(t,e){const n=new Rn([],{},{},"",{},Be,e,null,t.root,-1,{});return new Pn("",new xn(n,[]))}(t,e),r=new Ct([new un("",{})]),i=new Ct({}),o=new Ct({}),s=new Ct({}),u=new Ct(""),a=new kn(r,i,s,u,o,Be,e,n.root);return a.snapshot=n.root,new jn(new xn(a,[]),n)}class kn{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Bt.a)(t=>Ge(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Bt.a)(t=>Ge(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Rn{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pn extends Cn{constructor(t,e){super(e),this.url=t,Vn(this,e)}toString(){return Mn(this._root)}}function Vn(t,e){e.value._routerState=t,e.children.forEach(e=>Vn(t,e))}function Mn(t){const e=t.children.length>0?` { ${t.children.map(Mn).join(", ")} } `:"";return`${t.value}${e}`}function Ln(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ye(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ye(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ye(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ye(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Un(t,e){return Ye(t.params,e.params)&&function(t,e){return an(t,e)&&t.every((t,n)=>Ye(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Un(t.parent,e.parent))}function Fn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Fn(t,e,r);return Fn(t,e)})}(t,e,n);return new xn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return qn(e,t),t}{const n=new kn(new Ct((r=e.value).url),new Ct(r.params),new Ct(r.queryParams),new Ct(r.fragment),new Ct(r.data),r.outlet,r.component,r),i=e.children.map(e=>Fn(t,e));return new xn(n,i)}}var r}function qn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)qn(t.children[n],e.children[n])}function Hn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Bn(t){return"object"==typeof t&&null!=t&&t.outlets}function zn(t,e,n,r,i){let o={};return r&&Xe(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new on(n.root===t?e:Gn(n.root,t,e),o,i)}function Gn(t,e,n){const r={};return Xe(t.children,(t,i)=>{r[i]=t===e?n:Gn(t,e,n)}),new sn(t.segments,r)}class Wn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Hn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Bn);if(r&&r!==Ze(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $n{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Yn(t,e,n){if(t||(t=new sn([],{})),0===t.segments.length&&t.hasChildren())return Qn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Bn(s))break;const u=""+s,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!Jn(u,a,e))return o;r+=2}else{if(!Jn(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new sn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new sn(t.segments.slice(r.pathIndex),t.children),Qn(e,0,i)}return r.match&&0===i.length?new sn(t.segments,{}):r.match&&!t.hasChildren()?Kn(t,e,n):r.match?Qn(t,0,i):Kn(t,e,n)}function Qn(t,e,n){if(0===n.length)return new sn(t.segments,{});{const r=function(t){return Bn(t[0])?t[0].outlets:{[Be]:t}}(n),i={};return Xe(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Yn(t.children[r],e,n))}),Xe(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new sn(t.segments,i)}}function Kn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Bn(o)){const t=Zn(o.outlets);return new sn(r,t)}if(0===i&&Hn(n[0])){r.push(new un(t.segments[e].path,n[0])),i++;continue}const s=Bn(o)?o.outlets.primary:""+o,u=i<n.length-1?n[i+1]:null;s&&u&&Hn(u)?(r.push(new un(s,Xn(u))),i+=2):(r.push(new un(s,{})),i++)}return new sn(r,{})}function Zn(t){const e={};return Xe(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Kn(new sn([],{}),0,t))}),e}function Xn(t){const e={};return Xe(t,(t,n)=>e[n]=""+t),e}function Jn(t,e,n){return t==n.path&&Ye(e,n.parameters)}class tr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ln(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=An(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Xe(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=An(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=An(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new qe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ue(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ln(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),er(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function er(t){Ln(t.value),t.children.forEach(er)}class nr{constructor(t,e){this.routes=t,this.module=e}}function rr(t){return"function"==typeof t}function ir(t){return t instanceof on}const or=Symbol("INITIAL_VALUE");function sr(){return Gt(t=>function(...t){let e=void 0,n=void 0;return Object(St.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Tt.a)(t[0])&&(t=t[0]),Object(Rt.a)(t,n).lift(new Vt(e))}(t.map(t=>t.pipe(Qt(1),Xt(or)))).pipe(Jt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==or)return t;if(r===or&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ir(r))return r}return t},t)},or),ne(t=>t!==or),Object(Bt.a)(t=>ir(t)?t:!0===t),Qt(1)))}let ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[ti]},encapsulation:2}),t})();function ar(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];cr(r,lr(e,r))}}function cr(t,e){t.children&&ar(t.children,e)}function lr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function hr(t){const e=t.children&&t.children.map(hr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=ur),n}function fr(t){return t.outlet||Be}function dr(t,e){const n=t.filter(t=>fr(t)===e);return n.push(...t.filter(t=>fr(t)!==e)),n}const pr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},pr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||$e)(n,t,e);if(!i)return Object.assign({},pr);const o={};Xe(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function yr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>vr(t,e,n)&&fr(n)!==Be)}(t,n,r)){const i=new sn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&fr(o)!==Be){const n=new sn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[fr(o)]=n}return i}(t,e,r,new sn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>vr(t,e,n))}(t,n,r)){const o=new sn(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(vr(t,n,u)&&!i[fr(u)]){const n=new sn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[fr(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new sn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function vr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function mr(t,e,n,r){return!!(fr(t)===r||r!==Be&&vr(e,n,t))&&("**"===t.path||gr(e,t,n).matched)}function br(t,e,n){return 0===e.length&&!t.children[n]}class wr{constructor(t){this.segmentGroup=t||null}}class _r{constructor(t){this.urlTree=t}}function Er(t){return new kt.a(e=>e.error(new wr(t)))}function Or(t){return new kt.a(e=>e.error(new _r(t)))}function Ir(t){return new kt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Cr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=yr(this.urlTree.root,[],[],this.config).segmentGroup,e=new sn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Be).pipe(Object(Bt.a)(t=>this.createUrlTree(Sr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oe(t=>{if(t instanceof _r)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof wr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Be).pipe(Object(Bt.a)(e=>this.createUrlTree(Sr(e),t.queryParams,t.fragment))).pipe(oe(t=>{if(t instanceof wr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new sn([],{[Be]:t}):t;return new on(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Bt.a)(t=>new sn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(_t.a)(r).pipe(ce(r=>{const i=n.children[r],o=dr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Bt.a)(t=>({segment:t,outlet:r})))}),Jt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):we.a,le(1),n?ve(e):de(()=>new Lt))}())}expandSegment(t,e,n,r,i,o){return Object(_t.a)(n).pipe(ce(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(oe(t=>{if(t instanceof wr)return Object(Et.a)(null);throw t}))),_e(t=>!!t),oe((t,n)=>{if(t instanceof Lt||"EmptyError"===t.name){if(br(e,r,i))return Object(Et.a)(new sn([],{}));throw new wr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return mr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Er(e):Er(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Or(i):this.lineralizeSegments(n,i).pipe(Object(ae.a)(n=>{const i=new sn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=gr(e,r,i);if(!s)return Er(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?Or(l):this.lineralizeSegments(r,l).pipe(Object(ae.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Bt.a)(t=>(n._loadedConfig=t,new sn(r,{})))):Object(Et.a)(new sn(r,{}));const{matched:o,consumedSegments:s,lastChild:u}=gr(e,n,r);if(!o)return Er(e);const a=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(ae.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:u,slicedSegments:c}=yr(e,s,a,o),l=new sn(u.segments,u.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Bt.a)(t=>new sn(s,t)));if(0===o.length&&0===c.length)return Object(Et.a)(new sn(s,{}));const h=fr(n)===i;return this.expandSegment(r,l,o,c,h?Be:i,!0).pipe(Object(Bt.a)(t=>new sn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Et.a)(new nr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Et.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ae.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Bt.a)(t=>(e._loadedConfig=t,t))):function(t){return new kt.a(e=>e.error(We(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Et.a)(new nr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Et.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&rr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!rr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Je(o)});return Object(Et.a)(i).pipe(sr(),Object(Ee.a)(t=>{if(!ir(t))return;const e=We(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Bt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Et.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ir(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new on(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Xe(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Xe(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new sn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Sr(t){const e={};for(const n of Object.keys(t.children)){const r=Sr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new sn(t.segments.concat(e.segments),e.children)}return t}(new sn(t.segments,e))}class Tr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xr{constructor(t,e){this.component=t,this.route=e}}function Ar(t,e,n){const r=t._root;return Nr(r,e?e._root:null,n,[r.value])}function jr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Nr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=An(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!an(t.url,e.url);case"pathParamsOrQueryParamsChange":return!an(t.url,e.url)||!Ye(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Un(t,e)||!Ye(t.queryParams,e.queryParams);case"paramsChange":default:return!Un(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Tr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Nr(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new xr(u.outlet.component,s))}else s&&kr(e,u,i),i.canActivateChecks.push(new Tr(r)),Nr(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Xe(o,(t,e)=>kr(t,n.getContext(e),i)),i}function kr(t,e,n){const r=An(t),i=t.value;Xe(r,(t,r)=>{kr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new xr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Dr{}function Rr(t){return new kt.a(e=>e.error(t))}class Pr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=yr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Be);if(null===e)return null;const n=new Rn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xn(n,e),i=new Pn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Dn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=dr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Vr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Be?-1:e.value.outlet===Be?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return br(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!mr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Ze(n).parameters:{};i=new Rn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ur(t),fr(t),t.component,t,Mr(e),Lr(e)+n.length,Fr(t))}else{const r=gr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Rn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ur(t),fr(t),t.component,t,Mr(e),Lr(e)+o.length,Fr(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=yr(e,o,s,u.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return null===t?null:[new xn(i,t)]}if(0===u.length&&0===c.length)return[new xn(i,[])];const l=fr(t)===r,h=this.processSegment(u,a,c,l?Be:r);return null===h?null:[new xn(i,h)]}}function Vr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Mr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Lr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ur(t){return t.data||{}}function Fr(t){return t.resolve||{}}function qr(t){return Gt(e=>{const n=t(e);return n?Object(_t.a)(n).pipe(Object(Bt.a)(()=>e)):Object(Et.a)(e)})}class Hr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Br=new r.q("ROUTES");class zr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Bt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new nr(Ke(r.injector.get(Br)).map(hr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(_t.a)(this.loader.load(t)):Je(t()).pipe(Object(ae.a)(t=>t instanceof r.v?Object(Et.a)(t):Object(_t.a)(this.compiler.compileModuleAsync(t))))}}class Gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wr,this.attachRef=null}}class Wr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Gr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class $r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Yr(t){throw t}function Qr(t,e,n){return e.parse("/")}function Kr(t,e){return Object(Et.a)(null)}let Zr=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ot.a,this.errorHandler=Yr,this.malformedUriErrorHandler=Qr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kr,afterPreactivation:Kr},this.urlHandlingStrategy=new $r,this.routeReuseStrategy=new Hr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new on(new sn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zr(s,u,t=>this.triggerEvent(new Ve(t)),t=>this.triggerEvent(new Me(t))),this.routerState=Nn(this.currentUrlTree,this.rootComponentType),this.transitions=new Ct({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ne(t=>0!==t.id),Object(Bt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Gt(t=>{let n=!1,r=!1;return Object(Et.a)(t).pipe(Object(Ee.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Et.a)(t).pipe(Gt(t=>{const n=this.transitions.getValue();return e.next(new Te(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?qt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Gt(t=>function(t,e,n,r,i){return new Cr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Bt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Ee.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ae.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Pr(t,e,n,r,i,o).recognize();return null===s?Rr(new Dr):Object(Et.a)(s)}catch($m){return Rr($m)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Bt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ee.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new Te(n,this.serializeUrl(r),i,o);e.next(u);const a=Nn(r,this.rootComponentType).snapshot;return Object(Et.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),qt.a}),qr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ee.a)(t=>{const e=new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Bt.a)(t=>Object.assign(Object.assign({},t),{guards:Ar(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ae.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Et.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(_t.a)(t).pipe(Object(ae.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Et.a)(!0);const s=o.map(o=>{const s=jr(o,e,i);let u;if(function(t){return t&&rr(t.canDeactivate)}(s))u=Je(s.canDeactivate(t,e,n,r));else{if(!rr(s))throw new Error("Invalid CanDeactivate guard");u=Je(s(t,e,n,r))}return u.pipe(_e())});return Object(Et.a)(s).pipe(sr())}(t.component,t.route,n,e,r)),_e(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ae.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(_t.a)(e).pipe(ce(e=>Ft(function(t,e){return null!==t&&e&&e(new Le(t)),Object(Et.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Fe(t)),Object(Et.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ht(()=>{const i=e.guards.map(i=>{const o=jr(i,e.node,n);let s;if(function(t){return t&&rr(t.canActivateChild)}(o))s=Je(o.canActivateChild(r,t));else{if(!rr(o))throw new Error("Invalid CanActivateChild guard");s=Je(o(r,t))}return s.pipe(_e())});return Object(Et.a)(i).pipe(sr())}));return Object(Et.a)(i).pipe(sr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Et.a)(!0);const i=r.map(r=>Ht(()=>{const i=jr(r,e,n);let o;if(function(t){return t&&rr(t.canActivate)}(i))o=Je(i.canActivate(e,t));else{if(!rr(i))throw new Error("Invalid CanActivate guard");o=Je(i(e,t))}return o.pipe(_e())}));return Object(Et.a)(i).pipe(sr())}(t,e.route,n))),_e(t=>!0!==t,!0))}(r,o,t,e):Object(Et.a)(n)),Object(Bt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ee.a)(t=>{if(ir(t.guardsResult)){const e=We(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ne(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),qr(t=>{if(t.guards.canActivateChecks.length)return Object(Et.a)(t).pipe(Object(Ee.a)(t=>{const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Gt(t=>{let n=!1;return Object(Et.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ae.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Et.a)(t);let o=0;return Object(_t.a)(n).pipe(ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Et.a)({});const o={};return Object(_t.a)(i).pipe(Object(ae.a)(i=>function(t,e,n,r){const i=jr(t,e,r);return Je(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ee.a)(t=>{o[i]=t}))),le(1),Object(ae.a)(()=>Object.keys(o).length===i.length?Object(Et.a)(o):qt.a))}(t._resolve,t,e,r).pipe(Object(Bt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Dn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ee.a)(()=>o++),le(1),Object(ae.a)(e=>o===n.length?Object(Et.a)(t):qt.a))})),Object(Ee.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ee.a)(t=>{const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),qr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Bt.a)(t=>{const e=function(t,e,n){const r=Fn(t,e._root,n?n._root:void 0);return new jn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ee.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(Bt.a)(t=>(new tr(s,t.targetRouterState,t.currentRouterState,u).activate(o),t))),Object(Ee.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ie(i))),oe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ir(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ae(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new je(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(gl){t.reject(gl)}}var i;return qt.a}));var i,o,s,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ar(t),this.config=t.map(hr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return zn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Wn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Xe(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Wn(n,e,r)}(n);if(o.toRoot())return zn(e.root,new sn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new $n(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new $n(t,t===e.root,0)}const r=Hn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $n(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?Qn(s.segmentGroup,s.index,o.commands):Yn(s.segmentGroup,s.index,o.commands);return zn(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ir(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch($m){e=this.malformedUriErrorHandler($m,this.urlSerializer,t)}return e}isActive(t,e){if(ir(t))return tn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return tn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.M),r.Rb(cn),r.Rb(Wr),r.Rb(E),r.Rb(r.r),r.Rb(r.w),r.Rb(r.i),r.Rb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Xr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ot.a,this.subscription=t.events.subscribe(t=>{t instanceof xe&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Jr(this.skipLocationChange),replaceUrl:Jr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Jr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Zr),r.Ib(kn),r.Ib(v))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Ub("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Qb("href",e.href,r.dc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Jr(t){return""===t||!!t}let ti=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Be,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ei(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Wr),r.Ib(r.P),r.Ib(r.j),r.Sb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ei{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===kn?this.route:t===Wr?this.childContexts:this.parent.get(t,e)}}class ni{}class ri{preload(t,e){return Object(Et.a)(null)}}let ii=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new zr(e,n,e=>t.triggerEvent(new Ve(e)),e=>t.triggerEvent(new Me(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ne(t=>t instanceof xe),ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(_t.a)(n).pipe(Object(Ut.a)(),Object(Bt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ae.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Zr),r.Rb(r.w),r.Rb(r.i),r.Rb(r.r),r.Rb(ni))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),oi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Te?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof He&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new He(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Zr),r.Rb(B),r.Rb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const si=new r.q("ROUTER_CONFIGURATION"),ui=new r.q("ROUTER_FORROOT_GUARD"),ai=[E,{provide:cn,useClass:ln},{provide:Zr,useFactory:function(t,e,n,r,i,o,u,a={},c,l){const h=new Zr(null,t,e,n,r,i,o,Ke(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[cn,Wr,E,r.r,r.w,r.i,Br,si,[class{},new r.A],[class{},new r.A]]},Wr,{provide:kn,useFactory:function(t){return t.routerState.root},deps:[Zr]},{provide:r.w,useClass:r.J},ii,ri,class{preload(t,e){return e().pipe(oe(()=>Object(Et.a)(null)))}},{provide:si,useValue:{enableTracing:!1}}];function ci(){return new r.y("Router",Zr)}let li=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ai,pi(e),{provide:ui,useFactory:di,deps:[[Zr,new r.A,new r.I]]},{provide:si,useValue:n||{}},{provide:v,useFactory:fi,deps:[a,[new r.p(b),new r.A],si]},{provide:oi,useFactory:hi,deps:[Zr,B,si]},{provide:ni,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ri},{provide:r.y,multi:!0,useFactory:ci},[gi,{provide:r.d,multi:!0,useFactory:yi,deps:[gi]},{provide:mi,useFactory:vi,deps:[gi]},{provide:r.b,multi:!0,useExisting:mi}]]}}static forChild(e){return{ngModule:t,providers:[pi(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Rb(ui,8),r.Rb(Zr,8))}}),t})();function hi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new oi(t,e,n)}function fi(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function di(t){return"guarded"}function pi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Br,multi:!0,useValue:t}]}let gi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ot.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Zr),r=this.injector.get(si);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Et.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(si),n=this.injector.get(ii),i=this.injector.get(oi),o=this.injector.get(Zr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function yi(t){return t.appInitializer.bind(t)}function vi(t){return t.bootstrapListener.bind(t)}const mi=new r.q("Router Initializer");let bi=(()=>{class t{constructor(t){this.actRoute=t}ngOnInit(){this.actRoute.data.subscribe(t=>{console.log(t.home)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(kn))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-edit-item"]],decls:3,vars:0,consts:[[1,"row"],[1,"col-12"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.gc(2," Edit "),r.Mb(),r.Mb())},styles:[""]}),t})();var wi=n("D0XW");function _i(){return t=>t.lift(new Ei)}class Ei{call(t,e){return e.subscribe(new Oi(t))}}class Oi extends xt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Ii{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ci(t,this.compare,this.keySelector))}}class Ci extends xt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Si=n("pxpQ"),Ti=n("spgP"),xi=n("Jgta"),Ai=n("zIRd"),ji=n("q/0M"),Ni=n("qOnz"),ki=function(t,e){return(ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Di(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ri,Pi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Vi=Vi||{},Mi=Pi||self;function Li(){}function Ui(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Fi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var qi="closure_uid_"+(1e9*Math.random()>>>0),Hi=0;function Bi(t,e,n){return t.call.apply(t.bind,arguments)}function zi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Gi(t,e,n){return(Gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bi:zi).apply(null,arguments)}function Wi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function $i(){return Date.now()}function Yi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Qi(){this.j=this.j,this.i=this.i}Qi.prototype.j=!1,Qi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,qi)&&t[qi]||(t[qi]=++Hi)}(this)},Qi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ki=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Zi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Xi(t){return Array.prototype.concat.apply([],arguments)}function Ji(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function to(t){return/^[\s\xa0]*$/.test(t)}var eo,no=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ro(t,e){return-1!=t.indexOf(e)}function io(t,e){return t<e?-1:t>e?1:0}t:{var oo=Mi.navigator;if(oo){var so=oo.userAgent;if(so){eo=so;break t}}eo=""}function uo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ao(t){var e={};for(var n in t)e[n]=t[n];return e}var co="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<co.length;o++)n=co[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ho(t){return ho[" "](t),t}ho[" "]=Li;var fo,po,go=ro(eo,"Opera"),yo=ro(eo,"Trident")||ro(eo,"MSIE"),vo=ro(eo,"Edge"),mo=vo||yo,bo=ro(eo,"Gecko")&&!(ro(eo.toLowerCase(),"webkit")&&!ro(eo,"Edge"))&&!(ro(eo,"Trident")||ro(eo,"MSIE"))&&!ro(eo,"Edge"),wo=ro(eo.toLowerCase(),"webkit")&&!ro(eo,"Edge");function _o(){var t=Mi.document;return t?t.documentMode:void 0}t:{var Eo="",Oo=(po=eo,bo?/rv:([^\);]+)(\)|;)/.exec(po):vo?/Edge\/([\d\.]+)/.exec(po):yo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(po):wo?/WebKit\/(\S+)/.exec(po):go?/(?:Version)[ \/]?(\S+)/.exec(po):void 0);if(Oo&&(Eo=Oo?Oo[1]:""),yo){var Io=_o();if(null!=Io&&Io>parseFloat(Eo)){fo=String(Io);break t}}fo=Eo}var Co={};function So(t){return function(t,e){var n=Co;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=no(String(fo)).split("."),r=no(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=io(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||io(0==s[2].length,0==u[2].length)||io(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var To=Mi.document&&yo&&(_o()||parseInt(fo,10))||void 0,xo=!yo||9<=Number(To),Ao=yo&&!So("9"),jo=function(){if(!Mi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Mi.addEventListener("test",Li,e),Mi.removeEventListener("test",Li,e)}catch(n){}return t}();function No(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ko(t,e){if(No.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(bo){t:{try{ho(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Do[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}No.prototype.b=function(){this.defaultPrevented=!0},Yi(ko,No);var Do={2:"touch",3:"pen",4:"mouse"};ko.prototype.b=function(){ko.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ao)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ro="closure_listenable_"+(1e6*Math.random()|0),Po=0;function Vo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Po,this.Y=this.Z=!1}function Mo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Lo(t){this.src=t,this.a={},this.b=0}function Uo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ki(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Mo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Fo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Lo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Fo(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Vo(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var qo="closure_lm_"+(1e6*Math.random()|0),Ho={};function Bo(t,e,n,r,i){if(r&&r.once)return Go(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bo(t,e[o],n,r,i);return null}return n=Jo(n),t&&t[Ro]?t.va(e,n,Fi(r)?!!r.capture:!!r,i):zo(t,e,n,!1,r,i)}function zo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Fi(i)?!!i.capture:!!i;if(s&&!xo)return null;var u=Zo(t);if(u||(t[qo]=u=new Lo(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ko,e=xo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jo||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Yo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Go(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Go(t,e[o],n,r,i);return null}return n=Jo(n),t&&t[Ro]?t.wa(e,n,Fi(r)?!!r.capture:!!r,i):zo(t,e,n,!0,r,i)}function Wo(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Wo(t,e[o],n,r,i);else r=Fi(r)?!!r.capture:!!r,n=Jo(n),t&&t[Ro]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Fo(o=t.a[e],n,r,i))&&(Mo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Zo(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Fo(e,n,r,i)),(n=-1<t?e[t]:null)&&$o(n))}function $o(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ro])Uo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Yo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zo(e))?(Uo(n,t),0==n.b&&(n.src=null,e[qo]=null)):Mo(t)}}}function Yo(t){return t in Ho?Ho[t]:Ho[t]="on"+t}function Qo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&$o(t),n.call(r,e)}function Ko(t,e){if(t.Y)return!0;if(!xo){if(!e)t:{e=["window","event"];for(var n=Mi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Qo(t,e=new ko(e,this))}return Qo(t,new ko(e,this))}function Zo(t){return(t=t[qo])instanceof Lo?t:null}var Xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jo(t){return"function"==typeof t?t:(t[Xo]||(t[Xo]=function(e){return t.handleEvent(e)}),t[Xo])}function ts(){Qi.call(this),this.c=new Lo(this),this.J=this,this.C=null}function es(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new No(e,t);else if(e instanceof No)e.target=e.target||t;else{var i=e;lo(e=new No(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ns(s,r,!0,e)&&i}if(i=ns(s=e.a=t,r,!0,e)&&i,i=ns(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ns(s=e.a=n[o],r,!1,e)&&i}function ns(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Uo(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Yi(ts,Qi),ts.prototype[Ro]=!0,(Ri=ts.prototype).addEventListener=function(t,e,n,r){Bo(this,t,e,n,r)},Ri.removeEventListener=function(t,e,n,r){Wo(this,t,e,n,r)},Ri.G=function(){if(ts.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Mo(n[r]);delete e.a[t],e.b--}}this.C=null},Ri.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ri.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var rs=Mi.JSON.stringify;function is(){this.b=this.a=null}var os,ss=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new as},function(t){t.reset()});function us(){var t=fs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function as(){this.next=this.b=this.a=null}function cs(t){Mi.setTimeout(function(){throw t},0)}function ls(t,e){os||function(){var t=Mi.Promise.resolve(void 0);os=function(){t.then(ds)}}(),hs||(os(),hs=!0),fs.add(t,e)}is.prototype.add=function(t,e){var n=ss.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},as.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},as.prototype.reset=function(){this.next=this.b=this.a=null};var hs=!1,fs=new is;function ds(){for(var t;t=us();){try{t.a.call(t.b)}catch(n){cs(n)}var e=ss;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}hs=!1}function ps(t,e){ts.call(this),this.b=t||1,this.a=e||Mi,this.f=Gi(this.Za,this),this.g=$i()}function gs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ys(t,e,n){if("function"==typeof t)n&&(t=Gi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Mi.setTimeout(t,e||0)}function vs(t){t.a=ys(function(){t.a=null,t.c&&(t.c=!1,vs(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Yi(ps,ts),(Ri=ps.prototype).aa=!1,Ri.M=null,Ri.Za=function(){if(this.aa){var t=$i()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),es(this,"tick"),this.aa&&(gs(this),this.start()))}},Ri.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=$i())},Ri.G=function(){ps.X.G.call(this),gs(this),delete this.a};var ms=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ki(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:vs(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Mi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Qi);function bs(t){Qi.call(this),this.b=t,this.a={}}Yi(bs,Qi);var ws=[];function _s(t,e,n,r){Array.isArray(n)||(n&&(ws[0]=n.toString()),n=ws);for(var i=0;i<n.length;i++){var o=Bo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Es(t){uo(t.a,function(t,e){this.a.hasOwnProperty(e)&&$o(t)},t),t.a={}}function Os(){this.a=!0}function Is(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return rs(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}bs.prototype.G=function(){bs.X.G.call(this),Es(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Os.prototype.info=function(){};var Cs={},Ss=null;function Ts(){return Ss=Ss||new ts}function xs(t){No.call(this,Cs.Fa,t)}function As(t){var e=Ts();es(e,new xs(e,t))}function js(t,e){No.call(this,Cs.STAT_EVENT,t),this.stat=e}function Ns(t){var e=Ts();es(e,new js(e,t))}function ks(t){No.call(this,Cs.Ga,t)}function Ds(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Mi.setTimeout(function(){t()},e)}Cs.Fa="serverreachability",Yi(xs,No),Cs.STAT_EVENT="statevent",Yi(js,No),Cs.Ga="timingevent",Yi(ks,No);var Rs={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ps={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Vs(){}function Ms(){}Vs.prototype.a=null;var Ls,Us={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Fs(){No.call(this,"d")}function qs(){No.call(this,"c")}function Hs(){}function Bs(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new bs(this),this.P=zs,this.R=new ps(t=mo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Yi(Fs,No),Yi(qs,No),Yi(Hs,Vs),Ls=new Hs;var zs=45e3,Gs={},Ws={};function $s(t,e,n){t.H=1,t.i=gu(cu(e)),t.j=n,t.I=!0,Ys(t,null)}function Ys(t,e){t.u=$i(),Zs(t),t.l=cu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),xu(n.b,"t",r),t.D=0,t.a=Ea(t.g,t.g.C?e:null),0<t.O&&(t.F=new ms(Gi(t.Ca,t,t.a),t.O)),_s(t.J,t.a,"readystatechange",t.Xa),e=t.B?ao(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),As(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Qs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ks(t,n);if(i==Ws){4==e&&(t.h=4,Ns(14),r=!1),Is(t.c,t.f,null,"[Incomplete Response]");break}if(i==Gs){t.h=4,Ns(15),Is(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Is(t.c,t.f,i,null),nu(t,i)}4==e&&0==n.length&&(t.h=1,Ns(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),pa(e),e.F=!0,Ns(11))):(Is(t.c,t.f,n,"[Invalid Chunked Response]"),eu(t),tu(t))}function Ks(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ws:(n=Number(e.substring(n,r)),isNaN(n)?Gs:(r+=1)+n>e.length?Ws:(e=e.substr(r,n),t.D=r+n,e))}function Zs(t){t.T=$i()+t.P,Xs(t,t.P)}function Xs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ds(Gi(t.Va,t),e)}function Js(t){t.o&&(Mi.clearTimeout(t.o),t.o=null)}function tu(t){0==t.g.v||t.A||va(t.g,t)}function eu(t){Js(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,gs(t.R),Es(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function nu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Pu(n.b,t)))if(n.I=t.N,!t.C&&Pu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(sm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ya(n),oa(n)}da(n),Ns(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ds(Gi(n.Sa,n),6e3));if(1>=Ru(n.b)&&n.ea){try{n.ea()}catch(sm){}n.ea=void 0}}else ba(n,11)}else if((t.C||n.a==t)&&ya(n),!to(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(ro(l,"spdy")||ro(l,"quic")||ro(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Vu(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,pu(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=$i()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=_a(a,a.C?a.ga:null,a.fa),d.C){Mu(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(Js(p),Zs(p)),a.a=d}else fa(a);0<n.g.length&&aa(n)}else"stop"!=i[0]&&"close"!=i[0]||ba(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ba(n,7):ia(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);As(4)}catch(sm){}}function ru(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ui(t)||"string"==typeof t)Zi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ui(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ui(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function iu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof iu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ou(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];su(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)su(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function su(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ri=Bs.prototype).setTimeout=function(t){this.P=t},Ri.Xa=function(t){t=t.target;var e=this.F;e&&3==ta(t)?e.f():this.Ca(t)},Ri.Ca=function(t){try{if(t==this.a)t:{var e=ta(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!mo&&!this.a.$())){this.A||4!=e||7==n||As(8==n||0>=r?3:2),Js(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!to(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Ns(12),eu(this),tu(this);break t}Is(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,nu(this,a)}this.I?(Qs(this,e,o),mo&&this.b&&3==e&&(_s(this.J,this.R,"tick",this.Wa),this.R.start())):(Is(this.c,this.f,o,null),nu(this,o)),4==e&&eu(this),this.b&&!this.A&&(4==e?va(this.g,this):(this.b=!1,Zs(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ns(12)):(this.h=0,Ns(13)),eu(this),tu(this)}}}catch(c){}},Ri.Wa=function(){if(this.a){var t=ta(this.a),e=this.a.$();this.D<e.length&&(Js(this),Qs(this,t,e),this.b&&4!=t&&Zs(this))}},Ri.cancel=function(){this.A=!0,eu(this)},Ri.Va=function(){this.o=null;var t=$i();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(As(3),Ns(17)),eu(this),this.h=2,tu(this)):Xs(this,this.T-t)},(Ri=iu.prototype).K=function(){ou(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ri.L=function(){return ou(this),this.a.concat()},Ri.get=function(t,e){return su(this.b,t)?this.b[t]:e},Ri.set=function(t,e){su(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ri.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var uu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function au(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof au){this.a=void 0!==e?e:t.a,lu(this,t.f),this.j=t.j,hu(this,t.c),fu(this,t.h),this.g=t.g,e=t.b;var n=new Iu;n.c=e.c,e.a&&(n.a=new iu(e.a),n.b=e.b),du(this,n),this.i=t.i}else t&&(n=String(t).match(uu))?(this.a=!!e,lu(this,n[1]||"",!0),this.j=yu(n[2]||""),hu(this,n[3]||"",!0),fu(this,n[4]),this.g=yu(n[5]||"",!0),du(this,n[6]||"",!0),this.i=yu(n[7]||"")):(this.a=!!e,this.b=new Iu(null,this.a))}function cu(t){return new au(t)}function lu(t,e,n){t.f=n?yu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function hu(t,e,n){t.c=n?yu(e,!0):e}function fu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function du(t,e,n){e instanceof Iu?(t.b=e,function(t,e){e&&!t.f&&(Cu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Su(this,e),xu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=vu(e,Eu)),t.b=new Iu(e,t.a))}function pu(t,e,n){t.b.set(e,n)}function gu(t){return pu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^$i()).toString(36)),t}function yu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,mu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}au.prototype.toString=function(){var t=[],e=this.f;e&&t.push(vu(e,bu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(vu(e,bu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(vu(n,"/"==n.charAt(0)?_u:wu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",vu(n,Ou)),t.join("")};var bu=/[#\/\?@]/g,wu=/[#\?:]/g,_u=/[#\?]/g,Eu=/[#\?@]/g,Ou=/#/g;function Iu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Cu(t){t.a||(t.a=new iu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Su(t,e){Cu(t),e=Au(t,e),su(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,su((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ou(t)))}function Tu(t,e){return Cu(t),e=Au(t,e),su(t.a.b,e)}function xu(t,e,n){Su(t,e),0<n.length&&(t.c=null,t.a.set(Au(t,e),Ji(n)),t.b+=n.length)}function Au(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ri=Iu.prototype).add=function(t,e){Cu(this),this.c=null,t=Au(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ri.forEach=function(t,e){Cu(this),this.a.forEach(function(n,r){Zi(n,function(n){t.call(e,n,r,this)},this)},this)},Ri.L=function(){Cu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ri.K=function(t){Cu(this);var e=[];if("string"==typeof t)Tu(this,t)&&(e=Xi(e,this.a.get(Au(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Xi(e,t[n])}return e},Ri.set=function(t,e){return Cu(this),this.c=null,Tu(this,t=Au(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ri.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ri.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ju=function(){return function(t,e){this.b=t,this.a=e}}();function Nu(t){this.g=t||ku,t=Mi.PerformanceNavigationTiming?0<(t=Mi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Mi.ia&&Mi.ia.ya&&Mi.ia.ya()&&Mi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ku=10;function Du(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ru(t){return t.b?1:t.a?t.a.size:0}function Pu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Vu(t,e){t.a?t.a.add(e):t.b=e}function Mu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Lu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Di(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ji(t.c)}function Uu(){}function Fu(){this.a=new Uu}function qu(t,e,n){var r=n||"";try{ru(t,function(t,n){var i=t;Fi(t)&&(i=rs(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch($m){throw e.push(r+"type="+encodeURIComponent("_badmap")),$m}}function Hu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Nu.prototype.cancel=function(){var t,e;if(this.c=Lu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Di(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Uu.prototype.stringify=function(t){return Mi.JSON.stringify(t,void 0)},Uu.prototype.parse=function(t){return Mi.JSON.parse(t,void 0)};var Bu=Mi.JSON.parse;function zu(t){ts.call(this),this.headers=new iu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Gu,this.D=this.F=!1}Yi(zu,ts);var Gu="",Wu=/^https?$/i,$u=["POST","PUT"];function Yu(t){return"content-type"==t.toLowerCase()}function Qu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ku(t),Xu(t)}function Ku(t){t.u||(t.u=!0,es(t,"complete"),es(t,"error"))}function Zu(t){if(t.b&&void 0!==Vi&&(!t.s[1]||4!=ta(t)||2!=t.W()))if(t.l&&4==ta(t))ys(t.za,0,t);else if(es(t,"readystatechange"),4==ta(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(uu)[1]||null;if(!o&&Mi.self&&Mi.self.location){var s=Mi.self.location.protocol;o=s.substr(0,s.length-1)}i=!Wu.test(o?o.toLowerCase():"")}e=i}if(e)es(t,"complete"),es(t,"success");else{t.h=6;try{var u=2<ta(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",Ku(t)}}finally{Xu(t)}}}function Xu(t,e){if(t.a){Ju(t);var n=t.a,r=t.s[0]?Li:null;t.a=null,t.s=null,e||es(t,"ready");try{n.onreadystatechange=r}catch($m){}}}function Ju(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Mi.clearTimeout(t.m),t.m=null)}function ta(t){return t.a?t.a.readyState:0}function ea(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return uo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pu(t,e,n))}function na(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ra(t){this.pa=0,this.g=[],this.c=new Os,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=na("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=na("baseRetryDelayMs",5e3,t),this.Ra=na("retryDelaySeedMs",1e4,t),this.Ma=na("forwardChannelMaxRetries",2,t),this.ma=na("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Nu(t&&t.concurrentRequestLimit),this.ka=new Fu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ia(t){if(sa(t),3==t.v){var e=t.R++,n=cu(t.B);pu(n,"SID",t.J),pu(n,"RID",e),pu(n,"TYPE","terminate"),la(t,n),(e=new Bs(t,t.c,e,void 0)).H=2,e.i=gu(cu(n)),n=!1,Mi.navigator&&Mi.navigator.sendBeacon&&(n=Mi.navigator.sendBeacon(e.i.toString(),"")),!n&&Mi.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ea(e.g,null),e.a.ba(e.i)),e.u=$i(),Zs(e)}wa(t)}function oa(t){t.a&&(pa(t),t.a.cancel(),t.a=null)}function sa(t){oa(t),t.j&&(Mi.clearTimeout(t.j),t.j=null),ya(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Mi.clearTimeout(t.h),t.h=null)}function ua(t,e){t.g.push(new ju(t.Oa++,e)),3==t.v&&aa(t)}function aa(t){Du(t.b)||t.h||(t.h=!0,ls(t.Ba,t),t.u=0)}function ca(t,e){var n;n=e?e.f:t.R++;var r=cu(t.B);pu(r,"SID",t.J),pu(r,"RID",n),pu(r,"AID",t.P),la(t,r),t.i&&t.l&&ea(r,t.i,t.l),n=new Bs(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ha(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Vu(t.b,n),$s(n,r,e)}function la(t,e){t.f&&ru({},function(t,n){pu(e,n,t)})}function ha(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Gi(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{qu(l,s,"req"+c+"_")}catch(ic){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function fa(t){t.a||t.j||(t.T=1,ls(t.Aa,t),t.o=0)}function da(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ds(Gi(t.Aa,t),ma(t,t.o)),t.o++,0))}function pa(t){null!=t.s&&(Mi.clearTimeout(t.s),t.s=null)}function ga(t){t.a=new Bs(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=cu(t.la);pu(e,"RID","rpc"),pu(e,"SID",t.J),pu(e,"CI",t.H?"0":"1"),pu(e,"AID",t.P),la(t,e),pu(e,"TYPE","xmlhttp"),t.i&&t.l&&ea(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=gu(cu(e)),n.j=null,n.I=!0,Ys(n,t)}function ya(t){null!=t.m&&(Mi.clearTimeout(t.m),t.m=null)}function va(t,e){var n=null;if(t.a==e){ya(t),pa(t),t.a=null;var r=2}else{if(!Pu(t.b,e))return;n=e.s,Mu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=$i()-e.u;var i=t.u;es(r=Ts(),new ks(r,n,e,i)),aa(t)}else fa(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ru(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ds(Gi(t.Ba,t,e),ma(t,t.u)),t.u++,0)))}(t,e)||2==r&&da(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ba(t,5);break;case 4:ba(t,10);break;case 3:ba(t,6);break;default:ba(t,2)}}function ma(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ba(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Gi(t.Ya,t);n||(n=new au("//www.google.com/images/cleardot.gif"),Mi.location&&"http"==Mi.location.protocol||lu(n,"https"),gu(n)),function(t,e){var n=new Os;if(Mi.Image){var r=new Image;r.onload=Wi(Hu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wi(Hu,n,r,"TestLoadImage: error",!1,e),r.onabort=Wi(Hu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wi(Hu,n,r,"TestLoadImage: timeout",!1,e),Mi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ns(2);t.v=0,t.f&&t.f.ra(e),wa(t),sa(t)}function wa(t){t.v=0,t.I=-1,t.f&&(0==Lu(t.b).length&&0==t.g.length||(t.b.c.length=0,Ji(t.g),t.g.length=0),t.f.qa())}function _a(t,e,n){var r=function(t){return t instanceof au?cu(t):new au(t,void 0)}(n);if(""!=r.c)e&&hu(r,e+"."+r.c),fu(r,r.h);else{var i=Mi.location;r=function(t,e,n,r){var i=new au(null,void 0);return t&&lu(i,t),e&&hu(i,e),n&&fu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&uo(t.V,function(t,e){pu(r,e,t)}),n=t.na,(e=t.A)&&n&&pu(r,e,n),pu(r,"VER",t.ha),la(t,r),r}function Ea(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zu(t.Na)).F=t.C,e}function Oa(){}function Ia(){if(yo&&!(10<=Number(To)))throw Error("Environmental error: no available transport.")}function Ca(t,e){ts.call(this),this.a=new ra(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!to(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!to(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new xa(this)}function Sa(t){Fs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ta(){qs.call(this),this.status=1}function xa(t){this.a=t}(Ri=zu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ls),this.a.onreadystatechange=Gi(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Qu(this,o)}t=n||"";var i=new iu(this.headers);r&&ru(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Yu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Mi.FormData&&t instanceof Mi.FormData,!(0<=Ki($u,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ju(this),0<this.o&&((this.D=function(t){return yo&&So(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Gi(this.xa,this)):this.m=ys(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Qu(this,o)}},Ri.xa=function(){void 0!==Vi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,es(this,"timeout"),this.abort(8))},Ri.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,es(this,"complete"),es(this,"abort"),Xu(this))},Ri.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Xu(this,!0)),zu.X.G.call(this)},Ri.za=function(){this.j||(this.A||this.l||this.g?Zu(this):this.Ua())},Ri.Ua=function(){Zu(this)},Ri.W=function(){try{return 2<ta(this)?this.a.status:-1}catch(po){return-1}},Ri.$=function(){try{return this.a?this.a.responseText:""}catch(po){return""}},Ri.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Bu(e)}},Ri.ua=function(){return this.h},Ri.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ri=ra.prototype).ha=8,Ri.v=1,Ri.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Bs(this,this.c,t,void 0),r=this.l;if(this.O&&(r?lo(r=ao(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ha(this,n,e),pu(i=cu(this.B),"RID",t),pu(i,"CVER",22),this.A&&pu(i,"X-HTTP-Session-Id",this.A),la(this,i),this.i&&r&&ea(i,this.i,r),Vu(this.b,n),this.Ia&&pu(i,"TYPE","init"),this.da?(pu(i,"$req",e),pu(i,"SID","null"),n.U=!0,$s(n,i,null)):$s(n,i,e),this.v=2}}else 3==this.v&&(t?ca(this,t):0==this.g.length||Du(this.b)||ca(this))},Ri.Aa=function(){if(this.j=null,ga(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ds(Gi(this.Ta,this),t)}},Ri.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ns(10),oa(this),ga(this))},Ri.Sa=function(){null!=this.m&&(this.m=null,oa(this),da(this),Ns(19))},Ri.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ns(2)):(this.c.info("Failed to ping google.com"),Ns(1))},(Ri=Oa.prototype).ta=function(){},Ri.sa=function(){},Ri.ra=function(){},Ri.qa=function(){},Ri.Ja=function(){},Ia.prototype.a=function(t,e){return new Ca(t,e)},Yi(Ca,ts),Ca.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ns(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=_a(t,null,t.fa),aa(t)},Ca.prototype.close=function(){ia(this.a)},Ca.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ua(this.a,e)}else this.l?((e={}).__data__=rs(t),ua(this.a,e)):ua(this.a,t)},Ca.prototype.G=function(){this.a.f=null,delete this.f,ia(this.a),delete this.a,Ca.X.G.call(this)},Yi(Sa,Fs),Yi(Ta,qs),Yi(xa,Oa),xa.prototype.ta=function(){es(this.a,"a")},xa.prototype.sa=function(t){es(this.a,new Sa(t))},xa.prototype.ra=function(t){es(this.a,new Ta(t))},xa.prototype.qa=function(){es(this.a,"b")},Ia.prototype.createWebChannel=Ia.prototype.a,Ca.prototype.send=Ca.prototype.h,Ca.prototype.open=Ca.prototype.g,Ca.prototype.close=Ca.prototype.close,Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,Ps.COMPLETE="complete",Ms.EventType=Us,Us.OPEN="a",Us.CLOSE="b",Us.ERROR="c",Us.MESSAGE="d",ts.prototype.listen=ts.prototype.va,zu.prototype.listenOnce=zu.prototype.wa,zu.prototype.getLastError=zu.prototype.Qa,zu.prototype.getLastErrorCode=zu.prototype.ua,zu.prototype.getStatus=zu.prototype.W,zu.prototype.getResponseJson=zu.prototype.Pa,zu.prototype.getResponseText=zu.prototype.$,zu.prototype.send=zu.prototype.ba;var Aa=Rs,ja=Ps,Na=Cs,ka=Ms,Da=zu,Ra=n("os0x"),Pa=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Va=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ma=new ji.b("@firebase/firestore");function La(){return Ma.logLevel}function Ua(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ma.logLevel<=ji.a.DEBUG){var r=e.map(Ha);Ma.debug.apply(Ma,Object(Ra.g)(["Firestore (8.2.9): "+t],r))}}function Fa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ma.logLevel<=ji.a.ERROR){var r=e.map(Ha);Ma.error.apply(Ma,Object(Ra.g)(["Firestore (8.2.9): "+t],r))}}function qa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ma.logLevel<=ji.a.WARN){var r=e.map(Ha);Ma.warn.apply(Ma,Object(Ra.g)(["Firestore (8.2.9): "+t],r))}}function Ha(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch($m){return t}}function Ba(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Fa(e),new Error(e)}function za(t,e){t||Ba()}function Ga(t,e){return t}function Wa(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var $a=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Wa(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ya(t,e){return t<e?-1:t>e?1:0}function Qa(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ka(t){return t+"\0"}var Za=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Ya(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Za.T=new Za("");var Xa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ja=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ra.c)(e,t),e}(Error),tc=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Za.fromBase64String(e))}catch(e){throw new Ja(Xa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Za.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),ec=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ec.UNAUTHENTICATED=new ec(null),ec.R=new ec("google-credentials-uid"),ec.P=new ec("first-party-uid");var nc=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},rc=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(ec.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),ic=function(){function t(t){var e=this;this.D=null,this.currentUser=ec.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Ua("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(za("string"==typeof n.accessToken),new nc(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return za(null===t||"string"==typeof t),new ec(t)},t}(),oc=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=ec.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),sc=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new oc(this.F,this.O))},t.prototype.v=function(t){t(ec.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),uc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();uc.q=-1;var ac=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ja(Xa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ja(Xa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ja(Xa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ja(Xa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Ya(this.nanoseconds,t.nanoseconds):Ya(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),cc=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new ac(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),lc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ba(),void 0===n?n=t.length-e:n>t.length-e&&Ba(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(lc),fc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return fc.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new Ja(Xa.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Ja(Xa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Ja(Xa.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(lc),pc=function(){function t(t){this.path=t}return t._t=function(e){return new t(hc.ot(e))},t.ft=function(e){return new t(hc.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===hc.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return hc.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new hc(e.slice()))},t}();function gc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var mc=function(){function t(t){this.fields=t,t.sort(dc.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Qa(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),bc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wc(t){if(za(!!t),"string"==typeof t){var e=0,n=bc.exec(t);if(za(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_c(t.seconds),nanos:_c(t.nanos)}}function _c(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ec(t){return"string"==typeof t?Za.fromBase64String(t):Za.fromUint8Array(t)}function Oc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ic(t){var e=t.mapValue.fields.__previous_value__;return Oc(e)?Ic(e):e}function Cc(t){var e=wc(t.mapValue.fields.__local_write_time__.timestampValue);return new ac(e.seconds,e.nanos)}function Sc(t){return null==t}function Tc(t){return 0===t&&1/t==-1/0}function xc(t){return"number"==typeof t&&Number.isInteger(t)&&!Tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ac(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oc(t)?4:10:Ba()}function jc(t,e){var n=Ac(t);if(n!==Ac(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cc(t).isEqual(Cc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=wc(t.timestampValue),r=wc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ec(t.bytesValue).isEqual(Ec(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return _c(t.geoPointValue.latitude)===_c(e.geoPointValue.latitude)&&_c(t.geoPointValue.longitude)===_c(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return _c(t.integerValue)===_c(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=_c(t.doubleValue),r=_c(e.doubleValue);return n===r?Tc(n)===Tc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Qa(t.arrayValue.values||[],e.arrayValue.values||[],jc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(gc(n)!==gc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jc(n[i],r[i])))return!1;return!0}(t,e);default:return Ba()}}function Nc(t,e){return void 0!==(t.values||[]).find(function(t){return jc(t,e)})}function kc(t,e){var n=Ac(t),r=Ac(e);if(n!==r)return Ya(n,r);switch(n){case 0:return 0;case 1:return Ya(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=_c(t.integerValue||t.doubleValue),r=_c(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Dc(t.timestampValue,e.timestampValue);case 4:return Dc(Cc(t),Cc(e));case 5:return Ya(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ec(t),r=Ec(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ya(n[i],r[i]);if(0!==o)return o}return Ya(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ya(_c(t.latitude),_c(e.latitude));return 0!==n?n:Ya(_c(t.longitude),_c(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=kc(n[i],r[i]);if(o)return o}return Ya(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Ya(r[s],o[s]);if(0!==u)return u;var a=kc(n[r[s]],i[o[s]]);if(0!==a)return a}return Ya(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ba()}}function Dc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ya(t,e);var n=wc(t),r=wc(e),i=Ya(n.seconds,r.seconds);return 0!==i?i:Ya(n.nanos,r.nanos)}function Rc(t){return Pc(t)}function Pc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=wc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ec(t.bytesValue).toBase64():"referenceValue"in t?pc.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Pc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Pc(t.fields[o])}return e+"}"}(t.mapValue):Ba();var e}function Vc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Mc(t){return!!t&&"integerValue"in t}function Lc(t){return!!t&&"arrayValue"in t}function Uc(t){return!!t&&"nullValue"in t}function Fc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qc(t){return!!t&&"mapValue"in t}var Hc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!qc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return jc(this.proto,t.proto)},t}(),Bc=function(){function t(t){void 0===t&&(t=Hc.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ac(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(dc.ct(),this.At);return null!=t?new Hc(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=qc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function zc(t){var e=[];return yc(t.fields||{},function(t,n){var r=new dc([t]);if(qc(n)){var i=zc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new mc(e)}var Gc=function(t,e){this.key=t,this.version=e},Wc=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Ra.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Gc),$c=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Ra.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Gc),Yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Gc),Qc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Kc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Qc(t,e,n,r,i,o,s)}function Zc(t){var e=Ga(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+Rc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),Sc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ll(e.startAt)),e.endAt&&(n+="|ub:",n+=ll(e.endAt)),e.vt=n}return e.vt}function Xc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!fl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!jc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pl(t.startAt,e.startAt)&&pl(t.endAt,e.endAt)}function Jc(t){return pc.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var tl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ra.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new el(t,n,r):"array-contains"===n?new ol(t,r):"in"===n?new sl(t,r):"not-in"===n?new ul(t,r):"array-contains-any"===n?new al(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new nl(t,n):new rl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(kc(e,this.value)):null!==e&&Ac(this.value)===Ac(e)&&this.Dt(kc(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ba()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),el=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=pc.ft(r.referenceValue),i}return Object(Ra.c)(e,t),e.prototype.matches=function(t){var e=pc.H(t.key,this.key);return this.Dt(e)},e}(tl),nl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=il(0,n),r}return Object(Ra.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(tl),rl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=il(0,n),r}return Object(Ra.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(tl);function il(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return pc.ft(t.referenceValue)})}var ol=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ra.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Lc(e)&&Nc(e.arrayValue,this.value)},e}(tl),sl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ra.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Nc(this.value.arrayValue,e)},e}(tl),ul=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ra.c)(e,t),e.prototype.matches=function(t){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Nc(this.value.arrayValue,e)},e}(tl),al=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ra.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Lc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Nc(e.value.arrayValue,t)})},e}(tl),cl=function(t,e){this.position=t,this.before=e};function ll(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Rc(t)}).join(",")}var hl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function fl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function dl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?pc.H(pc.ft(s.referenceValue),n.key):kc(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function pl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!jc(t.position[n],e.position[n]))return!1;return!0}var gl=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Nt=null,this.$t=null};function yl(t,e,n,r,i,o,s,u){return new gl(t,e,n,r,i,o,s,u)}function vl(t){return new gl(t)}function ml(t){return!Sc(t.limit)&&"F"===t.limitType}function bl(t){return!Sc(t.limit)&&"L"===t.limitType}function wl(t){return t.xt.length>0?t.xt[0].field:null}function _l(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function El(t){return null!==t.collectionGroup}function Ol(t){var e=Ga(t);if(null===e.Nt){e.Nt=[];var n=_l(e),r=wl(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new hl(n)),e.Nt.push(new hl(dc.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var u=s[o];e.Nt.push(u),u.field.ut()&&(i=!0)}if(!i){var a=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new hl(dc.ht(),a))}}}return e.Nt}function Il(t){var e=Ga(t);if(!e.$t)if("F"===e.limitType)e.$t=Kc(e.path,e.collectionGroup,Ol(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ol(e);r<i.length;r++){var o=i[r];n.push(new hl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new cl(e.endAt.position,!e.endAt.before):null,u=e.startAt?new cl(e.startAt.position,!e.startAt.before):null;e.$t=Kc(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.$t}function Cl(t,e,n){return new gl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sl(t,e){return Xc(Il(t),Il(e))&&t.limitType===e.limitType}function Tl(t){return Zc(Il(t))+"|lt:"+t.limitType}function xl(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+Rc(e.value);var e}).join(", ")+"]"),Sc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ll(t.startAt)),t.endAt&&(e+=", endAt: "+ll(t.endAt)),"Target("+e+")"}(Il(t))+"; limitType="+t.limitType+")"}function Al(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):pc.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!dl(t.startAt,Ol(t),e)||t.endAt&&dl(t.endAt,Ol(t),e))}(t,e)}function jl(t){return function(e,n){for(var r=!1,i=0,o=Ol(t);i<o.length;i++){var s=o[i],u=Nl(s,e,n);if(0!==u)return u;r=r||s.field.ut()}return 0}}function Nl(t,e,n){var r=t.field.ut()?pc.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?kc(r,i):Ba()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ba()}}var kl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=cc.min()),void 0===o&&(o=cc.min()),void 0===s&&(s=Za.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Dl(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function Rl(t){return{integerValue:""+t}}function Pl(t,e){return xc(e)?Rl(e):Dl(t,e)}var Vl=function(){this.qt=void 0};function Ml(t,e,n){return t instanceof Fl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ql?Hl(t,e):t instanceof Bl?zl(t,e):function(t,e){var n=Ul(t,e),r=Wl(n)+Wl(t.Ut);return Mc(n)&&Mc(t.Ut)?Rl(r):Dl(t.Qt,r)}(t,e)}function Ll(t,e,n){return t instanceof ql?Hl(t,e):t instanceof Bl?zl(t,e):n}function Ul(t,e){return t instanceof Gl?Mc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e}(Vl),ql=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ra.c)(e,t),e}(Vl);function Hl(t,e){for(var n=$l(e),r=function(t){n.some(function(e){return jc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ra.c)(e,t),e}(Vl);function zl(t,e){for(var n=$l(e),r=function(t){n=n.filter(function(e){return!jc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Gl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Ra.c)(e,t),e}(Vl);function Wl(t){return _c(t.integerValue||t.doubleValue)}function $l(t){return Lc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Yl=function(t,e){this.field=t,this.transform=e},Ql=function(t,e){this.version=t,this.transformResults=e},Kl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Zl(t,e){return void 0!==t.updateTime?e instanceof Wc&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Wc}var Xl=function(){};function Jl(t,e,n){return t instanceof ih?function(t,e,n){var r=t.value;if(n.transformResults){var i=uh(t.fieldTransforms,e,n.transformResults);r=ch(t.fieldTransforms,r,i)}return new Wc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof oh?function(t,e,n){if(!Zl(t.jt,e))return new Yc(t.key,n.version);var r=sh(t,e,n.transformResults?uh(t.fieldTransforms,e,n.transformResults):[]);return new Wc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new $c(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function th(t,e,n){return t instanceof ih?function(t,e,n){if(!Zl(t.jt,e))return e;var r=t.value,i=ah(t.fieldTransforms,n,e);r=ch(t.fieldTransforms,r,i);var o=rh(e);return new Wc(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof oh?function(t,e,n){if(!Zl(t.jt,e))return e;var r=rh(e),i=sh(t,e,ah(t.fieldTransforms,n,e));return new Wc(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Zl(t.jt,e)?new $c(t.key,cc.min()):e}(t,e)}function eh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Wc?e.field(o.field):void 0,u=Ul(o.transform,s||null);null!=u&&(n=null==n?(new Bc).set(o.field,u):n.set(o.field,u))}return n?n.Pt():null}(t.fieldTransforms,e)}function nh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Qa(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ql&&e instanceof ql||t instanceof Bl&&e instanceof Bl?Qa(t.elements,e.elements,jc):t instanceof Gl&&e instanceof Gl?jc(t.Ut,e.Ut):t instanceof Fl&&e instanceof Fl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function rh(t){return t instanceof Wc?t.version:cc.min()}var ih=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(Ra.c)(e,t),e}(Xl),oh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(Ra.c)(e,t),e}(Xl);function sh(t,e,n){var r;return r=function(t,e){var n=new Bc(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof Wc?e.data():Hc.empty()),ch(t.fieldTransforms,r,n)}function uh(t,e,n){var r=[];za(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof Wc&&(u=e.field(o.field)),r.push(Ll(s,u,n[i]))}return r}function ah(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof Wc&&(a=n.field(s.field)),r.push(Ml(u,a,e))}return r}function ch(t,e,n){for(var r=new Bc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var lh,hh,fh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Ra.c)(e,t),e}(Xl),dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Ra.c)(e,t),e}(Xl),ph=function(t){this.count=t};function gh(t){switch(t){case Xa.OK:return Ba();case Xa.CANCELLED:case Xa.UNKNOWN:case Xa.DEADLINE_EXCEEDED:case Xa.RESOURCE_EXHAUSTED:case Xa.INTERNAL:case Xa.UNAVAILABLE:case Xa.UNAUTHENTICATED:return!1;case Xa.INVALID_ARGUMENT:case Xa.NOT_FOUND:case Xa.ALREADY_EXISTS:case Xa.PERMISSION_DENIED:case Xa.FAILED_PRECONDITION:case Xa.ABORTED:case Xa.OUT_OF_RANGE:case Xa.UNIMPLEMENTED:case Xa.DATA_LOSS:return!0;default:return Ba()}}function yh(t){if(void 0===t)return Fa("GRPC error has no .code"),Xa.UNKNOWN;switch(t){case lh.OK:return Xa.OK;case lh.CANCELLED:return Xa.CANCELLED;case lh.UNKNOWN:return Xa.UNKNOWN;case lh.DEADLINE_EXCEEDED:return Xa.DEADLINE_EXCEEDED;case lh.RESOURCE_EXHAUSTED:return Xa.RESOURCE_EXHAUSTED;case lh.INTERNAL:return Xa.INTERNAL;case lh.UNAVAILABLE:return Xa.UNAVAILABLE;case lh.UNAUTHENTICATED:return Xa.UNAUTHENTICATED;case lh.INVALID_ARGUMENT:return Xa.INVALID_ARGUMENT;case lh.NOT_FOUND:return Xa.NOT_FOUND;case lh.ALREADY_EXISTS:return Xa.ALREADY_EXISTS;case lh.PERMISSION_DENIED:return Xa.PERMISSION_DENIED;case lh.FAILED_PRECONDITION:return Xa.FAILED_PRECONDITION;case lh.ABORTED:return Xa.ABORTED;case lh.OUT_OF_RANGE:return Xa.OUT_OF_RANGE;case lh.UNIMPLEMENTED:return Xa.UNIMPLEMENTED;case lh.DATA_LOSS:return Xa.DATA_LOSS;default:return Ba()}}(hh=lh||(lh={}))[hh.OK=0]="OK",hh[hh.CANCELLED=1]="CANCELLED",hh[hh.UNKNOWN=2]="UNKNOWN",hh[hh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hh[hh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hh[hh.NOT_FOUND=5]="NOT_FOUND",hh[hh.ALREADY_EXISTS=6]="ALREADY_EXISTS",hh[hh.PERMISSION_DENIED=7]="PERMISSION_DENIED",hh[hh.UNAUTHENTICATED=16]="UNAUTHENTICATED",hh[hh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hh[hh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hh[hh.ABORTED=10]="ABORTED",hh[hh.OUT_OF_RANGE=11]="OUT_OF_RANGE",hh[hh.UNIMPLEMENTED=12]="UNIMPLEMENTED",hh[hh.INTERNAL=13]="INTERNAL",hh[hh.UNAVAILABLE=14]="UNAVAILABLE",hh[hh.DATA_LOSS=15]="DATA_LOSS";var vh=function(){function t(t,e){this.H=t,this.root=e||bh.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,bh.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,bh.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new mh(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new mh(this.root,t,this.H,!1)},t.prototype.ne=function(){return new mh(this.root,null,this.H,!0)},t.prototype.se=function(t){return new mh(this.root,t,this.H,!0)},t}(),mh=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),bh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Ba();if(this.right.le())throw Ba();var t=this.left.Ie();if(t!==this.right.Ie())throw Ba();return t+(this.le()?0:1)},t}();bh.EMPTY=null,bh.RED=!0,bh.Ht=!1,bh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ba()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ba()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ba()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ba()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ba()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new bh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var wh=function(){function t(t){this.H=t,this.data=new vh(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new _h(this.data.te())},t.prototype.ee=function(t){return new _h(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),_h=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),Eh=new vh(pc.H);function Oh(){return Eh}function Ih(){return Oh()}var Ch=new vh(pc.H);function Sh(){return Ch}var Th=new vh(pc.H);function xh(){return Th}var Ah=new wh(pc.H);function jh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ah,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Nh=new wh(Ya);function kh(){return Nh}var Dh=function(){function t(t){this.H=t?function(e,n){return t(e,n)||pc.H(e.key,n.key)}:function(t,e){return pc.H(t.key,e.key)},this.ge=Sh(),this.Ve=new vh(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Rh=function(){function t(){this.be=new vh(pc.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Ba():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),Ph=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=u}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Dh.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Sl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Vh=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Mh.Le(e,n)),new t(cc.min(),r,kh(),Oh(),jh())},t}(),Mh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Za.T,n,jh(),jh(),jh())},t}(),Lh=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Uh=function(t,e){this.targetId=t,this.je=e},Fh=function(t,e,n,r){void 0===n&&(n=Za.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},qh=function(){function t(){this.Ge=0,this.ze=zh(),this.He=Za.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=jh(),e=jh(),n=jh();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ba()}}),new Mh(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=zh()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Hh=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Oh(),this._n=Bh(),this.fn=new wh(Ya)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Wc?this.wn(r,t.We):t.We instanceof $c&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Ba()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Jc(i))if(0===n){var o=new pc(i.path);this.En(e,o,new $c(o,cc.min()))}else za(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&Jc(o.target)){var s=new pc(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new $c(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=jh();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Vh(t,n,this.fn,this.ln,r);return this.ln=Oh(),this._n=Bh(),this.fn=new wh(Ya),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new qh,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new wh(Ya),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Ua("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new qh),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Bh(){return new vh(pc.H)}function zh(){return new vh(pc.H)}var Gh={asc:"ASCENDING",desc:"DESCENDING"},Wh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$h=function(t,e){this.t=t,this.Bt=e};function Yh(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qh(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Kh(t,e){return Yh(t,e.j())}function Zh(t){return za(!!t),cc.K(function(t){var e=wc(t);return new ac(e.seconds,e.nanos)}(t))}function Xh(t,e){return function(t){return new hc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Jh(t){var e=hc.ot(t);return za(If(e)),e}function tf(t,e){return Xh(t.t,e.path)}function ef(t,e){var n=Jh(e);if(n.get(1)!==t.t.projectId)throw new Ja(Xa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Ja(Xa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new pc(sf(n))}function nf(t,e){return Xh(t.t,e)}function rf(t){var e=Jh(t);return 4===e.length?hc.ct():sf(e)}function of(t){return new hc(["projects",t.t.projectId,"databases",t.t.database]).rt()}function sf(t){return za(t.length>4&&"documents"===t.get(4)),t.Y(5)}function uf(t,e,n){return{name:tf(t,e),fields:n.proto.mapValue.fields}}function af(t,e,n){var r=ef(t,e.name),i=Zh(e.updateTime),o=new Hc({mapValue:{fields:e.fields}});return new Wc(r,i,o,{hasCommittedMutations:!!n})}function cf(t,e){var n;if(e instanceof ih)n={update:uf(t,e.key,e.value)};else if(e instanceof fh)n={delete:tf(t,e.key)};else if(e instanceof oh)n={update:uf(t,e.key,e.data),updateMask:Of(e.Gt)};else{if(!(e instanceof dh))return Ba();n={verify:tf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Fl)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof ql)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Bl)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Gl)return{fieldPath:e.field.rt(),increment:n.Ut};throw Ba()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Kh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ba()}(t,e.jt)),n}function lf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Kl.updateTime(Zh(t.updateTime)):void 0!==t.exists?Kl.exists(t.exists):Kl.Kt()}(e.currentDocument):Kl.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(za("REQUEST_TIME"===e.setToServerValue),n=new Fl):"appendMissingElements"in e?n=new ql(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Bl(e.removeAllFromArray.values||[]):"increment"in e?n=new Gl(t,e.increment):Ba();var r=dc.lt(e.fieldPath);return new Yl(r,n)}(t,e)}):[];if(e.update){var i=ef(t,e.update.name),o=new Hc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new mc((t.fieldPaths||[]).map(function(t){return dc.lt(t)}))}(e.updateMask);return new oh(i,o,s,n,r)}return new ih(i,o,n,r)}if(e.delete){var u=ef(t,e.delete);return new fh(u,n)}if(e.verify){var a=ef(t,e.verify);return new dh(a,n)}return Ba()}function hf(t,e){return{documents:[nf(t,e.path)]}}function ff(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=nf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nf(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Fc(t.value))return{unaryFilter:{field:bf(t.field),op:"IS_NAN"}};if(Uc(t.value))return{unaryFilter:{field:bf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Fc(t.value))return{unaryFilter:{field:bf(t.field),op:"IS_NOT_NAN"}};if(Uc(t.value))return{unaryFilter:{field:bf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bf(t.field),op:mf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:bf(t.field),direction:vf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||Sc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=gf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=gf(e.endAt)),n}function df(t){var e=rf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){za(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=pf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new hl(wf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return Sc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=yf(n.startAt));var l=null;return n.endAt&&(l=yf(n.endAt)),yl(e,i,u,s,a,"F",c,l)}function pf(t){return t?void 0!==t.unaryFilter?[Ef(t)]:void 0!==t.fieldFilter?[_f(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return pf(t)}).reduce(function(t,e){return t.concat(e)}):Ba():[]}function gf(t){return{before:t.before,values:t.position}}function yf(t){return new cl(t.values||[],!!t.before)}function vf(t){return Gh[t]}function mf(t){return Wh[t]}function bf(t){return{fieldPath:t.rt()}}function wf(t){return dc.lt(t.fieldPath)}function _f(t){return tl.create(wf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ba()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ef(t){switch(t.unaryFilter.op){case"IS_NAN":var e=wf(t.unaryFilter.field);return tl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=wf(t.unaryFilter.field);return tl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wf(t.unaryFilter.field);return tl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wf(t.unaryFilter.field);return tl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ba()}}function Of(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function If(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Cf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Sf=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Ba(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),Tf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new Cf,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new jf(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Pf(e.target.error);n.Bn.reject(new jf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new jf(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Ua("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new kf(e)},t}(),xf=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(Ni.g)())&&Fa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ua("SimpleDb","Removing database:",t),Df(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Ni.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Ra.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ra.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ua("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new jf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ja(Xa.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new jf(t,n))},i.onupgradeneeded=function(t){Ua("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ua("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ra.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(Ra.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(Ra.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Hn(t)];case 2:return u.db=h.sent(),e=Tf.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Sf.reject(t)}).On(),a={},s.catch(function(){}),[4,e.qn];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return Ua("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Af=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Df(this.Zn.delete())},t}(),jf=function(t){function e(e,n){var r=this;return(r=t.call(this,Xa.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ra.c)(e,t),e}(Ja);function Nf(t){return"IndexedDbTransactionError"===t.name}var kf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ua("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ua("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Df(n)},t.prototype.add=function(t){return Ua("SimpleDb","ADD",this.store.name,t,t),Df(this.store.add(t))},t.prototype.get=function(t){var e=this;return Df(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ua("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ua("SimpleDb","DELETE",this.store.name,t),Df(this.store.delete(t))},t.prototype.count=function(){return Ua("SimpleDb","COUNT",this.store.name),Df(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Ua("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Sf(function(n,r){e.onerror=function(t){var e=Pf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new Sf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Af(i),s=e(i.primaryKey,i.value,o);if(s instanceof Sf){var u=s.catch(function(t){return o.done(),Sf.reject(t)});n.push(u)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return Sf.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Df(t){return new Sf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Pf(t.target.error);n(e)}})}var Rf=!1;function Pf(t){var e=xf.Qn(Object(Ni.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ja("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Rf||(Rf=!0,setTimeout(function(){throw r},0)),r}}return t}var Vf=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new Cf,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Ja(Xa.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Mf(t,e){if(Fa("AsyncQueue",e+": "+t),Nf(t))return new Ja(Xa.UNAVAILABLE,e+": "+t);throw t}var Lf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uf=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Ff(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Hf(e)),e=qf(t.get(n),e);return Hf(e)}function qf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Hf(t){return t+"\x01\x01"}function Bf(t){var e=t.length;if(za(e>=2),2===e)return za("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),hc.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ba(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ba()}o=s+2}return new hc(r)}var zf=function(t,e){this.seconds=t,this.nanoseconds=e},Gf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Gf.store="owner",Gf.key="owner";var Wf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Wf.store="mutationQueues",Wf.keyPath="userId";var $f=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$f.store="mutations",$f.keyPath="batchId",$f.userMutationsIndex="userMutationsIndex",$f.userMutationsKeyPath=["userId","batchId"];var Yf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ff(e)]},t.key=function(t,e,n){return[t,Ff(e),n]},t}();Yf.store="documentMutations",Yf.PLACEHOLDER=new Yf;var Qf=function(t,e){this.path=t,this.readTime=e},Kf=function(t,e){this.path=t,this.version=e},Zf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Zf.store="remoteDocuments",Zf.readTimeIndex="readTimeIndex",Zf.readTimeIndexPath="readTime",Zf.collectionReadTimeIndex="collectionReadTimeIndex",Zf.collectionReadTimeIndexPath=["parentPath","readTime"];var Xf=function(t){this.byteSize=t};Xf.store="remoteDocumentGlobal",Xf.key="remoteDocumentGlobalKey";var Jf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Jf.store="targets",Jf.keyPath="targetId",Jf.queryTargetsIndexName="queryTargetsIndex",Jf.queryTargetsKeyPath=["canonicalId","targetId"];var td=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};td.store="targetDocuments",td.keyPath=["targetId","path"],td.documentTargetsIndex="documentTargetsIndex",td.documentTargetsKeyPath=["path","targetId"];var ed=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ed.key="targetGlobalKey",ed.store="targetGlobal";var nd=function(t,e){this.collectionId=t,this.parent=e};nd.store="collectionParents",nd.keyPath=["collectionId","parent"];var rd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};rd.store="clientMetadata",rd.keyPath="clientId";var id=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};id.store="bundles",id.keyPath="bundleId";var od=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};od.store="namedQueries",od.keyPath="name";var sd=Object(Ra.g)(Object(Ra.g)(Object(Ra.g)(Object(Ra.g)([Wf.store,$f.store,Yf.store,Zf.store,Jf.store,Gf.store,ed.store,td.store],[rd.store]),[Xf.store]),[nd.store]),[id.store,od.store]),ud=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Ra.c)(e,t),e}(Uf);function ad(t,e){var n=Ga(t);return xf.zn(n.ps,e)}var cd=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Jl(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=th(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=th(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},jh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,function(t,e){return nh(t,e)})&&Qa(this.baseMutations,t.baseMutations,function(t,e){return nh(t,e)})},t}(),ld=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){za(e.mutations.length===r.length);for(var i=xh(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),hd=function(t){this.Fs=t};function fd(t,e){if(e.document)return af(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=pc.Et(e.noDocument.path),r=vd(e.noDocument.readTime);return new $c(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=pc.Et(e.unknownDocument.path);return r=vd(e.unknownDocument.version),new Yc(i,r)}return Ba()}function dd(t,e,n){var r=pd(n),i=e.key.path.X().it();if(e instanceof Wc){var o=function(t,e){return{name:tf(t,e.key),fields:e.bt().mapValue.fields,updateTime:Yh(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Zf(null,null,o,s,r,i)}if(e instanceof $c){var u=e.key.path.it(),a=yd(e.version);return s=e.hasCommittedMutations,new Zf(null,new Qf(u,a),null,s,r,i)}if(e instanceof Yc){var c=e.key.path.it(),l=yd(e.version);return new Zf(new Kf(c,l),null,null,!0,r,i)}return Ba()}function pd(t){var e=t.j();return[e.seconds,e.nanoseconds]}function gd(t){var e=new ac(t[0],t[1]);return cc.K(e)}function yd(t){var e=t.j();return new zf(e.seconds,e.nanoseconds)}function vd(t){var e=new ac(t.seconds,t.nanoseconds);return cc.K(e)}function md(t,e){for(var n=(e.baseMutations||[]).map(function(e){return lf(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return lf(t.Fs,e)}),o=ac.fromMillis(e.localWriteTimeMs);return new cd(e.batchId,o,n,i)}function bd(t){var e,n,r=vd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?vd(t.lastLimboFreeSnapshotVersion):cc.min();return void 0!==t.query.documents?(za(1===(n=t.query).documents.length),e=Il(vl(rf(n.documents[0])))):e=function(t){return Il(df(t))}(t.query),new kl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Za.fromBase64String(t.resumeToken))}function wd(t,e){var n,r=yd(e.Ot),i=yd(e.lastLimboFreeSnapshotVersion);n=Jc(e.target)?hf(t.Fs,e.target):ff(t.Fs,e.target);var o=e.resumeToken.toBase64();return new Jf(e.targetId,Zc(e.target),r,o,e.sequenceNumber,i,n)}function _d(t){var e=df({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Cl(e,e.limit,"L"):e}var Ed=function(){function t(){}return t.prototype.Os=function(t,e){return Od(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:vd(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return Od(t).put({bundleId:(n=e).id,createTime:yd(Zh(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Id(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:_d(e.bundledQuery),readTime:vd(e.readTime)};var e})},t.prototype.Ls=function(t,e){return Id(t).put(function(t){return{name:t.name,readTime:yd(Zh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Od(t){return ad(t,id.store)}function Id(t){return ad(t,od.store)}var Cd=function(){function t(){this.Bs=new Sd}return t.prototype.qs=function(t,e){return this.Bs.add(e),Sf.resolve()},t.prototype.Us=function(t,e){return Sf.resolve(this.Bs.getEntries(e))},t}(),Sd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new wh(hc.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new wh(hc.H)).it()},t}(),Td=function(){function t(){this.Qs=new Sd}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Ff(i)};return xd(t).put(o)}return Sf.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ka(e),""],!1,!0);return xd(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Bf(o.parent))}return n})},t}();function xd(t){return ad(t,nd.store)}var Ad={Ks:!1,Ws:0,js:0,Gs:0},jd=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Nd(t){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(e){if(t.code!==Xa.FAILED_PRECONDITION||t.message!==Lf)throw t;return Ua("LocalStore","Unexpectedly lost primary lease"),[2]})})}jd.Xs=10,jd.Zs=1e3,jd.ti=new jd(41943040,jd.Xs,jd.Zs),jd.ei=new jd(-1,0,0);var kd=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){yc(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return vc(this.ii)},t}(),Dd=function(){function t(){this.ri=new kd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:cc.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Sf.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Rd(t,e,n){var r=t.store($f.store),i=t.store(Yf.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.hs({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){za(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Yf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Sf.Mn(o).next(function(){return c})}function Pd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ba();e=t.noDocument}return JSON.stringify(e).length}var Vd=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return za(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ld(t).hs({index:$f.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=Ud(t),s=Ld(t);return s.add({}).next(function(u){za("number"==typeof u);for(var a=new cd(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return cf(t.Fs,e)}),i=n.mutations.map(function(e){return cf(t.Fs,e)});return new $f(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,a),l=[],h=new wh(function(t,e){return Ya(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Yf.key(i.userId,p.key.path,u);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,Yf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[u]=a.keys()}),Sf.Mn(l).next(function(){return a})})},t.prototype.Pi=function(t,e){var n=this;return Ld(t).get(e).next(function(t){return t?(za(t.userId===n.userId),md(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Sf.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ld(t).hs({index:$f.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(za(e.batchId>=r),o=md(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ld(t).hs({index:$f.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ld(t).rs($f.userMutationsIndex,n).next(function(t){return t.map(function(t){return md(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=Yf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ud(t).hs({range:i},function(r,i,s){var u=r[0],a=r[2],c=Bf(r[1]);if(u===n.userId&&e.path.isEqual(c))return Ld(t).get(a).next(function(t){if(!t)throw Ba();za(t.userId===n.userId),o.push(md(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new wh(Ya),i=[];return e.forEach(function(e){var o=Yf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Ud(t).hs({range:s},function(t,i,o){var s=t[0],u=t[2],a=Bf(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),Sf.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Yf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new wh(Ya);return Ud(t).hs({range:s},function(t,e,o){var s=t[0],a=t[2],c=Bf(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Si(t,u)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Ld(t).get(e).next(function(t){if(null===t)throw Ba();za(t.userId===n.userId),r.push(md(n.Qt,t))}))}),Sf.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return Rd(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),Sf.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return Sf.resolve();var r=IDBKeyRange.lowerBound(Yf.prefixForUser(e.userId)),i=[];return Ud(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Bf(t[1]);i.push(o)}else r.done()}).next(function(){za(0===i.length)})})},t.prototype.Fi=function(t,e){return Md(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Fd(t).get(this.userId).next(function(t){return t||new Wf(e.userId,-1,"")})},t}();function Md(t,e,n){var r=Yf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ud(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Ld(t){return ad(t,$f.store)}function Ud(t){return ad(t,Yf.store)}function Fd(t){return ad(t,Wf.store)}var qd=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Hd=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new qd(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return cc.K(new ac(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Bd(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return za(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Bd(t).hs(function(s,u){var a=bd(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Ji(t,a)))}).next(function(){return Sf.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return Bd(t).hs(function(t,n){var r=bd(n);e(r)})},t.prototype.qi=function(t){return zd(t).get(ed.key).next(function(t){return za(null!==t),t})},t.prototype.Ui=function(t,e){return zd(t).put(ed.key,e)},t.prototype.Gi=function(t,e){return Bd(t).put(wd(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=Zc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bd(t).hs({range:r,index:Jf.queryTargetsIndexName},function(t,n,r){var o=bd(n);Xc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=Gd(t);return e.forEach(function(e){var s=Ff(e.path);i.push(o.put(new td(n,s))),i.push(r.Ti.nr(t,n,e))}),Sf.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Gd(t);return Sf.forEach(e,function(e){var o=Ff(e.path);return Sf.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Gd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Gd(t),i=jh();return r.hs({range:n,us:!0},function(t,e,n){var r=Bf(t[1]),o=new pc(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Ff(e.path),r=IDBKeyRange.bound([n],[Ka(n)],!1,!0),i=0;return Gd(t).hs({index:td.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Bd(t).get(e).next(function(t){return t?bd(t):null})},t}();function Bd(t){return ad(t,Jf.store)}function zd(t){return ad(t,ed.store)}function Gd(t){return ad(t,td.store)}function Wd(t,e){var n=t[1],r=e[1],i=Ya(t[0],e[0]);return 0===i?Ya(n,r):i}var $d=function(){function t(t){this.cr=t,this.buffer=new wh(Wd),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Wd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Yd=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Ua("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(Ra.b)(e,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Nf(e=n.sent())?(Ua("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Nd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),Qd=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Sf.resolve(uc.q);var r=new $d(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Ua("LruGarbageCollector","Garbage collection skipped; disabled"),Sf.resolve(Ad)):this.pr(t).next(function(r){return r<n.params.zs?(Ua("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Ad):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(Ua("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.gr(t,n)}).next(function(t){return a=Date.now(),La()<=ji.a.DEBUG&&Ua("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),Sf.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),Kd=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Qd(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return Zd(t,n)},t.prototype.ir=function(t,e,n){return Zd(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Zd(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Fd(t).ls(function(r){return Md(t,r,e).next(function(t){return t&&(n=!0),Sf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,u){if(u<=e){var a=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),Gd(t).delete([0,Ff(s.path)])})});i.push(a)}}).next(function(){return Sf.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Zd(t,e)},t.prototype.Dr=function(t,e){var n,r=Gd(t),i=uc.q;return r.hs({index:td.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==uc.q&&e(new pc(Bf(n)),i),i=s,n=o):i=uc.q}).next(function(){i!==uc.q&&e(new pc(Bf(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Zd(t,e){return Gd(t).put(function(t,e){return new td(0,Ff(t.path),e)}(e,t.bs))}var Xd=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return ep(t).put(np(e),n)},t.prototype.li=function(t,e){var n=ep(t),r=np(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return ep(t).get(np(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return ep(t).get(np(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:Pd(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ih();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=Ih(),i=new vh(pc.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Pd(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return Sf.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return ep(t).hs({range:r},function(t,e,r){for(var s=pc.Et(t);o&&pc.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=Sh(),o=e.path.length+1,s={};if(n.isEqual(cc.min())){var u=e.path.it();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.it(),c=pd(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Zf.collectionReadTimeIndex}return ep(t).hs(s,function(t,n,s){if(t.length===o){var u=fd(r.Qt,n);e.path.nt(u.key.path)?u instanceof Wc&&Al(e,u)&&(i=i.zt(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new Jd(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return tp(t).get(Xf.key).next(function(t){return za(!!t),t})},t.prototype.kr=function(t,e){return tp(t).put(Xf.key,e)},t.prototype.Mr=function(t){if(t){var e=fd(this.Qt,t);return e instanceof $c&&e.version.isEqual(cc.min())?null:e}return null},t}(),Jd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new kd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ra.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new wh(function(t,e){return Ya(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var u=e.Gr.get(o);if(s.hi){var a=dd(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Pd(a);r+=c-u,n.push(e.jr.ai(t,o,a))}else if(r-=u,e.Wr){var l=dd(e.jr.Qt,new $c(o,cc.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),Sf.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(Dd);function tp(t){return ad(t,Xf.store)}function ep(t){return ad(t,Zf.store)}function np(t){return t.path.it()}var rp=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;za(n<r&&n>=0&&r<=11);var o=new Tf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Gf.store)}(t),function(t){t.createObjectStore(Wf.store,{keyPath:Wf.keyPath}),t.createObjectStore($f.store,{keyPath:$f.keyPath,autoIncrement:!0}).createIndex($f.userMutationsIndex,$f.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Yf.store)}(t),ip(t),function(t){t.createObjectStore(Zf.store)}(t));var s=Sf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(td.store),t.deleteObjectStore(Jf.store),t.deleteObjectStore(ed.store)}(t),ip(t)),s=s.next(function(){return function(t){var e=t.store(ed.store),n=new ed(0,0,cc.min().j(),0);return e.put(ed.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store($f.store).rs().next(function(n){t.deleteObjectStore($f.store),t.createObjectStore($f.store,{keyPath:$f.keyPath,autoIncrement:!0}).createIndex($f.userMutationsIndex,$f.userMutationsKeyPath,{unique:!0});var r=e.store($f.store),i=n.map(function(t){return r.put(t)});return Sf.Mn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(rd.store,{keyPath:rd.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Xf.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Zf.store);e.createIndex(Zf.readTimeIndex,Zf.readTimeIndexPath,{unique:!1}),e.createIndex(Zf.collectionReadTimeIndex,Zf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(id.store,{keyPath:id.keyPath})}(t),function(t){t.createObjectStore(od.store,{keyPath:od.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(Zf.store).hs(function(t,n){e+=Pd(n)}).next(function(){var n=new Xf(e);return t.store(Xf.store).put(Xf.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(Wf.store),r=t.store($f.store);return n.rs().next(function(n){return Sf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs($f.userMutationsIndex,i).next(function(r){return Sf.forEach(r,function(r){za(r.userId===n.userId);var i=md(e.Qt,r);return Rd(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(td.store),n=t.store(Zf.store);return t.store(ed.store).get(ed.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new hc(n),s=function(t){return[0,Ff(t)]}(o);r.push(e.get(s).next(function(n){return n?Sf.resolve():function(n){return e.put(new td(0,Ff(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Sf.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(nd.store,{keyPath:nd.keyPath});var n=e.store(nd.store),r=new Sd,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Ff(i)})}};return e.store(Zf.store).hs({us:!0},function(t,e){var n=new hc(t);return i(n.X())}).next(function(){return e.store(Yf.store).hs({us:!0},function(t,e){var n=Bf(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(Jf.store);return n.hs(function(t,r){var i=bd(r),o=wd(e.Qt,i);return n.put(o)})},t}();function ip(t){t.createObjectStore(td.store,{keyPath:td.keyPath}).createIndex(td.documentTargetsIndex,td.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Jf.store,{keyPath:Jf.keyPath}).createIndex(Jf.queryTargetsIndexName,Jf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ed.store)}var op="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sp=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=u,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Ja(Xa.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Kd(this,i),this.ho=n+"main",this.Qt=new hd(a),this.lo=new xf(this.ho,11,new rp(this.Qt)),this._o=new Hd(this.Ti,this.Qt),this.Ei=new Td,this.fo=function(t,e){return new Xd(t,e)}(this.Qt,this.Ei),this.wo=new Ed,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Fa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ja(Xa.FAILED_PRECONDITION,op);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new uc(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Ra.b)(e,void 0,void 0,function(){return Object(Ra.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(Ra.b)(e,void 0,void 0,function(){return Object(Ra.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(Ra.b)(e,void 0,void 0,function(){return Object(Ra.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return ap(e).put(new rd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(Nf(e))return Ua("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ua("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return up(t).get(Gf.key).next(function(t){return Sf.resolve(e.Do(t))})},t.prototype.Co=function(t){return ap(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Ra.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=ad(t,rd.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Sf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Sf.resolve(!0):up(t).get(Gf.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Ja(Xa.FAILED_PRECONDITION,op);return!1}}return!(!e.networkEnabled||!e.inForeground)||ap(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ua("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(Ra.b)(this,void 0,void 0,function(){var t=this;return Object(Ra.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Gf.store,rd.store],function(e){var n=new ud(e,uc.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return ap(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Vd.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ua("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",sd,function(o){return r=new ud(o,i.so?i.so.next():uc.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Fa("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new Ja(Xa.FAILED_PRECONDITION,Lf);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return up(t).get(Gf.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ja(Xa.FAILED_PRECONDITION,op)})},t.prototype.So=function(t){var e=new Gf(this.clientId,this.allowTabSynchronization,Date.now());return up(t).put(Gf.key,e)},t.Kn=function(){return xf.Kn()},t.prototype.vo=function(t){var e=this,n=up(t);return n.get(Gf.key).next(function(t){return e.Do(t)?(Ua("IndexedDbPersistence","Releasing primary lease."),n.delete(Gf.key)):Sf.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Fa("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Ua("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Fa("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Fa("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function up(t){return ad(t,Gf.store)}function ap(t){return ad(t,rd.store)}function cp(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var lp=function(t,e){this.progress=t,this.Go=e},hp=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=Ih();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=Oh();return i.forEach(function(t,e){e||(e=new $c(t,cc.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return pc.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):El(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new pc(e)).next(function(t){var e=Sh();return t instanceof Wc&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Sh();return this.Ei.Us(t,i).next(function(s){return Sf.forEach(s,function(s){var u=function(t,e){return new gl(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=th(a,r.get(c),o.vs);r=l instanceof Wc?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Al(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=jh(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof oh&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Wc&&(c=c.zt(t,e))}),c})},t}(),fp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=jh(),i=jh(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),dp=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(cc.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(ml(e)||bl(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(La()<=ji.a.DEBUG&&Ua("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),xl(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new wh(jl(t));return e.forEach(function(e,r){r instanceof Wc&&Al(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return La()<=ji.a.DEBUG&&Ua("QueryEngine","Using full collection scan to execute query:",xl(e)),this.ac.Kr(t,e,cc.min())},t}(),pp=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new vh(Ya),this.dc=new kd(function(t){return Zc(t)},Xc),this.wc=cc.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new hp(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function gp(t,e,n,r){return new pp(t,e,n,r)}function yp(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ra.d)(this,function(s){switch(s.label){case 0:return n=Ga(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new hp(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=jh(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)s=s.add(y[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function vp(t,e){var n=Ga(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Sf.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.$s.get(t);za(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function mp(t){var e=Ga(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function bp(t,e){var n=Ga(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach(function(e,o){var u=i.get(o);if(u){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var a=e.resumeToken;if(a.l()>0){var c=u.Mt(a,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return za(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(u,c,e)&&s.push(n._o.Hi(t,c))}}});var u=Oh();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))}),s.push(wp(t,o,e.Oe,r,void 0).next(function(t){u=t})),!r.isEqual(cc.min())){var a=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(a)}return Sf.Mn(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,u)})}).then(function(t){return n.fc=i,t})}function wp(t,e,n,r,i){var o=jh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Oh();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof $c&&s.version.isEqual(cc.min())?(e.li(n,a),o=o.zt(n,s)):null==u||s.version._(u.version)>0||0===s.version._(u.version)&&u.hasPendingWrites?(e.ai(s,a),o=o.zt(n,s)):Ua("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function _p(t,e){var n=Ga(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function Ep(t,e){var n=Ga(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?Sf.resolve(r=i):n._o.Bi(t).next(function(i){return r=new kl(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function Op(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ra.d)(this,function(u){switch(u.label){case 0:r=Ga(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Nf(s=u.sent()))throw s;return Ua("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Ip(t,e,n){var r=Ga(t),i=cc.min(),o=jh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Ga(t),i=r.dc.get(n);return void 0!==i?Sf.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,Il(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:cc.min(),n?o:jh())}).next(function(t){return{documents:t,Rc:o}})})}function Cp(t,e){var n=Ga(t),r=Ga(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function Sp(t){var e=Ga(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Ga(t),i=Oh(),o=pd(n),s=ep(e),u=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Zf.readTimeIndex,range:u},function(t,e){var n=fd(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:gd(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Tp(t){return Object(Ra.b)(this,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){return[2,(e=Ga(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=ep(t),n=cc.min();return e.hs({index:Zf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=gd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function xp(t,e,n,r){return Object(Ra.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(Ra.d)(this,function(p){switch(p.label){case 0:for(i=Ga(t),o=jh(),s=Oh(),u=xh(),a=0,c=n;a<c.length;a++)h=e.Pc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),u=u.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,Ep(i,function(t){return Il(vl(hc.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return wp(t,f,s,cc.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Ap(t,e,n){return void 0===n&&(n=jh()),Object(Ra.b)(this,void 0,void 0,function(){var r,i;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return[4,Ep(t,Il(_d(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ga(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Zh(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(Za.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var jp=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return Sf.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Zh(n.createTime)}),Sf.resolve()},t.prototype.Ms=function(t,e){return Sf.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:_d(t.bundledQuery),readTime:Zh(t.readTime)}}(e)),Sf.resolve()},t}(),Np=function(){function t(){this.vc=new wh(kp.Sc),this.Dc=new wh(kp.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new kp(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new kp(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new pc(new hc([])),r=new kp(n,t),i=new kp(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new pc(new hc([])),n=new kp(e,t),r=new kp(e,t+1),i=jh();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new kp(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),kp=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return pc.H(t.key,e.key)||Ya(t.Mc,e.Mc)},t.Cc=function(t,e){return Ya(t.Mc,e.Mc)||pc.H(t.key,e.key)},t}(),Dp=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new wh(kp.Sc)}return t.prototype.Ai=function(t){return Sf.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new cd(i,e,n,r);this.zo.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.Bc=this.Bc.add(new kp(a.key,i)),this.Ei.qs(t,a.key.path.X())}return Sf.resolve(o)},t.prototype.Pi=function(t,e){return Sf.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return Sf.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return Sf.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return Sf.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new kp(e,0),i=new kp(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),Sf.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new wh(Ya);return e.forEach(function(t){var e=new kp(t,0),i=new kp(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),Sf.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;pc.wt(i)||(i=i.child(""));var o=new kp(new pc(i),0),s=new wh(Ya);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),Sf.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;za(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Sf.forEach(e.mutations,function(i){var o=new kp(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new kp(e,0),r=this.Bc.Re(n);return Sf.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return Sf.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Rp=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new vh(pc.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Sf.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ih();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),Sf.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Sh(),i=new pc(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),u=s.value,a=u.hi,c=u.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||a instanceof Wc&&Al(e,a)&&(r=r.zt(a.key,a))}return Sf.resolve(r)},t.prototype.jc=function(t,e){return Sf.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new Pp(this)},t.prototype.Or=function(t){return Sf.resolve(this.size)},t}(),Pp=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Ra.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),Sf.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Dd),Vp=function(){function t(t){this.persistence=t,this.Gc=new kd(function(t){return Zc(t)},Xc),this.lastRemoteSnapshotVersion=cc.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Np,this.targetCount=0,this.Jc=qd.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),Sf.resolve()},t.prototype.Qi=function(t){return Sf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Sf.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Sf.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Sf.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new qd(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Sf.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Sf.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,Sf.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,u.targetId)),i++)}),Sf.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return Sf.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Sf.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Sf.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),Sf.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),Sf.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return Sf.resolve(n)},t.prototype.Fi=function(t,e){return Sf.resolve(this.Hc.Fi(e))},t}(),Mp=function(){function t(t,e){var n=this;this.Yc={},this.so=new uc(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Vp(this),this.Ei=new Cd,this.fo=function(t,e){return new Rp(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new hd(e),this.wo=new jp(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Dp(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Ua("MemoryPersistence","Starting transaction:",t);var i=new Lp(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return Sf.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),Lp=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Ra.c)(e,t),e}(Uf),Up=function(){function t(t){this.persistence=t,this.na=new Np,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Ba()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Sf.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Sf.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Sf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return Sf.forEach(this.ra,function(r){var i=pc._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Sf.Ln([function(){return Sf.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Fp(t,e){return"firestore_clients_"+t+"_"+e}function qp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Hp(t,e){return"firestore_targets_"+t+"_"+e}var Bp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ja(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Fa("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ja(i.error.code,i.error.message)),o?new t(e,i.state,r):(Fa("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=kh(),s=0;i&&s<r.activeTargetIds.length;++s)i=xc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Fa("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Fa("SharedClientState","Failed to parse online state: "+e),null)},t}(),$p=function(){function t(){this.activeTargetIds=kh()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Yp=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new vh(Ya),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Fp(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new $p),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ra.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(Ra.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Fp(this.persistenceKey,r)))&&(o=Gp.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(u=this.pa(s))&&this.ba(u),a=0,c=this.Ta;a<c.length;a++)this.wa(c[a]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Hp(this.persistenceKey,t));if(n){var r=zp.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Hp(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ua("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ua("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ua("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ua("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Fa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(Ra.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Ra.d)(this,function(u){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=uc.q;if(null!=t)try{var n=JSON.parse(t);za("number"==typeof n),e=n}catch(t){Fa("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==uc.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Bp(this.currentUser,t,e,n),i=qp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=qp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Hp(this.persistenceKey,t),i=new zp(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Gp.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Bp.ca(new ec(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return zp.ca(r,e)},t.prototype.pa=function(t){return Wp.ca(t)},t.prototype.Ya=function(t){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Ua("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this._a.su(s,u).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=kh();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),Qp=function(){function t(){this.iu=new $p,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new $p,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Kp=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Zp=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Ua("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Ua("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Xp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Jp=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),tg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Ra.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new Da;s.listenOnce(ja.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Aa.NO_ERROR:var e=s.getResponseJson();Ua("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Aa.TIMEOUT:Ua("Connection",'RPC "'+t+'" timed out'),o(new Ja(Xa.DEADLINE_EXCEEDED,"Request time out"));break;case Aa.HTTP_ERROR:var n=s.getStatus();if(Ua("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Xa).indexOf(e)>=0?e:Xa.UNKNOWN}(r.status);o(new Ja(u,r.message))}else o(new Ja(Xa.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ja(Xa.UNAVAILABLE,"Connection failed."));break;default:Ba()}}finally{Ua("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ia,i=Ts(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(Ni.l)()||Object(Ni.n)()||Object(Ni.j)()||Object(Ni.k)()||Object(Ni.o)()||Object(Ni.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ua("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new Jp({fu:function(t){c?Ua("Connection","Not sending because WebChannel is closed:",t):(a||(Ua("Connection","Opening WebChannel transport."),u.open(),a=!0),Ua("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,ka.EventType.OPEN,function(){c||Ua("Connection","WebChannel transport opened.")}),h(u,ka.EventType.CLOSE,function(){c||(c=!0,Ua("Connection","WebChannel transport closed"),l.Ru())}),h(u,ka.EventType.ERROR,function(t){c||(c=!0,qa("Connection","WebChannel transport errored:",t),l.Ru(new Ja(Xa.UNAVAILABLE,"The operation could not be completed")))}),h(u,ka.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];za(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ua("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=lh[t];if(void 0!==e)return yh(e)}(i),s=r.message;void 0===o&&(o=Xa.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new Ja(o,s)),u.close()}else Ua("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,Na.STAT_EVENT,function(t){10===t.stat?Ua("Connection","Detected buffering proxy"):11===t.stat&&Ua("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Ua("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return Ua("RestConnection","Received: ",t),t},function(e){throw qa("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Xp[t]},t}());function eg(){return"undefined"!=typeof window?window:null}function ng(){return"undefined"!=typeof document?document:null}function rg(t){return new $h(t,!0)}var ig=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Ua("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),og=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new ig(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Xa.RESOURCE_EXHAUSTED?(Fa(e.toString()),Fa("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Xa.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new Ja(Xa.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(Ra.b)(t,void 0,void 0,function(){return Object(Ra.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Ua("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Ua("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),sg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(Ra.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ba()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(za(void 0===e||"string"==typeof e),Za.fromBase64String(e||"")):(za(void 0===e||e instanceof Uint8Array),Za.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Xa.UNKNOWN:yh(t.code);return new Ja(e,t.message||"")}(u);n=new Fh(r,i,o,s||null)}else if("documentChange"in e){i=ef(t,(r=e.documentChange).document.name),o=Zh(r.document.updateTime);var u=new Hc({mapValue:{fields:r.document.fields}}),a=(s=new Wc(i,o,u,{}),r.targetIds||[]);n=new Lh(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=ef(t,(r=e.documentDelete).document),o=r.readTime?Zh(r.readTime):cc.min(),u=new $c(i,o),n=new Lh([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=ef(t,(r=e.documentRemove).document),n=new Lh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ba();var c=e.filter;i=new ph(r=c.count||0),n=new Uh(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return cc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?cc.min():e.readTime?Zh(e.readTime):cc.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=of(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Jc(r)?{documents:hf(t,r)}:{query:ff(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Qh(t,e.resumeToken):e.Ot._(cc.min())>0&&(n.readTime=Yh(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ba()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=of(this.Qt),e.removeTarget=t,this.th(e)},e}(og),ug=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(Ra.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(za(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(za(void 0!==e),t.map(function(t){return function(t,e){var n=Zh(t.updateTime?t.updateTime:e);n.isEqual(cc.min())&&(n=Zh(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ql(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Zh(t.commitTime);return this.listener.dh(n,e)}return za(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=of(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return cf(e.Qt,t)})};this.th(n)},e}(og),ag=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Ra.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Ja(Xa.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===Xa.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===Xa.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),cg=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Fa(e),this.Rh=!1):Ua("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),lg=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(Ra.b)(o,void 0,void 0,function(){return Object(Ra.d)(this,function(t){switch(t.label){case 0:return bg(this)?(Ua("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ra.b)(this,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:return(e=Ga(t)).Nh.add(4),[4,fg(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,hg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new cg(n,r)};function hg(t){return Object(Ra.b)(this,void 0,void 0,function(){var e,n;return Object(Ra.d)(this,function(r){switch(r.label){case 0:if(!bg(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function fg(t){return Object(Ra.b)(this,void 0,void 0,function(){var e,n;return Object(Ra.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function dg(t,e){var n=Ga(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),mg(n)?vg(n):Rg(n).Hu()&&gg(n,e))}function pg(t,e){var n=Ga(t),r=Rg(n);n.xh.delete(e),r.Hu()&&yg(n,e),0===n.xh.size&&(r.Hu()?r.Xu():bg(n)&&n.Oh.set("Unknown"))}function gg(t,e){t.kh.on(e.targetId),Rg(t).uh(e)}function yg(t,e){t.kh.on(e),Rg(t).hh(e)}function vg(t){t.kh=new Hh({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Rg(t).start(),t.Oh.Ph()}function mg(t){return bg(t)&&!Rg(t).zu()&&t.xh.size>0}function bg(t){return 0===Ga(t).Nh.size}function wg(t){t.kh=void 0}function _g(t){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(e){return t.xh.forEach(function(e,n){gg(t,e)}),[2]})})}function Eg(t,e){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(n){return wg(t),mg(t)?(t.Oh.Vh(e),vg(t)):t.Oh.set("Unknown"),[2]})})}function Og(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ra.d)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Fh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ra.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ua("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ig(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Lh?t.kh.dn(e):e instanceof Uh?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(cc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,mp(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Za.T,n.Ot)),yg(t,e);var r=new kl(n.target,e,1,n.sequenceNumber);gg(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ua("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Ig(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Ig(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r=this;return Object(Ra.d)(this,function(i){switch(i.label){case 0:if(!Nf(e))throw e;return t.Nh.add(1),[4,fg(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return mp(t.bh)}),t._s.po(function(){return Object(Ra.b)(r,void 0,void 0,function(){return Object(Ra.d)(this,function(e){switch(e.label){case 0:return Ua("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,hg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Cg(t,e){return e().catch(function(n){return Ig(t,n,e)})}function Sg(t){return Object(Ra.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Ra.d)(this,function(s){switch(s.label){case 0:e=Ga(t),n=Pg(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return bg(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,_p(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Pg(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Ig(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Tg(e)&&xg(e),[2]}})})}function Tg(t){return bg(t)&&!Pg(t).zu()&&t.Ch.length>0}function xg(t){Pg(t).start()}function Ag(t){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(e){return Pg(t).Eh(),[2]})})}function jg(t){return Object(Ra.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ra.d)(this,function(i){for(e=Pg(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function Ng(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r,i;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=ld.from(r,e,n),[4,Cg(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,Sg(t)];case 2:return o.sent(),[2]}})})}function kg(t,e){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(n){switch(n.label){case 0:return e&&Pg(t)._h?[4,function(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return gh(r=e.code)&&r!==Xa.ABORTED?(n=t.Ch.shift(),Pg(t).Yu(),[4,Cg(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Sg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Tg(t)&&xg(t),[2]}})})}function Dg(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n;return Object(Ra.d)(this,function(r){switch(r.label){case 0:return n=Ga(t),e?(n.Nh.delete(2),[4,hg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,fg(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Rg(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Ga(t);return r.Ih(),new sg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:_g.bind(null,t),Tu:Eg.bind(null,t),ah:Og.bind(null,t)}),t.$h.push(function(n){return Object(Ra.b)(e,void 0,void 0,function(){return Object(Ra.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),mg(t)?vg(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),wg(t),e.label=3;case 3:return[2]}})})})),t.Uh}function Pg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Ga(t);return r.Ih(),new ug(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Ag.bind(null,t),Tu:kg.bind(null,t),wh:jg.bind(null,t),dh:Ng.bind(null,t)}),t.$h.push(function(n){return Object(Ra.b)(e,void 0,void 0,function(){return Object(Ra.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Sg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Ua("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var Vg=function(){this.Kh=void 0,this.listeners=[]},Mg=function(){this.queries=new kd(function(t){return Tl(t)},Sl),this.onlineState="Unknown",this.Wh=new Set};function Lg(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Ra.d)(this,function(c){switch(c.label){case 0:if(n=Ga(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Vg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return u=c.sent(),a=Mf(u,"Initialization of query '"+xl(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Hg(n),[2]}})})}function Ug(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ra.d)(this,function(u){return n=Ga(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Fg(t,e){for(var n=Ga(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].zh(s)&&(r=!0);u.Kh=s}}r&&Hg(n)}function qg(t,e,n){var r=Ga(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Hg(t){t.Wh.forEach(function(t){t.next()})}var Bg=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ph(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Ph.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),zg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Gg=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return ef(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?af(this.Qt,t.document,!1):new $c(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Zh(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Gg(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||jh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ra.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return[4,xp(this.bh,new Gg(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Ap(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new lp(Object.assign({},this.progress),t))]}})})}}();var Wg=function(t){this.key=t},$g=function(t){this.key=t},Yg=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=jh(),this.De=jh(),this.hl=jl(t),this.ll=new Dh(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Rh,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,u=!1,a=ml(this.query)&&i.size===this.query.limit?i.last():null,c=bl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof Wc?e:null;h&&(h=Al(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.hl(h,a)>0||c&&n.hl(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),ml(this.query)||bl(this.query))for(;s.size>this.query.limit;){var l=ml(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:u,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ba()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],u=0===this.ul.size&&this.Be?1:0,a=u!==this.al;return this.al=u,0!==o.length||a?{snapshot:new Ph(this.query,t.ll,i,o,t.De,0===u,a,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Rh,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=jh(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new $g(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new Wg(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=jh();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Ph.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Qg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Kg=function(t){this.key=t,this.Pl=!1},Zg=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new kd(function(t){return Tl(t)},Sl),this.Sl=new Map,this.Dl=new Set,this.Cl=new vh(pc.H),this.xl=new Map,this.Nl=new Np,this.$l={},this.Fl=new Map,this.Ol=qd.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Xg(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ra.d)(this,function(u){switch(u.label){case 0:return n=Ty(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,Ep(n.bh,Il(e))];case 2:return o=u.sent(),s=n.Vl.Fa(o.targetId),[4,Jg(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.Ml&&dg(n.yl,o),u.label=4;case 4:return[2,r]}})})}function Jg(t,e,n,r){return Object(Ra.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(Ra.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Ra.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ra.d)(this,function(u){switch(u.label){case 0:return(i=e.view.fl(n)).lc?[4,Ip(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(fy(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,Ip(t.bh,e,!0)];case 1:return i=l.sent(),o=new Yg(e,i.Rc),s=o.fl(i.documents),u=Mh.Le(n,r&&"Offline"!==t.onlineState),a=o.wi(s,t.Ml,u),fy(t,n,a.Il),c=new Qg(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),a.snapshot)]}})})}function ty(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return n=Ga(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!Sl(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Op(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),pg(n.yl,r.targetId),ly(n,r.targetId)}).catch(Nd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ly(n,r.targetId),[4,Op(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function ey(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ra.d)(this,function(u){switch(u.label){case 0:r=xy(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ga(t),i=ac.now(),o=e.reduce(function(t,e){return t.add(e.key)},jh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=eh(c,n.get(c.key));null!=l&&s.push(new oh(c.key,l,zc(l.proto.mapValue),Kl.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=u.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new vh(Ya)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,gy(r,i.ri)];case 3:return u.sent(),[4,Sg(r.yl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Mf(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function ny(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r;return Object(Ra.d)(this,function(i){switch(i.label){case 0:n=Ga(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,bp(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(za(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?za(r.Pl):t.Qe.size>0&&(za(r.Pl),r.Pl=!1))}),[4,gy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Nd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function ry(t,e,n){var r=Ga(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Ga(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Hg(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function iy(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(Ra.d)(this,function(c){switch(c.label){case 0:return(r=Ga(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new vh(pc.H)).zt(o,new $c(o,cc.min())),u=jh().add(o),a=new Vh(cc.min(),new Map,new wh(Ya),s,u),[4,ny(r,a)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),py(r),[3,4];case 2:return[4,Op(r.bh,e,!1).then(function(){return ly(r,e,n)}).catch(Nd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function oy(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ra.d)(this,function(o){switch(o.label){case 0:n=Ga(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,vp(n.bh,e)];case 2:return i=o.sent(),cy(n,r,null),ay(n,r),n.Vl.Na(r,"acknowledged"),[4,gy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Nd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function sy(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r,i;return Object(Ra.d)(this,function(o){switch(o.label){case 0:r=Ga(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Ga(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return za(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),cy(r,e,n),ay(r,e),r.Vl.Na(e,"rejected",n),[4,gy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Nd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function uy(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ra.d)(this,function(u){switch(u.label){case 0:bg((n=Ga(t)).yl)||Ua("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Ga(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=u.sent(),s=Mf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function ay(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function cy(t,e,n){var r=Ga(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function ly(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||hy(t,e)})}function hy(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(pg(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),py(t))}function fy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Wg?(t.Nl.nr(o.key,e),dy(t,o)):o instanceof $g?(Ua("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||hy(t,o.key)):Ba()}}function dy(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Ua("SyncEngine","New document in limbo: "+n),t.Dl.add(r),py(t))}function py(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new pc(hc.ot(e)),r=t.Ol.next();t.xl.set(r,new Kg(n)),t.Cl=t.Cl.zt(n,r),dg(t.yl,new kl(Il(vl(n.path)),r,2,uc.q))}}function gy(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ra.d)(this,function(u){switch(u.label){case 0:return r=Ga(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,u){s.push(r.Ll(u,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=fp.oc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.bl.ah(i),[4,function(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(Ra.d)(this,function(l){switch(l.label){case 0:n=Ga(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Sf.forEach(e,function(e){return Sf.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return Sf.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Nf(r=l.sent()))throw r;return Ua("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.fc.get(u),c=a.Lt(a.Ot),n.fc=n.fc.zt(u,c));return[2]}})})}(r.bh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function yy(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return(n=Ga(t)).currentUser.isEqual(e)?[3,3]:(Ua("SyncEngine","User change. New user:",e.A()),[4,yp(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new Ja(Xa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,gy(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function vy(t,e){var n=Ga(t),r=n.xl.get(e);if(r&&r.Pl)return jh().add(r.key);var i=jh(),o=n.Sl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.vl.get(u[s]);i=i.Pe(a.view._l)}return i}function my(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return[4,Ip((n=Ga(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&fy(n,e.targetId,i.Il),i)]}})})}function by(t){return Object(Ra.b)(this,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){return[2,Sp((e=Ga(t)).bh).then(function(t){return gy(e,t)})]})})}function wy(t,e,n,r){return Object(Ra.b)(this,void 0,void 0,function(){var i,o;return Object(Ra.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Ga(t),r=Ga(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):Sf.resolve(null)})})}((i=Ga(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Sg(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cy(i,e,r||null),ay(i,e),function(t,e){Ga(Ga(t).zo).xi(e)}(i.bh,e)):Ba(),s.label=4;case 4:return[4,gy(i,o)];case 5:return s.sent(),[3,7];case 6:Ua("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function _y(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Ra.d)(this,function(c){switch(c.label){case 0:return Ty(n=Ga(t)),xy(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,Ey(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,Dg(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)dg(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],a=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?u.push(e):a=a.then(function(){return ly(n,e),Op(n.bh,e,!0)}),pg(n.yl,e)}),[4,a]);case 4:return c.sent(),[4,Ey(n,u)];case 5:return c.sent(),function(t){var e=Ga(t);e.xl.forEach(function(t,n){pg(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new vh(pc.H)}(n),n.kl=!1,[4,Dg(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ey(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(Ra.d)(this,function(g){switch(g.label){case 0:n=Ga(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Sl.get(u=s[o]))&&0!==c.length?[4,Ep(n.bh,Il(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,my(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Cp(n.bh,u)];case 8:return p=g.sent(),[4,Ep(n.bh,p)];case 9:return a=g.sent(),[4,Jg(n,Oy(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function Oy(t){return yl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Iy(t){var e=Ga(t);return Ga(Ga(e.bh).persistence).Uo()}function Cy(t,e,n,r){return Object(Ra.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ra.d)(this,function(u){switch(u.label){case 0:return(i=Ga(t)).kl?(Ua("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Sp(i.bh)];case 3:return o=u.sent(),s=Vh.Me(e,"current"===n),[4,gy(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Op(i.bh,e,!0)];case 6:return u.sent(),ly(i,e,r),[3,8];case 7:Ba(),u.label=8;case 8:return[2]}})})}function Sy(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(Ra.d)(this,function(f){switch(f.label){case 0:if(!(r=Ty(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Ua("SyncEngine","Adding an already active target "+s),[3,5]):[4,Cp(r.bh,s)]:[3,6];case 2:return u=f.sent(),[4,Ep(r.bh,u)];case 3:return a=f.sent(),[4,Jg(r,Oy(u),a.targetId,!1)];case 4:f.sent(),dg(r.yl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ra.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Op(r.bh,t,!1).then(function(){pg(r.yl,t),ly(r,t)}).catch(Nd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Ty(t){var e=Ga(t);return e.yl.Dh.Lh=ny.bind(null,e),e.yl.Dh.vn=vy.bind(null,e),e.yl.Dh.Mh=iy.bind(null,e),e.bl.ah=Fg.bind(null,e.gl),e.bl.Bl=qg.bind(null,e.gl),e}function xy(t){var e=Ga(t);return e.yl.Dh.Bh=oy.bind(null,e),e.yl.Dh.qh=sy.bind(null,e),e}var Ay=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(e){switch(e.label){case 0:return this.Qt=rg(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return gp(this.persistence,new dp,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Mp(Up.ia,this.Qt)},t.prototype.Wl=function(t){return new Qp},t.prototype.terminate=function(){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),jy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ra.c)(e,t),e.prototype.initialize=function(e){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Tp(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,xy(this.Yl._a)];case 4:return n.sent(),[4,Sg(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return gp(this.persistence,new dp,t.Jl,this.Qt)},e.prototype.zl=function(t){return new Yd(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=cp(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?jd.Ys(this.cacheSizeBytes):jd.ti;return new sp(this.synchronizeTabs,e,t.clientId,n,t._s,eg(),ng(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Qp},e}(Ay),Ny=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ra.c)(e,t),e.prototype.initialize=function(e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Yp?(this.Vl._a={eu:wy.bind(null,n),nu:Cy.bind(null,n),su:Sy.bind(null,n),Uo:Iy.bind(null,n),tu:by.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(Ra.b)(r,void 0,void 0,function(){return Object(Ra.d)(this,function(e){switch(e.label){case 0:return[4,_y(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=eg();if(!Yp.Kn(e))throw new Ja(Xa.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=cp(t.yu.t,t.yu.persistenceKey);return new Yp(e,t._s,n,t.clientId,t.Jl)},e}(jy),ky=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n=this;return Object(Ra.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return ry(n._a,t,1)},this.yl.Dh.n_=yy.bind(null,this._a),[4,Dg(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new Mg},t.prototype.Xl=function(t){var e=rg(t.yu.t),n=new tg(t.yu);return function(t,e,n){return new ag(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return ry(s._a,t,0)},o=Zp.Kn()?new Zp:new Kp,new lg(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Zg(t,e,n,r,i,o);return s&&(u.kl=!0),u}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Ra.b)(this,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:return e=Ga(t),Ua("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,fg(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),Dy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Ry=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new Cf,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(Ra.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new zg(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(Ra.b)(this,void 0,void 0,function(){var t,e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(Ra.b)(this,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Ra.b)(this,void 0,void 0,function(){var t,e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new dc(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),Py=function(t){this._methodName=t},Vy=function(t){this.d_=t};function My(t,e,n){if(!n)throw new Ja(Xa.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ly(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Uy(t,e,n,r){if(!0===e&&!0===r)throw new Ja(Xa.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Fy(t){if(!pc.wt(t))throw new Ja(Xa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function qy(t){if(pc.wt(t))throw new Ja(Xa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Hy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ba()}function By(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ja(Xa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hy(t);throw new Ja(Xa.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function zy(t,e){if(e<=0)throw new Ja(Xa.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Gy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ja(Xa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ja(Xa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Uy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Wy=new Map,$y=function(){function t(t,e){this.w_="(lite)",this.E_=new Gy({}),this.T_=!1,t instanceof Va?(this.I_=t,this.m_=new rc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ja(Xa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(t.options.projectId)}(t),this.m_=new ic(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Ja(Xa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Ja(Xa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Gy(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new rc;switch(t.type){case"gapi":var e=t.client;return za(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new sc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ja(Xa.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Wy.get(this))&&(Ua("ComponentProvider","Removing Datastore"),Wy.delete(this),t.terminate()),Promise.resolve();var t},t}(),Yy=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ky(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Qy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Ky=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,vl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Ra.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Yy(this.firestore,null,new pc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Qy);function Zy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Vy&&(t=t.d_),My("collection","path",e),t instanceof $y)return qy(n=hc.ot.apply(hc,Object(Ra.g)([e],r))),new Ky(t,null,n);if(!(t instanceof Yy||t instanceof Ky))throw new Ja(Xa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qy(n=hc.ot.apply(hc,Object(Ra.g)([t.path],r)).child(hc.ot(e))),new Ky(t.firestore,null,n)}function Xy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Vy&&(t=t.d_),1===arguments.length&&(e=$a.u()),My("doc","path",e),t instanceof $y)return Fy(n=hc.ot.apply(hc,Object(Ra.g)([e],r))),new Yy(t,null,new pc(n));if(!(t instanceof Yy||t instanceof Ky))throw new Ja(Xa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fy(n=t.D_.child(hc.ot.apply(hc,Object(Ra.g)([e],r)))),new Yy(t.firestore,t instanceof Ky?t.v_:null,new pc(n))}function Jy(t,e){return t instanceof Vy&&(t=t.d_),e instanceof Vy&&(e=e.d_),(t instanceof Yy||t instanceof Ky)&&(e instanceof Yy||e instanceof Ky)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function tv(t,e){return t instanceof Vy&&(t=t.d_),e instanceof Vy&&(e=e.d_),t instanceof Qy&&e instanceof Qy&&t.firestore===e.firestore&&Sl(t.C_,e.C_)&&t.v_===e.v_}var ev=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ja(Xa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ja(Xa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Ya(this.x_,t.x_)||Ya(this.N_,t.N_)},t}(),nv=/^__.*__$/,rv=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new oh(t,this.data,this.Gt,e,this.fieldTransforms):new ih(t,this.data,e,this.fieldTransforms)},t}(),iv=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new oh(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function ov(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ba()}}var sv=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Sv(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(ov(this.k_)&&nv.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),uv=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||rg(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new sv({k_:t,methodName:e,j_:n,path:dc.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function av(t){var e=t.p_(),n=rg(t.I_);return new uv(t.I_,!!e.ignoreUndefinedProperties,n)}function cv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Ev("Data must be an object, but it was:",s,r);var u,a,c=wv(r,s);if(o.merge)u=new mc(s.Gt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ov(e,f[h],n);if(!s.contains(d))throw new Ja(Xa.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Tv(l,d)||l.push(d)}u=new mc(l),a=s.fieldTransforms.filter(function(t){return u.Tt(t.field)})}else u=null,a=s.fieldTransforms;return new rv(new Hc(c),u,a)}var lv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Py);function hv(t,e,n){return new sv({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var fv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.prototype.z_=function(t){return new Yl(t.path,new Fl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Py),dv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ra.c)(e,t),e.prototype.z_=function(t){var e=hv(this,t,!0),n=this.H_.map(function(t){return bv(t,e)}),r=new ql(n);return new Yl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Py),pv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ra.c)(e,t),e.prototype.z_=function(t){var e=hv(this,t,!0),n=this.H_.map(function(t){return bv(t,e)}),r=new Bl(n);return new Yl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Py),gv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Ra.c)(e,t),e.prototype.z_=function(t){var e=new Gl(t.Qt,Pl(t.Qt,this.J_));return new Yl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Py);function yv(t,e,n,r){var i=t.G_(1,e,n);Ev("Data must be an object, but it was:",i,r);var o=[],s=new Bc;yc(r,function(t,r){var u=Cv(e,t,n);r instanceof Vy&&(r=r.d_);var a=i.U_(u);if(r instanceof lv)o.push(u);else{var c=bv(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new mc(o);return new iv(s.Pt(),u,i.fieldTransforms)}function vv(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[Ov(e,r,n)],a=[i];if(o.length%2!=0)throw new Ja(Xa.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Ov(e,o[c])),a.push(o[c+1]);for(var l=[],h=new Bc,f=u.length-1;f>=0;--f)if(!Tv(l,u[f])){var d=u[f],p=a[f];p instanceof Vy&&(p=p.d_);var g=s.U_(d);if(p instanceof lv)l.push(d);else{var y=bv(p,g);null!=y&&(l.push(d),h.set(d,y))}}var v=new mc(l);return new iv(h.Pt(),v,s.fieldTransforms)}function mv(t,e,n,r){return void 0===r&&(r=!1),bv(n,t.G_(r?4:3,e))}function bv(t,e){if(t instanceof Vy&&(t=t.d_),_v(t))return Ev("Unsupported field value:",e,t),wv(t,e);if(t instanceof Py)return function(t,e){if(!ov(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=bv(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Vy&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pl(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ac.fromDate(t);return{timestampValue:Yh(e.Qt,n)}}if(t instanceof ac)return n=new ac(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Yh(e.Qt,n)};if(t instanceof ev)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tc)return{bytesValue:Qh(e.Qt,t.I)};if(t instanceof Yy){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Xh(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Hy(t))}(t,e)}function wv(t,e){var n={};return vc(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):yc(t,function(t,r){var i=bv(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function _v(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ac||t instanceof ev||t instanceof tc||t instanceof Yy||t instanceof Py)}function Ev(t,e,n){if(!_v(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Hy(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Ov(t,e,n){if(e instanceof Vy&&(e=e.d_),e instanceof Ry)return e.f_;if("string"==typeof e)return Cv(t,e);throw Sv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Iv=new RegExp("[~\\*/\\[\\]]");function Cv(t,e,n){if(e.search(Iv)>=0)throw Sv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ry.bind.apply(Ry,Object(Ra.g)([void 0],e.split("."))))).f_}catch(r){throw Sv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Sv(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new Ja(Xa.INVALID_ARGUMENT,(u+=". ")+t+a)}function Tv(t,e){return t.some(function(t){return t.isEqual(e)})}var xv=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Ra.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ra.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Ja(Xa.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(Ra.d)(this,function(a){switch(a.label){case 0:return n=Ga(t),r=of(n.Qt)+"/documents",i={documents:e.map(function(t){return tf(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){za(!!e.found);var n=ef(t,e.found.name),r=Zh(e.found.updateTime),i=new Hc({mapValue:{fields:e.found.fields}});return new Wc(n,r,i,{})}(t,e):"missing"in e?function(t,e){za(!!e.missing),za(!!e.readTime);var n=ef(t,e.missing),r=Zh(e.readTime);return new $c(n,r)}(t,e):Ba()}(n.Qt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());za(!!e),u.push(e)}),u)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof $c||t instanceof Wc?n.sf(t):Ba()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new fh(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Ra.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ra.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=pc._t(n);e.mutations.push(new dh(r,e.jt(r)))}),[4,function(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return n=Ga(t),r=of(n.Qt)+"/documents",i={writes:e.map(function(t){return cf(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Wc)e=t.version;else{if(!(t instanceof $c))throw Ba();e=cc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ja(Xa.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Kl.updateTime(e):Kl.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(cc.min()))throw new Ja(Xa.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kl.updateTime(e)}return Kl.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Av=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new ig(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(Ra.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ra.d)(this,function(r){return t=new xv(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Sc(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!gh(e)}return!1},t}(),jv=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=ec.UNAUTHENTICATED,this.clientId=$a.u(),this._f=function(){},this.C=new Cf,this.credentials.v(function(t){Ua("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new Ja(Xa.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new Cf;return this._s.Tf(function(){return Object(Ra.b)(t,void 0,void 0,function(){var t,n;return Object(Ra.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Mf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Nv(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),Ua("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(Ra.b)(i,void 0,void 0,function(){return Object(Ra.d)(this,function(t){switch(t.label){case 0:return[4,yp(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function kv(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,Dv(t)];case 1:return n=i.sent(),Ua("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(Ra.b)(this,void 0,void 0,function(){var n,r;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return(n=Ga(t))._s.Af(),Ua("RemoteStore","RemoteStore received new credentials"),r=bg(n),n.Nh.add(3),[4,fg(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,hg(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function Dv(t){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Ua("FirestoreClient","Using default OfflineComponentProvider"),[4,Nv(t,new Ay)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Rv(t){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Ua("FirestoreClient","Using default OnlineComponentProvider"),[4,kv(t,new ky)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Pv(t){return Dv(t).then(function(t){return t.persistence})}function Vv(t){return Dv(t).then(function(t){return t.bh})}function Mv(t){return Rv(t).then(function(t){return t.yl})}function Lv(t){return Rv(t).then(function(t){return t._a})}function Uv(t){return Object(Ra.b)(this,void 0,void 0,function(){var e,n;return Object(Ra.d)(this,function(r){switch(r.label){case 0:return[4,Rv(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Xg.bind(null,e._a),n.Hh=ty.bind(null,e._a),n)]}})})}function Fv(t,e,n){var r=this;void 0===n&&(n={});var i=new Cf;return t._s.Ps(function(){return Object(Ra.b)(r,void 0,void 0,function(){var r;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Dy({next:function(o){e.Ps(function(){return Ug(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Ja(Xa.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Ja(Xa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Bg(vl(n.path),o,{includeMetadataChanges:!0,nl:!0});return Lg(t,s)},[4,Uv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function qv(t,e,n){var r=this;void 0===n&&(n={});var i=new Cf;return t._s.Ps(function(){return Object(Ra.b)(r,void 0,void 0,function(){var r;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Dy({next:function(n){e.Ps(function(){return Ug(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Ja(Xa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Bg(n,o,{includeMetadataChanges:!0,nl:!0});return Lg(t,s)},[4,Uv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var Hv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new ig(this,"async_queue_retry"),this.vf=function(){var e=ng();e&&Ua("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=ng();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=ng();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Ra.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ra.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Nf(t=n.sent()))throw t;return Ua("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Fa("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Vf.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ba()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Ra.b)(this,void 0,void 0,function(){var t;return Object(Ra.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Bv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new Cf,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var zv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Hv,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Ra.c)(e,t),e.prototype.b_=function(){return this.qf||Wv(this),this.qf.terminate()},e}($y);function Gv(t){return t.qf||Wv(t),t.qf.df(),t.qf}function Wv(t){var e=t.p_(),n=function(t,e,n){return new Pa(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new jv(t.m_,t.Bf,n)}function $v(t,e,n){var r=this,i=new Cf;return t._s.enqueue(function(){return Object(Ra.b)(r,void 0,void 0,function(){var r;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Nv(t,n)];case 1:return o.sent(),[4,kv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Xa.FAILED_PRECONDITION||t.code===Xa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Yv(t){if(t.R_||t.P_)throw new Ja(Xa.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Qv=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Ac(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _c(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(Ec(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Ba()}},t.prototype.Hf=function(t,e){var n=this,r={};return yc(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new ev(_c(t.latitude),_c(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=Ic(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Cc(t));default:return null}},t.prototype.Qf=function(t){var e=wc(t);return new ac(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=hc.ot(t);za(If(n));var r=new Va(n.get(1),n.get(3)),i=new pc(n.Y(5));return r.isEqual(e)||Fa("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Kv=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Yy(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Zv(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Xv("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Kv);function Xv(t,e){return"string"==typeof e?Cv(t,e):e instanceof Vy?e.d_.f_:e.f_}function Jv(t){if(bl(t)&&0===t.xt.length)throw new Ja(Xa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tm=function(){};function em(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var nm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Ra.c)(e,t),e.prototype.td=function(t){var e=av(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){cm(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(am(r,t,l[c]));u={arrayValue:{values:a}}}else u=am(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||cm(s,o),u=mv(n,"where",s,"in"===o||"not-in"===o);var h=tl.create(i,o,u);return function(t,e){if(e.Ct()){var n=_l(t);if(null!==n&&!n.isEqual(e.field))throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=wl(t);null!==r&&lm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ja(Xa.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Qy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new gl(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(tm),rm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Ra.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new hl(e,n);return function(t,e){if(null===wl(t)){var n=_l(t);null!==n&&lm(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Qy(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new gl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(tm),im=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Ra.c)(e,t),e.prototype.td=function(t){return new Qy(t.firestore,t.v_,Cl(t.C_,this.od,this.ad))},e}(tm),om=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Ra.c)(e,t),e.prototype.td=function(t){var e=um(t,this.type,this.ud,this.hd);return new Qy(t.firestore,t.v_,function(t,e){return new gl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(tm),sm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Ra.c)(e,t),e.prototype.td=function(t){var e=um(t,this.type,this.ud,this.hd);return new Qy(t.firestore,t.v_,function(t,e){return new gl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(tm);function um(t,e,n,r){if(n[0]instanceof Vy&&(n[0]=n[0].d_),n[0]instanceof Kv)return function(t,e,n,r,i){if(!r)throw new Ja(Xa.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Ol(t);s<u.length;s++){var a=u[s];if(a.field.ut())o.push(Vc(e,r.key));else{var c=r.field(a.field);if(Oc(c))throw new Ja(Xa.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.rt();throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new cl(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=av(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new Ja(Xa.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ut()){if("string"!=typeof c)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!El(t)&&-1!==c.indexOf("/"))throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(hc.ot(c));if(!pc.wt(l))throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new pc(l);u.push(Vc(e,h))}else{var f=mv(n,r,c);u.push(f)}}return new cl(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function am(t,e,n){if(n instanceof Vy&&(n=n.d_),"string"==typeof n){if(""===n)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!El(e)&&-1!==n.indexOf("/"))throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(hc.ot(n));if(!pc.wt(r))throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Vc(t,new pc(r))}if(n instanceof Yy)return Vc(t,n.S_);throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Hy(n)+".")}function cm(t,e){if(!Array.isArray(t)||0===t.length)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function lm(t,e,n){if(!n.isEqual(e))throw new Ja(Xa.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function hm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var fm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ra.c)(e,t),e.prototype.Wf=function(t){return new tc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Yy(this.firestore,null,e)},e}(Qv),dm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),pm=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).Yf=e,u.ld=e,u.metadata=o,u}return Object(Ra.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new gm(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Xv("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Kv),gm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(pm),ym=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new dm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new gm(n.Yf,n.Xf,r.key,r,new dm(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Ja(Xa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new gm(t.Yf,t.Xf,e.doc.key,e.doc,new dm(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new gm(t.Yf,t.Xf,e.doc.key,e.doc,new dm(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:vm(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function vm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ba()}}function mm(t,e){return t instanceof pm&&e instanceof pm?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof ym&&e instanceof ym&&t.Yf===e.Yf&&tv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var bm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ra.c)(e,t),e.prototype.Wf=function(t){return new tc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Yy(this.firestore,null,e)},e}(Qv);function wm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=By(t,Yy);var o=By(t.firestore,zv),s=av(o);return e instanceof Vy&&(e=e.d_),Em(o,[("string"==typeof e||e instanceof Ry?vv(s,"updateDoc",t.S_,e,n,r):yv(s,"updateDoc",t.S_,e)).F_(t.S_,Kl.exists(!0))])}function _m(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Vy&&(t=t.d_);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Bv(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Bv(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Yy)c=By(t.firestore,zv),l=vl(t.S_.path),a={next:function(e){i[u]&&i[u](Om(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=By(t,Qy);c=By(d.firestore,zv),l=d.C_;var p=new bm(c);a={next:function(t){i[u]&&i[u](new ym(c,p,d,t))},error:i[u+1],complete:i[u+2]},Jv(t.C_)}return function(t,e,n,r){var i=this,o=new Dy(r),s=new Bg(e,o,n);return t._s.Ps(function(){return Object(Ra.b)(i,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:return e=Lg,[4,Uv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(Ra.b)(i,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:return e=Ug,[4,Uv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Gv(c),l,h,a)}function Em(t,e){return function(t,e){var n=this,r=new Cf;return t._s.Ps(function(){return Object(Ra.b)(n,void 0,void 0,function(){var n;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return n=ey,[4,Lv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Gv(t),e)}function Om(t,e,n){var r=n.docs.get(e.S_),i=new bm(t);return new pm(t,i,e.S_,r,new dm(n.hasPendingWrites,n.fromCache),e.v_)}var Im=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=av(t)}return t.prototype.set=function(t,e,n){this.md();var r=Cm(t,this.Yf),i=hm(r.v_,e,n),o=cv(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Kl.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=Cm(t,this.Yf);return e instanceof Vy&&(e=e.d_),o="string"==typeof e||e instanceof Ry?vv(this.Id,"WriteBatch.update",s.S_,e,n,r):yv(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Kl.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=Cm(t,this.Yf);return this.Ed=this.Ed.concat(new fh(e.S_,Kl.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Ja(Xa.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Cm(t,e){if(t instanceof Vy&&(t=t.d_),t.firestore!==e)throw new Ja(Xa.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Sm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Ra.c)(e,t),e.prototype.get=function(e){var n=this,r=Cm(e,this.Yf),i=new bm(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new pm(n.Yf,i,r.S_,t.Zf,new dm(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=av(t)}return t.prototype.get=function(t){var e=this,n=Cm(t,this.Yf),r=new fm(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Ba();var i=t[0];if(i instanceof $c)return new Kv(e.Yf,r,n.S_,null,n.v_);if(i instanceof Wc)return new Kv(e.Yf,r,i.key,i,n.v_);throw Ba()})},t.prototype.set=function(t,e,n){var r=Cm(t,this.Yf),i=hm(r.v_,e,n),o=cv(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Cm(t,this.Yf);return e instanceof Vy&&(e=e.d_),o="string"==typeof e||e instanceof Ry?vv(this.Id,"Transaction.update",s.S_,e,n,r):yv(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=Cm(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function Tm(){if("undefined"==typeof Uint8Array)throw new Ja(Xa.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xm(){if("undefined"==typeof atob)throw new Ja(Xa.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Am=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.fromBase64String=function(t){return xm(),new e(tc.fromBase64String(t))},e.fromUint8Array=function(t){return Tm(),new e(tc.fromUint8Array(t))},e.prototype.toBase64=function(){return xm(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return Tm(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Vy),jm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Yv(t=By(t,zv));var n=Gv(t),r=t.p_(),i=new ky;return $v(n,i,new jy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Yv(t=By(t,zv));var e=Gv(t),n=t.p_(),r=new ky;return $v(e,r,new Ny(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Ja(Xa.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Cf;return t.Bf.Tf(function(){return Object(Ra.b)(e,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ra.b)(this,void 0,void 0,function(){return Object(Ra.d)(this,function(e){switch(e.label){case 0:return xf.Kn()?[4,xf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(cp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),Nm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Va||(i.Pd=e),i}return Object(Ra.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=By(t,$y)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&qa("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Ra.b)(e,void 0,void 0,function(){var e,n;return Object(Ra.d)(this,function(r){switch(r.label){case 0:return[4,Pv(t)];case 1:return e=r.sent(),[4,Mv(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Ga(t);return e.Nh.delete(0),hg(e)}(n))]}})})})}(Gv(By(this.d_,zv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Ra.b)(e,void 0,void 0,function(){var e,n;return Object(Ra.d)(this,function(r){switch(r.label){case 0:return[4,Pv(t)];case 1:return e=r.sent(),[4,Mv(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Ra.b)(this,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:return(e=Ga(t)).Nh.add(0),[4,fg(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(Gv(By(this.d_,zv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Uy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Cf;return t._s.Ps(function(){return Object(Ra.b)(e,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(r){switch(r.label){case 0:return e=uy,[4,Lv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Gv(By(this.d_,zv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Dy(e);return t._s.Ps(function(){return Object(Ra.b)(n,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ga(t).Wh.add(e),e.next()},[4,Uv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(Ra.b)(n,void 0,void 0,function(){var e;return Object(Ra.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ga(t).Wh.delete(e)},[4,Uv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Gv(t=By(t,zv)),Bv(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Ja(Xa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Gm(this,Zy(this.d_,t))}catch(t){throw Mm(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Vm(this,Xy(this.d_,t))}catch(t){throw Mm(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Hm(this,function(t,e){if(t=By(t,$y),My("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qy(t,null,function(t){return new gl(hc.ct(),t)}(e))}(this.d_,t))}catch(t){throw Mm(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Cf;return t._s.Ps(function(){return Object(Ra.b)(n,void 0,void 0,function(){var n;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Rv(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Av(t._s,n,e,r).run(),[2]}})})}),r.promise}(Gv(t),function(n){return e(new Sm(t,n))})}(this.d_,function(n){return t(new Dm(e,n))})},e.prototype.batch=function(){var t=this;return Gv(this.d_),new Rm(new Im(this.d_,function(e){return Em(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new Ja(Xa.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Ja(Xa.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Vy),km=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ra.c)(e,t),e.prototype.Wf=function(t){return new Am(new tc(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Vm.yd(e,this.firestore,null)},e}(Qv),Dm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new km(e),r}return Object(Ra.c)(e,t),e.prototype.get=function(t){var e=this,n=Wm(t);return this.d_.get(n).then(function(t){return new Fm(e.Yf,new pm(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=Wm(t);return n?(Ly("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Wm(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Ra.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Wm(t);return this.d_.delete(e),this},e}(Vy),Rm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.prototype.set=function(t,e,n){var r=Wm(t);return n?(Ly("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Wm(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Ra.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Wm(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Vy),Pm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Ra.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new gm(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new qm(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new km(t),n),i.set(n,o)),o},e}(Vy);Pm.Vd=new WeakMap;var Vm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new km(e),r}return Object(Ra.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Ja(Xa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Yy(n.d_,r,new pc(t)))},e.yd=function(t,n,r){return new e(n,new Yy(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Gm(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Gm(this.firestore,Zy(this.d_,t))}catch(t){throw Mm(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Vy&&(t=t.d_),t instanceof Yy&&Jy(this.d_,t)},e.prototype.set=function(t,e){e=Ly("DocumentReference.set",e);try{return function(t,e,n){t=By(t,Yy);var r=By(t.firestore,zv),i=hm(t.v_,e,n);return Em(r,[cv(av(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Kl.Kt())])}(this.d_,t,e)}catch(t){throw Mm(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?wm(this.d_,t):wm.apply(void 0,Object(Ra.g)([this.d_,t,e],n))}catch(t){throw Mm(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Em(By((t=this.d_).firestore,zv),[new fh(t.S_,Kl.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Lm(e),i=Um(e,function(e){return new Fm(t.firestore,new pm(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return _m(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=By(t,Yy);var e=By(t.firestore,zv),n=Gv(e),r=new bm(e);return function(t,e){var n=this,r=new Cf;return t._s.Ps(function(){return Object(Ra.b)(n,void 0,void 0,function(){var n;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r,i;return Object(Ra.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Ga(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Wc?n.resolve(i):i instanceof $c?n.resolve(null):n.reject(new Ja(Xa.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Mf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Vv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new pm(e,r,t.S_,n,new dm(n instanceof Wc&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=By(t,Yy);var e=By(t.firestore,zv);return Fv(Gv(e),t.S_,{source:"server"}).then(function(n){return Om(e,t,n)})}(this.d_):function(t){t=By(t,Yy);var e=By(t.firestore,zv);return Fv(Gv(e),t.S_).then(function(n){return Om(e,t,n)})}(this.d_)).then(function(t){return new Fm(e.firestore,new pm(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Pm.gd(this.firestore,t)))},e}(Vy);function Mm(t,e,n){return t.message=t.message.replace(e,n),t}function Lm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Bv(r))return r}return{}}function Um(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Bv(t[0])?t[0]:Bv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Fm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Ra.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Vm(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return mm(this.d_,t.d_)},e}(Vy),qm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Fm),Hm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new km(e),r}return Object(Ra.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,em(this.d_,function(t,e,n){var r=e,i=Xv("where",t);return new nm(i,r,n)}(t,n,r)))}catch(t){throw Mm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,em(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Xv("orderBy",t);return new rm(r,n)}(t,n)))}catch(t){throw Mm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,em(this.d_,function(t){return zy("limit",t),new im("limit",t,"F")}(t)))}catch(t){throw Mm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,em(this.d_,function(t){return zy("limitToLast",t),new im("limitToLast",t,"L")}(t)))}catch(t){throw Mm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,em(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new om("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Mm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,em(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new om("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Mm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,em(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sm("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Mm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,em(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sm("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Mm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return tv(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=By(t,Qy);var e=By(t.firestore,zv),n=Gv(e),r=new bm(e);return function(t,e){var n=this,r=new Cf;return t._s.Ps(function(){return Object(Ra.b)(n,void 0,void 0,function(){var n;return Object(Ra.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ra.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(Ra.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Ip(t,e,!0)];case 1:return u=a.sent(),r=new Yg(e,u.Rc),i=r.fl(u.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Mf(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Vv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new ym(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=By(t,Qy);var e=By(t.firestore,zv),n=Gv(e),r=new bm(e);return qv(n,t.C_,{source:"server"}).then(function(n){return new ym(e,r,t,n)})}(this.d_):function(t){t=By(t,Qy);var e=By(t.firestore,zv),n=Gv(e),r=new bm(e);return Jv(t.C_),qv(n,t.C_).then(function(n){return new ym(e,r,t,n)})}(this.d_)).then(function(t){return new zm(e.firestore,new ym(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Lm(e),i=Um(e,function(e){return new zm(t.firestore,new ym(t.firestore.d_,t.Xf,t.d_,e._d))});return _m(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Pm.gd(this.firestore,t)))},e}(Vy),Bm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Ra.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new qm(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Vy),zm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Ra.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Hm(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new qm(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new Bm(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new qm(n.Yf,r))})},e.prototype.isEqual=function(t){return mm(this.d_,t.d_)},e}(Vy),Gm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Ra.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Vm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Vm(this.firestore,void 0===t?Xy(this.d_):Xy(this.d_,t))}catch(t){throw Mm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=By(t.firestore,zv),r=Xy(t),i=hm(t.v_,e);return Em(n,[cv(av(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Kl.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new Vm(e.firestore,t)})},e.prototype.isEqual=function(t){return Jy(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Pm.gd(this.firestore,t)))},e}(Hm);function Wm(t){return t instanceof Vy&&(t=t.d_),By(t,Yy)}var $m,Ym=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Ry.bind.apply(Ry,Object(Ra.g)([void 0],e))))||this}return Object(Ra.c)(e,t),e.documentId=function(){return new e(dc.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Vy&&(t=t.d_),t instanceof Ry&&this.d_.f_.isEqual(t.f_)},e}(Vy),Qm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ra.c)(e,t),e.serverTimestamp=function(){var t=new fv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new lv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dv("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pv("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new gv("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Vy),Km=n("/6Yf"),Zm={Firestore:Nm,GeoPoint:ev,Timestamp:ac,Blob:Am,Transaction:Dm,WriteBatch:Rm,DocumentReference:Vm,DocumentSnapshot:Fm,Query:Hm,QueryDocumentSnapshot:qm,QuerySnapshot:zm,CollectionReference:Gm,FieldPath:Ym,FieldValue:Qm,setLogLevel:function(t){Ma.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Km.a("firestore",function(t){return function(t,e){return new Nm(t,new zv(t,e),new jm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Zm)))})($m=Ai.a),$m.registerVersion("@firebase/firestore","2.1.7");var Xm=n("VRyK"),Jm=n("qgXg"),tb=n("Ylt2");class eb extends Ot.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new nb(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new It.a;if(this.isStopped||this.hasError?o=Oe.a.EMPTY:(this.observers.push(t),o=new tb.a(this,t)),r&&t.add(t=new Si.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Jm.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class nb{constructor(t,e){this.time=t,this.value=e}}function rb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new eb(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}}),a&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function ib(t,e){return e?Gt(()=>t,e):Gt(()=>t)}var ob=n("tf+s");const sb=new r.q("angularfire2.auth.use-emulator"),ub=new r.q("angularfire2.auth.settings"),ab=new r.q("angularfire2.auth.tenant-id"),cb=new r.q("angularfire2.auth.langugage-code"),lb=new r.q("angularfire2.auth.use-device-language"),hb=new r.q("angularfire.auth.persistence");let fb=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new Ti.d(i),f=Object(Ti.h)(h),d=new Ot.a,p=Object(Et.a)(void 0).pipe(Object(Si.b)(h.outsideAngular),Gt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Bt.a)(()=>Object(Ti.g)(t,i,e)),Object(Bt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ti.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),rb({bufferSize:1,refCount:!1}));if(H(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Et.a)(null);else{p.pipe(_e()).subscribe();const t=p.pipe(Gt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,rb({bufferSize:1,refCount:!1})),e=t=>new kt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Gt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Gt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(ib(n),Object(ob.a)(h.outsideAngular),Object(Si.b)(h.insideAngular)),this.user=t.pipe(ib(r),Object(ob.a)(h.outsideAngular),Object(Si.b)(h.insideAngular)),this.idToken=this.user.pipe(Gt(t=>t?Object(_t.a)(t.getIdToken()):Object(Et.a)(null))),this.idTokenResult=this.user.pipe(Gt(t=>t?Object(_t.a)(t.getIdTokenResult()):Object(Et.a)(null))),this.credential=Object(Xm.a)(t,d,this.authState.pipe(ne(t=>!t))).pipe(Object(Bt.a)(t=>(null==t?void 0:t.user)?t:null),Object(ob.a)(h.outsideAngular),Object(Si.b)(h.insideAngular))}return Object(Ti.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ti.c),r.Rb(Ti.b,8),r.Rb(r.B),r.Rb(r.z),r.Rb(sb,8),r.Rb(ub,8),r.Rb(ab,8),r.Rb(cb,8),r.Rb(lb,8),r.Rb(hb,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Rb)(Ti.c),Object(r.Rb)(Ti.b,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(sb,8),Object(r.Rb)(ub,8),Object(r.Rb)(ab,8),Object(r.Rb)(cb,8),Object(r.Rb)(lb,8),Object(r.Rb)(hb,8))},token:t,providedIn:"any"}),t})();function db(t,e){return function(t,e=wi.a){return new kt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function pb(t,e){return db(t,e).pipe(Object(Bt.a)(t=>({payload:t,type:"query"})))}function gb(t,e){return pb(t,e).pipe(Xt(void 0),_i(),Object(Bt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function yb(t,e,n){return gb(t,n).pipe(Jt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return vb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return vb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return vb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ii(void 0,void 0)),Object(Bt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function vb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function mb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Ti.e)(fb,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class bb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=gb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Bt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Xt(void 0),_i(),ne(([t,e])=>e.length>0||!t),Object(Bt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Jt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=mb(t);return yb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return pb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(Si.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new wb(this.ref.doc(t),this.afs)}}class wb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Sb(n,e);return new bb(r,i,this.afs)}snapshotChanges(){return db(this.ref,this.afs.schedulers.outsideAngular).pipe(Xt(void 0),_i(),Object(Bt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Bt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(_t.a)(this.ref.get(t)).pipe(Object(Si.b)(this.afs.schedulers.insideAngular))}}class _b{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?gb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ne(t=>t.length>0),this.afs.keepUnstableUntilFirst):gb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Jt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=mb(t);return yb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return pb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(Si.b)(this.afs.schedulers.insideAngular))}}const Eb=new r.q("angularfire2.enableFirestorePersistence"),Ob=new r.q("angularfire2.firestore.persistenceSettings"),Ib=new r.q("angularfire2.firestore.settings"),Cb=new r.q("angularfire2.firestore.use-emulator");function Sb(t,e=(t=>t)){return{query:e(t),ref:t}}let Tb=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new Ti.d(o),this.keepUnstableUntilFirst=Object(Ti.h)(this.schedulers);const c=Object(Ti.g)(t,o,e);!xi.a.auth&&a&&Object(Ti.j)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(Ti.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!H(i)){const e=()=>{try{return Object(_t.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch($m){return"undefined"!=typeof console&&console.warn($m),Object(Et.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Et.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Sb(n,e),o=this.schedulers.ngZone.run(()=>r);return new bb(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new _b(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new wb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ti.c),r.Rb(Ti.b,8),r.Rb(Eb,8),r.Rb(Ib,8),r.Rb(r.B),r.Rb(r.z),r.Rb(Ob,8),r.Rb(Cb,8),r.Rb(sb,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Rb)(Ti.c),Object(r.Rb)(Ti.b,8),Object(r.Rb)(Eb,8),Object(r.Rb)(Ib,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(Ob,8),Object(r.Rb)(Cb,8),Object(r.Rb)(sb,8))},token:t,providedIn:"any"}),t})(),xb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Eb,useValue:!0},{provide:Ob,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Tb]}),t})();function Ab(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",4),r.Ub("click",function(){r.cc(t);const n=e.$implicit;return r.Wb(2).onGoToEdit(n.id)}),r.Nb(1,"div",1),r.gc(2),r.Nb(3,"span"),r.gc(4),r.Mb(),r.Nb(5,"span"),r.gc(6),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit,n=e.index;r.yb(2),r.jc(" ",n+1," - ",t.id," "),r.yb(2),r.hc(t.address),r.yb(2),r.hc(t.year)}}function jb(t,e){if(1&t&&(r.Lb(0),r.fc(1,Ab,7,4,"div",3),r.Kb()),2&t){const t=e.ngIf;r.yb(1),r.Zb("ngForOf",t)}}let Nb=(()=>{class t{constructor(t,e,n){this.fs=t,this.router=e,this.route=n,this.itemsCollection=t.collection("homes"),this.items=this.itemsCollection.snapshotChanges().pipe(Object(Bt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}ngOnInit(){}onGoToEdit(t){t&&this.router.navigate(["./",t],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Tb),r.Ib(Zr),r.Ib(kn))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-edit"]],decls:5,vars:3,consts:[[1,"row","mb"],[1,"col-12"],[4,"ngIf"],["class","row mb clickable",3,"click",4,"ngFor","ngForOf"],[1,"row","mb","clickable",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.gc(2," Choose a item to edit "),r.Mb(),r.Mb(),r.fc(3,jb,2,1,"ng-container",2),r.Xb(4,"async")),2&t&&(r.yb(3),r.Zb("ngIf",r.Yb(4,1,e.items)))},directives:[k,j],pipes:[U],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}.clickable[_ngcontent-%COMP%]:hover{background-color:#0ff}",".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.mb[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{margin-bottom:10px}.mt[_ngcontent-%COMP%]{margin-top:10px}.nav[_ngcontent-%COMP%]{background-color:#eee;padding:10px}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),kb=(()=>{class t{constructor(t){this.fs=t}resolve(t,e){return this.fs.doc("homes/"+t.params.homeId).snapshotChanges().pipe(Object(Bt.a)(t=>Object.assign(Object.assign({},t.payload.data()),{id:t.payload.id})),Qt(1))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Tb))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Db=n("XoHu");function Rb(t,e){return new kt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const a=Object(_t.a)(t[u]);let c=!1;n.add(a.subscribe({next:t=>{c||(c=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Pb=new r.q("NgValueAccessor"),Vb={provide:Pb,useExisting:Object(r.T)(()=>Mb),multi:!0};let Mb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Vb])]}),t})();const Lb={provide:Pb,useExisting:Object(r.T)(()=>Fb),multi:!0},Ub=new r.q("CompositionEventMode");let Fb=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Ub,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([Lb])]}),t})();function qb(t){return null==t||0===t.length}function Hb(t){return null!=t&&"number"==typeof t.length}const Bb=new r.q("NgValidators"),zb=new r.q("NgAsyncValidators"),Gb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Wb{static min(t){return e=>{if(qb(e.value)||qb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(qb(e.value)||qb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return qb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return qb(t.value)||Gb.test(t.value)?null:{email:!0}}static minLength(t){return e=>qb(e.value)||!Hb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Hb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Wb.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(qb(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter($b);return 0==e.length?null:function(t){return Qb(Kb(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter($b);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Tt.a)(e))return Rb(e,null);if(Object(Db.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Rb(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Rb(t=1===t.length&&Object(Tt.a)(t[0])?t[0]:t,null).pipe(Object(Bt.a)(t=>e(...t)))}return Rb(t,null)}(Kb(t,e).map(Yb)).pipe(Object(Bt.a)(Qb))}}}function $b(t){return null!=t}function Yb(t){const e=Object(r.qb)(t)?Object(_t.a)(t):t;return Object(r.pb)(e),e}function Qb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Kb(t,e){return e.map(e=>e(t))}function Zb(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Xb(t){return null!=t?Wb.compose(Zb(t)):null}function Jb(t){return null!=t?Wb.composeAsync(Zb(t)):null}function tw(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ew(t){return t._rawValidators}function nw(t){return t._rawAsyncValidators}let rw=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Jb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),iw=(()=>{class t extends rw{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ow(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const ow=r.Pb(iw);class sw extends rw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uw{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let aw=(()=>{class t extends uw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(sw,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),cw=(()=>{class t extends uw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(iw,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const lw={provide:Pb,useExisting:Object(r.T)(()=>hw),multi:!0};let hw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([lw])]}),t})();const fw={provide:Pb,useExisting:Object(r.T)(()=>pw),multi:!0};let dw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),pw=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(sw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(dw),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([fw])]}),t})();const gw={provide:Pb,useExisting:Object(r.T)(()=>yw),multi:!0};let yw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([gw])]}),t})();const vw={provide:Pb,useExisting:Object(r.T)(()=>bw),multi:!0};function mw(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let bw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=mw(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([vw])]}),t})(),ww=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(mw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(bw,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const _w={provide:Pb,useExisting:Object(r.T)(()=>Ow),multi:!0};function Ew(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ow=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([_w])]}),t})(),Iw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ew(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ew(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(Ow,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Cw(t,e){return[...e.path,t]}function Sw(t,e){xw(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&jw(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&jw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Tw(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xw(t,e,n){const r=ew(t);null!==e.validator?t.setValidators(tw(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=nw(t);if(null!==e.asyncValidator?t.setAsyncValidators(tw(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Tw(e._rawValidators,n),Tw(e._rawAsyncValidators,n)}}function Aw(t,e,n){if(null!==t){if(null!==e.validator){const n=ew(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=nw(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};Tw(e._rawValidators,t),Tw(e._rawAsyncValidators,t)}}function jw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Nw(t,e){xw(t,e,!1)}const kw=[Mb,yw,hw,bw,Ow,pw];function Dw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Rw="VALID",Pw="INVALID",Vw="PENDING",Mw="DISABLED";function Lw(t){return(Hw(t)?t.validators:t)||null}function Uw(t){return Array.isArray(t)?Xb(t):t||null}function Fw(t,e){return(Hw(e)?e.asyncValidators:t)||null}function qw(t){return Array.isArray(t)?Jb(t):t||null}function Hw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Bw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Uw(this._rawValidators),this._composedAsyncValidatorFn=qw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rw}get invalid(){return this.status===Pw}get pending(){return this.status==Vw}get disabled(){return this.status===Mw}get enabled(){return this.status!==Mw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Uw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=qw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Vw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mw,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rw,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Rw&&this.status!==Vw||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mw:Rw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Vw,this._hasOwnPendingAsyncValidator=!0;const e=Yb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Gw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ww&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Mw:this.errors?Pw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vw)?Vw:this._anyControlsHaveStatus(Pw)?Pw:Rw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Hw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class zw extends Bw{constructor(t=null,e,n){super(Lw(e),Fw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Dw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Dw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Gw extends Bw{constructor(t,e,n){super(Lw(e),Fw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof zw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ww extends Bw{constructor(t,e,n){super(Lw(e),Fw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof zw?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let $w=(()=>{class t extends iw{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Cw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(e){return Yw(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Yw=r.Pb($w);let Qw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Kw=new r.q("NgModelWithFormControlWarning"),Zw={provide:iw,useExisting:Object(r.T)(()=>Xw)};let Xw=(()=>{class t extends iw{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Sw(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Dw(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Nw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Nw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),Aw(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&Sw(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xw(this.form,this,!1),this._oldForm&&Aw(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Bb,10),r.Ib(zb,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Ub("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Zw]),r.vb,r.wb]}),t})();const Jw={provide:iw,useExisting:Object(r.T)(()=>t_)};let t_=(()=>{class t extends $w{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}_checkParentType(){r_(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(iw,13),r.Ib(Bb,10),r.Ib(zb,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.xb([Jw]),r.vb]}),t})();const e_={provide:iw,useExisting:Object(r.T)(()=>n_)};let n_=(()=>{class t extends iw{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Cw(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){r_(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(iw,13),r.Ib(Bb,10),r.Ib(zb,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.xb([e_]),r.vb]}),t})();function r_(t){return!(t instanceof t_||t instanceof Xw||t instanceof n_)}const i_={provide:sw,useExisting:Object(r.T)(()=>o_)};let o_=(()=>{class t extends sw{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Fb?n=t:(e=t,kw.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Cw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(iw,13),r.Ib(Bb,10),r.Ib(zb,10),r.Ib(Pb,10),r.Ib(Kw,8))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([i_]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),s_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),u_=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Gw(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new zw(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ww(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof zw||t instanceof Gw||t instanceof Ww?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),a_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[dw],imports:[s_]}),t})(),c_=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Kw,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[u_,dw],imports:[s_]}),t})();const l_=function(){return["/","home"]},h_=function(){return["/","edit"]};let f_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:9,vars:4,consts:[[1,"container","my-3"],[1,"nav","mb"],[1,"nav-item"],[1,"nav-link",3,"routerLink"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"ul",1),r.Nb(2,"li",2),r.Nb(3,"a",3),r.gc(4,"Home"),r.Mb(),r.Mb(),r.Nb(5,"li",2),r.Nb(6,"a",3),r.gc(7,"Edit"),r.Mb(),r.Mb(),r.Mb(),r.Jb(8,"router-outlet"),r.Mb()),2&t&&(r.yb(3),r.Zb("routerLink",r.ac(2,l_)),r.yb(3),r.Zb("routerLink",r.ac(3,h_)))},directives:[Xr,ti],styles:[".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.mb[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{margin-bottom:10px}.mt[_ngcontent-%COMP%]{margin-top:10px}.nav[_ngcontent-%COMP%]{background-color:#eee;padding:10px}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function d_(t,e,n=[],r=[]){return new zw({value:t,disabled:e},n,r)}var p_=n("1EKS");let g_=(()=>{class t{constructor(){this.test={name:"John.",address:{city:"LA",state:"CA",code:{code:123}}},this.test1={name:"John.",address:{city:"LA",state:"CA",code:{code:1231}}},this.test3=[this.test,this.test,this.test,this.test,this.test,this.test],this.test4=[this.test,this.test,this.test,this.test,this.test,this.test],p_(this.test3),p_(this.test4)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),y_=(()=>{class t{transform(t){return"petName"===t?"Pet Name":t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Hb({name:"labelName",type:t,pure:!0}),t})();function v_(t,e){if(1&t&&(r.Nb(0,"option",18),r.gc(1),r.Mb()),2&t){const t=e.$implicit;r.Zb("value",t),r.yb(1),r.hc(t)}}function m_(t,e){if(1&t&&(r.Lb(0),r.Nb(1,"div",20),r.Nb(2,"label"),r.gc(3),r.Xb(4,"labelName"),r.Mb(),r.Jb(5,"input",21),r.Mb(),r.Kb()),2&t){const t=e.$implicit;r.yb(3),r.hc(r.Yb(4,2,t)),r.yb(2),r.Zb("formControlName",t)}}function b_(t,e){if(1&t&&(r.Nb(0,"div"),r.fc(1,m_,6,4,"ng-container",19),r.Mb()),2&t){const t=r.Wb().$implicit,e=r.Wb(2);r.yb(1),r.Zb("ngForOf",e.objToArray(t.controls))}}function w_(t,e){if(1&t&&(r.Nb(0,"div"),r.Nb(1,"div"),r.Jb(2,"app-person",22),r.Mb(),r.Mb()),2&t){const t=r.Wb(3);r.yb(2),r.Zb("passedInHabitant",t.habitantToPassToNext)}}function __(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",10),r.Nb(1,"div",11),r.Nb(2,"div",12),r.gc(3),r.Mb(),r.Nb(4,"div"),r.Nb(5,"label"),r.gc(6,"Dependent type"),r.Mb(),r.Nb(7,"select",13),r.Ub("change",function(){r.cc(t);const n=e.index;return r.Wb(2).onTypeChange(n)}),r.Nb(8,"option",14),r.gc(9,"None"),r.Mb(),r.fc(10,v_,2,2,"option",15),r.Mb(),r.Nb(11,"button",16),r.Ub("click",function(){r.cc(t);const n=e.index;return r.Wb(2).onRemoveDep(n)}),r.gc(12,"Delete this dependent"),r.Mb(),r.Mb(),r.Mb(),r.fc(13,b_,2,1,"div",17),r.fc(14,w_,3,1,"div",17),r.Mb()}if(2&t){const t=e.$implicit,n=e.index,i=r.Wb(2);r.Zb("formGroupName",n),r.yb(3),r.ic("#",n+1,""),r.yb(7),r.Zb("ngForOf",i.typeSelections),r.yb(3),r.Zb("ngIf","habitant"!==t.get("dependent_type").value),r.yb(1),r.Zb("ngIf","habitant"===t.get("dependent_type").value)}}function E_(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",1),r.Nb(1,"div",2),r.gc(2," Habitant Information "),r.Mb(),r.Nb(3,"div"),r.Nb(4,"div",3),r.Nb(5,"label"),r.gc(6,"Habitant Name"),r.Mb(),r.Jb(7,"input",4),r.Mb(),r.Nb(8,"div",3),r.Nb(9,"label"),r.gc(10,"Age"),r.Mb(),r.Jb(11,"input",5),r.Mb(),r.Nb(12,"div",3),r.Nb(13,"div",6),r.Nb(14,"label"),r.gc(15,"Dependent(s)"),r.Mb(),r.Nb(16,"button",7),r.Ub("click",function(){return r.cc(t),r.Wb().onAddDep()}),r.gc(17,"Add another dependent"),r.Mb(),r.Mb(),r.Nb(18,"div",8),r.fc(19,__,15,5,"div",9),r.Mb(),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=r.Wb();r.Zb("formGroup",t.habitantFg),r.yb(19),r.Zb("ngForOf",t.getDependentsArray.controls)}}const O_=["habitant","pet","deceased"];let I_=(()=>{class t{constructor(t){this.fb=t,this.typeSelections=[...O_],this.habitantFg=this.createNewHibitantFg()}ngOnChanges(){var t,e;(null===(t=this.passedInHabitant)||void 0===t?void 0:t.get("habitantName"))?(console.log("Got a habitant fg from previous"),this.habitantFg=this.passedInHabitant):(console.log("Creating the first habitant fg"),null===(e=this.passedInHabitant)||void 0===e||e.addControl("habitant",this.habitantFg))}ngOnInit(){}createNewHibitantFg(){return this.fb.group({habitantName:d_(null,!1,[Wb.required]),age:d_(null,!1,[Wb.required]),dependents:this.fb.array([new Gw({dependent_type:d_(null,!1,[Wb.required])})])})}onTypeChange(t){var e,n,r,i,o,s;const u=null===(e=this.getDependentsArray.at(t).get("dependent_type"))||void 0===e?void 0:e.value,a=this.getDependentsArray.at(t);if("pet"===u)a.addControl("petName",d_(null,!1)),a.removeControl("habitant");else if("deceased"===u)a.removeControl("petName"),a.removeControl("habitant");else if("habitant"===u){a.removeControl("petName");const e=this.createNewHibitantFg();(null===(n=this.passedInHabitant)||void 0===n?void 0:n.get("habitant"))?(console.log("Pass-next from first level"),(null===(r=this.passedInHabitant.get("habitant"))||void 0===r?void 0:r.get("dependents")).at(t).addControl("habitant",e),this.habitantToPassToNext=(null===(i=this.passedInHabitant.get("habitant"))||void 0===i?void 0:i.get("dependents")).at(t).get("habitant")):(console.log("Pass next 2nd level beyond"),(null===(o=this.passedInHabitant)||void 0===o?void 0:o.get("dependents")).at(t).addControl("habitant",e),this.habitantToPassToNext=(null===(s=this.passedInHabitant)||void 0===s?void 0:s.get("dependents")).at(t).get("habitant"))}}get getDependentsArray(){var t;return null===(t=this.habitantFg)||void 0===t?void 0:t.get("dependents")}objToArray(t){return Object.keys(t).filter(t=>"dependent_type"!==t)}onAddDep(){this.getDependentsArray.push(new Gw({dependent_type:d_(null,!1)}))}onRemoveDep(t){this.getDependentsArray.removeAt(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(u_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-person"]],inputs:{passedInHabitant:"passedInHabitant"},features:[r.wb],decls:1,vars:1,consts:[["class","habitant-form ml-2 mb",3,"formGroup",4,"ngIf"],[1,"habitant-form","ml-2","mb",3,"formGroup"],[1,"title"],[1,"form-group","mb"],["formControlName","habitantName",1,"form-control"],["formControlName","age",1,"form-control"],[1,"title-add","mt","mb"],[1,"btn","btn-sm","btn-primary",3,"click"],["formArrayName","dependents"],["class","mb",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb",3,"formGroupName"],[1,"flex","bl","mb"],[1,"mr"],["formControlName","dependent_type",3,"change"],["disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-danger","btn-sm","btn-block","ml",3,"click"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"flex"],[1,"form-control",3,"formControlName"],[3,"passedInHabitant"]],template:function(t,e){1&t&&r.fc(0,E_,20,2,"div",0),2&t&&r.Zb("ngIf",e.habitantFg)},directives:[k,cw,Xw,Fb,aw,o_,n_,j,t_,bw,ww,Iw,t],pipes:[y_],styles:[".habitant-form[_ngcontent-%COMP%]{width:500px;margin-left:20px;margin-top:10px;border-left:1px solid #ccc;padding-left:10px}.title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.flex[_ngcontent-%COMP%], .title-add[_ngcontent-%COMP%]{display:flex}.mb[_ngcontent-%COMP%]{margin-bottom:10px}.mt[_ngcontent-%COMP%]{margin-top:10px}.mr[_ngcontent-%COMP%]{margin-right:10px}.ml[_ngcontent-%COMP%]{margin-left:10px}label[_ngcontent-%COMP%]{margin-right:10px}.bl[_ngcontent-%COMP%]{align-items:baseline}"]}),t})();const C_=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class t{constructor(t,e,n,r,i){this.fb=t,this.fs=n,this.router=r,this.route=i,this.mainFg=new Gw({}),this.homeCollection=n.collection("homes")}ngOnInit(){this.mainFg=this.createMainFormGroup(),this.mainFg.valueChanges.pipe().subscribe(t=>{})}createMainFormGroup(){return this.fb.group({address:d_("1000 Friendly St.",!1,[Wb.required]),year:d_("2021",!1,[Wb.required])})}addItem(t){const e=this.fs.createId(),n=Object.assign({},t);this.homeCollection.doc(e).set(n),this.router.navigate(["../","edit"],{relativeTo:this.route})}onSubmit(){console.log(this.mainFg.value),this.mainFg.valid&&this.addItem(this.mainFg.value)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(u_),r.Ib(g_),r.Ib(Tb),r.Ib(Zr),r.Ib(kn))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:27,vars:6,consts:[[1,"row"],[1,"col-7"],[3,"formGroup"],[1,"title"],[1,"form-group","mb"],["formControlName","address",1,"form-control"],["formControlName","year",1,"form-control"],[3,"passedInHabitant"],["type","button",1,"btn","btn-primary","mt-3",3,"disabled","click"],[1,"col-5"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"h3"),r.gc(3,"Recursion Form"),r.Mb(),r.Jb(4,"hr"),r.Nb(5,"form",2),r.Nb(6,"div",3),r.gc(7," Home Information "),r.Mb(),r.Nb(8,"div",4),r.Nb(9,"label"),r.gc(10,"Address"),r.Mb(),r.Jb(11,"input",5),r.Mb(),r.Nb(12,"div",4),r.Nb(13,"label"),r.gc(14,"Year Built"),r.Mb(),r.Jb(15,"input",6),r.Mb(),r.Jb(16,"app-person",7),r.Jb(17,"hr"),r.Nb(18,"button",8),r.Ub("click",function(){return e.onSubmit()}),r.gc(19,"Submit"),r.Mb(),r.Mb(),r.Mb(),r.Nb(20,"div",9),r.Nb(21,"h3"),r.gc(22,"Form Value:"),r.Mb(),r.Jb(23,"hr"),r.Nb(24,"pre"),r.gc(25),r.Xb(26,"json"),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.yb(5),r.Zb("formGroup",e.mainFg),r.yb(11),r.Zb("passedInHabitant",e.mainFg),r.yb(2),r.Zb("disabled",e.mainFg.invalid),r.yb(7),r.ic("      ",r.Yb(26,4,e.mainFg.value),"\n    "))},directives:[Qw,cw,Xw,Fb,aw,o_,I_],pipes:[F],styles:[".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.mb[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{margin-bottom:10px}.mt[_ngcontent-%COMP%]{margin-top:10px}.nav[_ngcontent-%COMP%]{background-color:#eee;padding:10px}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},{path:"edit",component:Nb},{path:"edit/:homeId",component:bi,resolve:{home:kb}},{path:"**",redirectTo:"home",pathMatch:"full"}];let S_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[li.forRoot(C_)],li]}),t})(),T_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[f_]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[wt,q,S_,a_,li,c_,Ti.a.initializeApp(i),xb]]}),t})();Object(r.S)(),mt().bootstrapModule(T_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);