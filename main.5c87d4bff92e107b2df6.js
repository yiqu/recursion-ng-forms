(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"1EKS":function(t,e,n){t.exports=function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){(function(r,i,o,s,a,u,c,l,h){"use strict";var f=t("crypto");function d(t,e){return function(t,e){var n;if(void 0===(n="passthrough"!==e.algorithm?f.createHash(e.algorithm):new m).write&&(n.write=n.update,n.end=n.update),v(e,n).dispatch(t),n.update||n.end(""),n.digest)return n.digest("buffer"===e.encoding?void 0:e.encoding);var r=n.read();return"buffer"!==e.encoding?r.toString(e.encoding):r}(t,e=y(t,e))}(n=e.exports=d).sha1=function(t){return d(t)},n.keys=function(t){return d(t,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(t){return d(t,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(t){return d(t,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=f.getHashes?f.getHashes().slice():["sha1","md5"];p.push("passthrough");var g=["buffer","hex","binary","base64"];function y(t,e){var n={};if(n.algorithm=(e=e||{}).algorithm||"sha1",n.encoding=e.encoding||"hex",n.excludeValues=!!e.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===e.ignoreUnknown,n.respectType=!1!==e.respectType,n.respectFunctionNames=!1!==e.respectFunctionNames,n.respectFunctionProperties=!1!==e.respectFunctionProperties,n.unorderedArrays=!0===e.unorderedArrays,n.unorderedSets=!1!==e.unorderedSets,n.unorderedObjects=!1!==e.unorderedObjects,n.replacer=e.replacer||void 0,n.excludeKeys=e.excludeKeys||void 0,void 0===t)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===g.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+g.join(", "));return n}function b(t){if("function"==typeof t)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))}function v(t,e,n){function r(t){return e.update?e.update(t,"utf8"):e.write(t,"utf8")}return n=n||[],{dispatch:function(e){return t.replacer&&(e=t.replacer(e)),this["_"+(null===e?"null":typeof e)](e)},_object:function(e){var i,s=Object.prototype.toString.call(e),a=/\[object (.*)\]/i.exec(s);if(a=(a=a?a[1]:"unknown:["+s+"]").toLowerCase(),0<=(i=n.indexOf(e)))return this.dispatch("[CIRCULAR:"+i+"]");if(n.push(e),void 0!==o&&o.isBuffer&&o.isBuffer(e))return r("buffer:"),r(e);if("object"===a||"function"===a||"asyncfunction"===a){var u=Object.keys(e);t.unorderedObjects&&(u=u.sort()),!1===t.respectType||b(e)||u.splice(0,0,"prototype","__proto__","constructor"),t.excludeKeys&&(u=u.filter(function(e){return!t.excludeKeys(e)})),r("object:"+u.length+":");var c=this;return u.forEach(function(n){c.dispatch(n),r(":"),t.excludeValues||c.dispatch(e[n]),r(",")})}if(!this["_"+a]){if(t.ignoreUnknown)return r("["+a+"]");throw new Error('Unknown object type "'+a+'"')}this["_"+a](e)},_array:function(e,i){i=void 0!==i?i:!1!==t.unorderedArrays;var o=this;if(r("array:"+e.length+":"),!i||e.length<=1)return e.forEach(function(t){return o.dispatch(t)});var s=[],a=e.map(function(e){var r=new m,i=n.slice();return v(t,r,i).dispatch(e),s=s.concat(i.slice(n.length)),r.read().toString()});return n=n.concat(s),a.sort(),this._array(a,!1)},_date:function(t){return r("date:"+t.toJSON())},_symbol:function(t){return r("symbol:"+t.toString())},_error:function(t){return r("error:"+t.toString())},_boolean:function(t){return r("bool:"+t.toString())},_string:function(t){r("string:"+t.length+":"),r(t.toString())},_function:function(e){r("fn:"),b(e)?this.dispatch("[native]"):this.dispatch(e.toString()),!1!==t.respectFunctionNames&&this.dispatch("function-name:"+String(e.name)),t.respectFunctionProperties&&this._object(e)},_number:function(t){return r("number:"+t.toString())},_xml:function(t){return r("xml:"+t.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(t){return r("regex:"+t.toString())},_uint8array:function(t){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){return r("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){return r("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){return r("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){return r("url:"+t.toString())},_map:function(e){r("map:");var n=Array.from(e);return this._array(n,!1!==t.unorderedSets)},_set:function(e){r("set:");var n=Array.from(e);return this._array(n,!1!==t.unorderedSets)},_file:function(t){return r("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},_blob:function(){if(t.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function m(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}n.writeToStream=function(t,e,n){return void 0===n&&(n=e,e={}),v(e=y(t,e),n).dispatch(t)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_5812b7fb.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(t,e,n){(function(t,e,r,i,o,s,a,u,c){!function(t){"use strict";var e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),s="A".charCodeAt(0),a="-".charCodeAt(0),u="_".charCodeAt(0);function c(t){var e=t.charCodeAt(0);return e===n||e===a?62:e===r||e===u?63:e<i?-1:e<i+10?e-i+26+26:e<s+26?e-s:e<o+26?e-o+26:void 0}t.toByteArray=function(t){var n,r;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.length,o="="===t.charAt(i-2)?2:"="===t.charAt(i-1)?1:0,s=new e(3*t.length/4-o),a=0<o?t.length-4:t.length,u=0;function l(t){s[u++]=t}for(n=0;n<a;n+=4,0)l((16711680&(r=c(t.charAt(n))<<18|c(t.charAt(n+1))<<12|c(t.charAt(n+2))<<6|c(t.charAt(n+3))))>>16),l((65280&r)>>8),l(255&r);return 2==o?l(255&(r=c(t.charAt(n))<<2|c(t.charAt(n+1))>>4)):1==o&&(l((r=c(t.charAt(n))<<10|c(t.charAt(n+1))<<4|c(t.charAt(n+2))>>2)>>8&255),l(255&r)),s},t.fromByteArray=function(t){var e,n,r,i,o=t.length%3,s="";function a(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)}for(e=0,r=t.length-o;e<r;e+=3)s+=a((i=n=(t[e]<<16)+(t[e+1]<<8)+t[e+2])>>18&63)+a(i>>12&63)+a(i>>6&63)+a(63&i);switch(o){case 1:s+=a((n=t[t.length-1])>>2),s+=a(n<<4&63),s+="==";break;case 2:s+=a((n=(t[t.length-2]<<8)+t[t.length-1])>>10),s+=a(n>>4&63),s+=a(n<<2&63),s+="="}return s}}(void 0===n?this.base64js={}:n)}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(t,e,n){(function(e,r,i,o,s,a,u,c,l){var h=t("base64-js"),f=t("ieee754");function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);var r,o,s,a,u,c=typeof t;if("base64"===e&&"string"==c)for(t=(r=t).trim?r.trim():r.replace(/^\s+|\s+$/g,"");t.length%4!=0;)t+="=";if("number"==c)o=T(t);else if("string"==c)o=i.byteLength(t,e);else{if("object"!=c)throw new Error("First argument needs to be a number, array or string.");o=T(t.length)}if(i._useTypedArrays?s=i._augment(new Uint8Array(o)):((s=this).length=o,s._isBuffer=!0),i._useTypedArrays&&"number"==typeof t.byteLength)s._set(t);else if(x(u=t)||i.isBuffer(u)||u&&"object"==typeof u&&"number"==typeof u.length)for(a=0;a<o;a++)s[a]=i.isBuffer(t)?t.readUInt8(a):t[a];else if("string"==c)s.write(t,0,e);else if("number"==c&&!i._useTypedArrays&&!n)for(a=0;a<o;a++)s[a]=0;return s}function d(t,e,n,r){r||(L("boolean"==typeof n,"missing or invalid endian"),L(null!=e,"missing offset"),L(e+1<t.length,"Trying to read beyond buffer length"));var i,o=t.length;if(!(o<=e))return n?(i=t[e],e+1<o&&(i|=t[e+1]<<8)):(i=t[e]<<8,e+1<o&&(i|=t[e+1])),i}function p(t,e,n,r){r||(L("boolean"==typeof n,"missing or invalid endian"),L(null!=e,"missing offset"),L(e+3<t.length,"Trying to read beyond buffer length"));var i,o=t.length;if(!(o<=e))return n?(e+2<o&&(i=t[e+2]<<16),e+1<o&&(i|=t[e+1]<<8),i|=t[e],e+3<o&&(i+=t[e+3]<<24>>>0)):(e+1<o&&(i=t[e+1]<<16),e+2<o&&(i|=t[e+2]<<8),e+3<o&&(i|=t[e+3]),i+=t[e]<<24>>>0),i}function g(t,e,n,r){if(r||(L("boolean"==typeof n,"missing or invalid endian"),L(null!=e,"missing offset"),L(e+1<t.length,"Trying to read beyond buffer length")),!(t.length<=e)){var i=d(t,e,n,!0);return 32768&i?-1*(65535-i+1):i}}function y(t,e,n,r){if(r||(L("boolean"==typeof n,"missing or invalid endian"),L(null!=e,"missing offset"),L(e+3<t.length,"Trying to read beyond buffer length")),!(t.length<=e)){var i=p(t,e,n,!0);return 2147483648&i?-1*(4294967295-i+1):i}}function b(t,e,n,r){return r||(L("boolean"==typeof n,"missing or invalid endian"),L(e+3<t.length,"Trying to read beyond buffer length")),f.read(t,e,n,23,4)}function v(t,e,n,r){return r||(L("boolean"==typeof n,"missing or invalid endian"),L(e+7<t.length,"Trying to read beyond buffer length")),f.read(t,e,n,52,8)}function m(t,e,n,r,i){i||(L(null!=e,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+1<t.length,"trying to write beyond buffer length"),P(e,65535));var o=t.length;if(!(o<=n))for(var s=0,a=Math.min(o-n,2);s<a;s++)t[n+s]=(e&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function w(t,e,n,r,i){i||(L(null!=e,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+3<t.length,"trying to write beyond buffer length"),P(e,4294967295));var o=t.length;if(!(o<=n))for(var s=0,a=Math.min(o-n,4);s<a;s++)t[n+s]=e>>>8*(r?s:3-s)&255}function _(t,e,n,r,i){i||(L(null!=e,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+1<t.length,"Trying to write beyond buffer length"),R(e,32767,-32768)),t.length<=n||m(t,0<=e?e:65535+e+1,n,r,i)}function O(t,e,n,r,i){i||(L(null!=e,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+3<t.length,"Trying to write beyond buffer length"),R(e,2147483647,-2147483648)),t.length<=n||w(t,0<=e?e:4294967295+e+1,n,r,i)}function E(t,e,n,r,i){i||(L(null!=e,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+3<t.length,"Trying to write beyond buffer length"),V(e,34028234663852886e22,-34028234663852886e22)),t.length<=n||f.write(t,e,n,r,23,4)}function I(t,e,n,r,i){i||(L(null!=e,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+7<t.length,"Trying to write beyond buffer length"),V(e,17976931348623157e292,-17976931348623157e292)),t.length<=n||f.write(t,e,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(t){return!1}}(),i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=j(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=N(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(t,e){if(L(x(t),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===t.length)return new i(0);if(1===t.length)return t[0];if("number"!=typeof e)for(o=e=0;o<t.length;o++)e+=t[o].length;for(var n=new i(e),r=0,o=0;o<t.length;o++){var s=t[o];s.copy(n,r),r+=s.length}return n},i.prototype.write=function(t,e,n,r){var o;isFinite(e)?isFinite(n)||(r=n,n=void 0):(o=r,r=e,e=n,n=o),e=Number(e)||0;var s,a,u,c,l,h=this.length-e;switch((!n||h<(n=Number(n)))&&(n=h),r=String(r||"utf8").toLowerCase()){case"hex":s=function(t,e,n,r){n=Number(n)||0;var o=t.length-n;(!r||o<(r=Number(r)))&&(r=o);var s=e.length;L(s%2==0,"Invalid hex string"),s/2<r&&(r=s/2);for(var a=0;a<r;a++){var u=parseInt(e.substr(2*a,2),16);L(!isNaN(u),"Invalid hex string"),t[n+a]=u}return i._charsWritten=2*a,a}(this,t,e,n);break;case"utf8":case"utf-8":c=e,l=n,s=i._charsWritten=k(j(t),this,c,l);break;case"ascii":case"binary":s=function(t,e,n,r){return i._charsWritten=k(function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}(this,t,e,n);break;case"base64":a=e,u=n,s=i._charsWritten=k(N(t),this,a,u);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":s=function(t,e,n,r){return i._charsWritten=k(function(t){for(var e,n,r=[],i=0;i<t.length;i++)n=(e=t.charCodeAt(i))>>8,r.push(e%256),r.push(n);return r}(e),t,n,r)}(this,t,e,n);break;default:throw new Error("Unknown encoding")}return s},i.prototype.toString=function(t,e,n){var r,i,o,s,a=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,(n=void 0!==n?Number(n):n=a.length)===e)return"";switch(t){case"hex":r=function(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=e;o<n;o++)i+=A(t[o]);return i}(a,e,n);break;case"utf8":case"utf-8":r=function(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;o<n;o++)t[o]<=127?(r+=D(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+D(i)}(a,e,n);break;case"ascii":case"binary":r=function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}(a,e,n);break;case"base64":i=a,s=n,r=0===(o=e)&&s===i.length?h.fromByteArray(i):h.fromByteArray(i.slice(o,s));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(a,e,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(t,e,n,r){if(r||0===r||(r=this.length),e=e||0,r!==(n=n||0)&&0!==t.length&&0!==this.length){L(n<=r,"sourceEnd < sourceStart"),L(0<=e&&e<t.length,"targetStart out of bounds"),L(0<=n&&n<this.length,"sourceStart out of bounds"),L(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o=r-n;if(o<100||!i._useTypedArrays)for(var s=0;s<o;s++)t[s+e]=this[s+n];else t._set(this.subarray(n,n+o),e)}},i.prototype.slice=function(t,e){var n=this.length;if(t=C(t,n,0),e=C(e,n,n),i._useTypedArrays)return i._augment(this.subarray(t,e));for(var r=e-t,o=new i(r,void 0,!0),s=0;s<r;s++)o[s]=this[s+t];return o},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.readUInt8=function(t,e){if(e||(L(null!=t,"missing offset"),L(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return this[t]},i.prototype.readUInt16LE=function(t,e){return d(this,t,!0,e)},i.prototype.readUInt16BE=function(t,e){return d(this,t,!1,e)},i.prototype.readUInt32LE=function(t,e){return p(this,t,!0,e)},i.prototype.readUInt32BE=function(t,e){return p(this,t,!1,e)},i.prototype.readInt8=function(t,e){if(e||(L(null!=t,"missing offset"),L(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length))return 128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){return g(this,t,!0,e)},i.prototype.readInt16BE=function(t,e){return g(this,t,!1,e)},i.prototype.readInt32LE=function(t,e){return y(this,t,!0,e)},i.prototype.readInt32BE=function(t,e){return y(this,t,!1,e)},i.prototype.readFloatLE=function(t,e){return b(this,t,!0,e)},i.prototype.readFloatBE=function(t,e){return b(this,t,!1,e)},i.prototype.readDoubleLE=function(t,e){return v(this,t,!0,e)},i.prototype.readDoubleBE=function(t,e){return v(this,t,!1,e)},i.prototype.writeUInt8=function(t,e,n){n||(L(null!=t,"missing value"),L(null!=e,"missing offset"),L(e<this.length,"trying to write beyond buffer length"),P(t,255)),e>=this.length||(this[e]=t)},i.prototype.writeUInt16LE=function(t,e,n){m(this,t,e,!0,n)},i.prototype.writeUInt16BE=function(t,e,n){m(this,t,e,!1,n)},i.prototype.writeUInt32LE=function(t,e,n){w(this,t,e,!0,n)},i.prototype.writeUInt32BE=function(t,e,n){w(this,t,e,!1,n)},i.prototype.writeInt8=function(t,e,n){n||(L(null!=t,"missing value"),L(null!=e,"missing offset"),L(e<this.length,"Trying to write beyond buffer length"),R(t,127,-128)),e>=this.length||this.writeUInt8(0<=t?t:255+t+1,e,n)},i.prototype.writeInt16LE=function(t,e,n){_(this,t,e,!0,n)},i.prototype.writeInt16BE=function(t,e,n){_(this,t,e,!1,n)},i.prototype.writeInt32LE=function(t,e,n){O(this,t,e,!0,n)},i.prototype.writeInt32BE=function(t,e,n){O(this,t,e,!1,n)},i.prototype.writeFloatLE=function(t,e,n){E(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){E(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){I(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){I(this,t,e,!1,n)},i.prototype.fill=function(t,e,n){if(e=e||0,n=n||this.length,"string"==typeof(t=t||0)&&(t=t.charCodeAt(0)),L("number"==typeof t&&!isNaN(t),"value is not a number"),L(e<=n,"end < start"),n!==e&&0!==this.length){L(0<=e&&e<this.length,"start out of bounds"),L(0<=n&&n<=this.length,"end out of bounds");for(var r=e;r<n;r++)this[r]=t}},i.prototype.inspect=function(){for(var t=[],e=this.length,r=0;r<e;r++)if(t[r]=A(this[r]),r===n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;e<n;e+=1)t[e]=this[e];return t.buffer};var S=i.prototype;function C(t,e,n){return"number"!=typeof t?n:e<=(t=~~t)?e:0<=t||0<=(t+=e)?t:0}function T(t){return(t=~~Math.ceil(+t))<0?0:t}function x(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function A(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(t.charCodeAt(n));else{var i=n;55296<=r&&r<=57343&&n++;for(var o=encodeURIComponent(t.slice(i,n+1)).substr(1).split("%"),s=0;s<o.length;s++)e.push(parseInt(o[s],16))}}return e}function N(t){return h.toByteArray(t)}function k(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function D(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}function P(t,e){L("number"==typeof t,"cannot write a non-number as a number"),L(0<=t,"specified a negative value for writing an unsigned value"),L(t<=e,"value is larger than maximum value for type"),L(Math.floor(t)===t,"value has a fractional component")}function R(t,e,n){L("number"==typeof t,"cannot write a non-number as a number"),L(t<=e,"value larger than maximum allowed value"),L(n<=t,"value smaller than minimum allowed value"),L(Math.floor(t)===t,"value has a fractional component")}function V(t,e,n){L("number"==typeof t,"cannot write a non-number as a number"),L(t<=e,"value larger than maximum allowed value"),L(n<=t,"value smaller than minimum allowed value")}function L(t,e){if(!t)throw new Error(e||"Failed assertion")}i._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=S.get,t.set=S.set,t.write=S.write,t.toString=S.toString,t.toLocaleString=S.toString,t.toJSON=S.toJSON,t.copy=S.copy,t.slice=S.slice,t.readUInt8=S.readUInt8,t.readUInt16LE=S.readUInt16LE,t.readUInt16BE=S.readUInt16BE,t.readUInt32LE=S.readUInt32LE,t.readUInt32BE=S.readUInt32BE,t.readInt8=S.readInt8,t.readInt16LE=S.readInt16LE,t.readInt16BE=S.readInt16BE,t.readInt32LE=S.readInt32LE,t.readInt32BE=S.readInt32BE,t.readFloatLE=S.readFloatLE,t.readFloatBE=S.readFloatBE,t.readDoubleLE=S.readDoubleLE,t.readDoubleBE=S.readDoubleBE,t.writeUInt8=S.writeUInt8,t.writeUInt16LE=S.writeUInt16LE,t.writeUInt16BE=S.writeUInt16BE,t.writeUInt32LE=S.writeUInt32LE,t.writeUInt32BE=S.writeUInt32BE,t.writeInt8=S.writeInt8,t.writeInt16LE=S.writeInt16LE,t.writeInt16BE=S.writeInt16BE,t.writeInt32LE=S.writeInt32LE,t.writeInt32BE=S.writeInt32BE,t.writeFloatLE=S.writeFloatLE,t.writeFloatBE=S.writeFloatBE,t.writeDoubleLE=S.writeDoubleLE,t.writeDoubleBE=S.writeDoubleBE,t.fill=S.fill,t.inspect=S.inspect,t.toArrayBuffer=S.toArrayBuffer,t}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(t,e,n){(function(n,r,i,o,s,a,u,c,l){var h=new(i=t("buffer").Buffer)(4);h.fill(0),e.exports={hash:function(t,e,n,r){return i.isBuffer(t)||(t=new i(t)),function(t,e,n){for(var r=new i(e),o=n?r.writeInt32BE:r.writeInt32LE,s=0;s<t.length;s++)o.call(r,t[s],4*s,!0);return r}(e(function(t,e){t.length%4!=0&&(t=i.concat([t,h],t.length+(4-t.length%4)));for(var n=[],r=e?t.readInt32BE:t.readInt32LE,o=0;o<t.length;o+=4)n.push(r.call(t,o));return n}(t,r),8*t.length),n,r)}}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(t,e,n){(function(e,r,i,o,s,a,u,c,l){i=t("buffer").Buffer;var h=t("./sha"),f=t("./sha256"),d=t("./rng"),p={sha1:h,sha256:f,md5:t("./md5")},g=64,y=new i(g);function b(t,e){var n=p[t=t||"sha1"],r=[];return n||v("algorithm:",t,"is not yet supported"),{update:function(t){return i.isBuffer(t)||(t=new i(t)),r.push(t),this},digest:function(t){var o=i.concat(r),s=e?function(t,e,n){i.isBuffer(e)||(e=new i(e)),i.isBuffer(n)||(n=new i(n)),e.length>g?e=t(e):e.length<g&&(e=i.concat([e,y],g));for(var r=new i(g),o=new i(g),s=0;s<g;s++)r[s]=54^e[s],o[s]=92^e[s];var a=t(i.concat([r,n]));return t(i.concat([o,a]))}(n,e,o):n(o);return r=null,t?s.toString(t):s}}}function v(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}y.fill(0),n.createHash=function(t){return b(t)},n.createHmac=b,n.randomBytes=function(t,e){if(!e||!e.call)return new i(d(t));try{e.call(this,void 0,new i(d(t)))}catch(t){e(t)}},function(t,e){for(var n in t)e(t[n])}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(t){n[t]=function(){v("sorry,",t,"is not implemented yet")}})}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(t,e,n){(function(n,r,i,o,s,a,u,c,l){var h=t("./helpers");function f(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,u=r,c=i,l=o;n=p(n,r,i,o,t[s+0],7,-680876936),o=p(o,n,r,i,t[s+1],12,-389564586),i=p(i,o,n,r,t[s+2],17,606105819),r=p(r,i,o,n,t[s+3],22,-1044525330),n=p(n,r,i,o,t[s+4],7,-176418897),o=p(o,n,r,i,t[s+5],12,1200080426),i=p(i,o,n,r,t[s+6],17,-1473231341),r=p(r,i,o,n,t[s+7],22,-45705983),n=p(n,r,i,o,t[s+8],7,1770035416),o=p(o,n,r,i,t[s+9],12,-1958414417),i=p(i,o,n,r,t[s+10],17,-42063),r=p(r,i,o,n,t[s+11],22,-1990404162),n=p(n,r,i,o,t[s+12],7,1804603682),o=p(o,n,r,i,t[s+13],12,-40341101),i=p(i,o,n,r,t[s+14],17,-1502002290),n=g(n,r=p(r,i,o,n,t[s+15],22,1236535329),i,o,t[s+1],5,-165796510),o=g(o,n,r,i,t[s+6],9,-1069501632),i=g(i,o,n,r,t[s+11],14,643717713),r=g(r,i,o,n,t[s+0],20,-373897302),n=g(n,r,i,o,t[s+5],5,-701558691),o=g(o,n,r,i,t[s+10],9,38016083),i=g(i,o,n,r,t[s+15],14,-660478335),r=g(r,i,o,n,t[s+4],20,-405537848),n=g(n,r,i,o,t[s+9],5,568446438),o=g(o,n,r,i,t[s+14],9,-1019803690),i=g(i,o,n,r,t[s+3],14,-187363961),r=g(r,i,o,n,t[s+8],20,1163531501),n=g(n,r,i,o,t[s+13],5,-1444681467),o=g(o,n,r,i,t[s+2],9,-51403784),i=g(i,o,n,r,t[s+7],14,1735328473),n=y(n,r=g(r,i,o,n,t[s+12],20,-1926607734),i,o,t[s+5],4,-378558),o=y(o,n,r,i,t[s+8],11,-2022574463),i=y(i,o,n,r,t[s+11],16,1839030562),r=y(r,i,o,n,t[s+14],23,-35309556),n=y(n,r,i,o,t[s+1],4,-1530992060),o=y(o,n,r,i,t[s+4],11,1272893353),i=y(i,o,n,r,t[s+7],16,-155497632),r=y(r,i,o,n,t[s+10],23,-1094730640),n=y(n,r,i,o,t[s+13],4,681279174),o=y(o,n,r,i,t[s+0],11,-358537222),i=y(i,o,n,r,t[s+3],16,-722521979),r=y(r,i,o,n,t[s+6],23,76029189),n=y(n,r,i,o,t[s+9],4,-640364487),o=y(o,n,r,i,t[s+12],11,-421815835),i=y(i,o,n,r,t[s+15],16,530742520),n=b(n,r=y(r,i,o,n,t[s+2],23,-995338651),i,o,t[s+0],6,-198630844),o=b(o,n,r,i,t[s+7],10,1126891415),i=b(i,o,n,r,t[s+14],15,-1416354905),r=b(r,i,o,n,t[s+5],21,-57434055),n=b(n,r,i,o,t[s+12],6,1700485571),o=b(o,n,r,i,t[s+3],10,-1894986606),i=b(i,o,n,r,t[s+10],15,-1051523),r=b(r,i,o,n,t[s+1],21,-2054922799),n=b(n,r,i,o,t[s+8],6,1873313359),o=b(o,n,r,i,t[s+15],10,-30611744),i=b(i,o,n,r,t[s+6],15,-1560198380),r=b(r,i,o,n,t[s+13],21,1309151649),n=b(n,r,i,o,t[s+4],6,-145523070),o=b(o,n,r,i,t[s+11],10,-1120210379),i=b(i,o,n,r,t[s+2],15,718787259),r=b(r,i,o,n,t[s+9],21,-343485551),n=v(n,a),r=v(r,u),i=v(i,c),o=v(o,l)}return Array(n,r,i,o)}function d(t,e,n,r,i,o){return v((s=v(v(e,t),v(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function p(t,e,n,r,i,o,s){return d(e&n|~e&r,t,e,i,o,s)}function g(t,e,n,r,i,o,s){return d(e&r|n&~r,t,e,i,o,s)}function y(t,e,n,r,i,o,s){return d(e^n^r,t,e,i,o,s)}function b(t,e,n,r,i,o,s){return d(n^(e|~r),t,e,i,o,s)}function v(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}e.exports=function(t){return h.hash(t,f,16)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(t,e,n){(function(t,n,r,i,o,s,a,u,c){e.exports=function(t){for(var e,n=new Array(t),r=0;r<t;r++)0==(3&r)&&(e=4294967296*Math.random()),n[r]=e>>>((3&r)<<3)&255;return n}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(t,e,n){(function(n,r,i,o,s,a,u,c,l){var h=t("./helpers");function f(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var n,r,i,o,s,a=Array(80),u=1732584193,c=-271733879,l=-1732584194,h=271733878,f=-1009589776,g=0;g<t.length;g+=16){for(var y=u,b=c,v=l,m=h,w=f,_=0;_<80;_++){a[_]=_<16?t[g+_]:p(a[_-3]^a[_-8]^a[_-14]^a[_-16],1);var O=d(d(p(u,5),(i=c,o=l,s=h,(r=_)<20?i&o|~i&s:!(r<40)&&r<60?i&o|i&s|o&s:i^o^s)),d(d(f,a[_]),(n=_)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));f=h,h=l,l=p(c,30),c=u,u=O}u=d(u,y),c=d(c,b),l=d(l,v),h=d(h,m),f=d(f,w)}return Array(u,c,l,h,f)}function d(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function p(t,e){return t<<e|t>>>32-e}e.exports=function(t){return h.hash(t,f,20,!0)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(t,e,n){(function(n,r,i,o,s,a,u,c,l){function h(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function f(t,e){return t>>>e|t<<32-e}function d(t,e){var n,r,i,o,s,a,u,c,l,d,p=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),g=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),y=new Array(64);t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var b,v,m,w,_,O,E,I,S=0;S<t.length;S+=16){n=g[0],r=g[1],i=g[2],o=g[3],s=g[4],a=g[5],u=g[6],c=g[7];for(var C=0;C<64;C++)y[C]=C<16?t[C+S]:h(h(h(f(I=y[C-2],17)^f(I,19)^I>>>10,y[C-7]),f(E=y[C-15],7)^f(E,18)^E>>>3),y[C-16]),l=h(h(h(h(c,f(O=s,6)^f(O,11)^f(O,25)),(_=s)&a^~_&u),p[C]),y[C]),d=h(f(w=n,2)^f(w,13)^f(w,22),(b=n)&(v=r)^b&(m=i)^v&m),c=u,u=a,a=s,s=h(o,l),o=i,i=r,r=n,n=h(l,d);g[0]=h(n,g[0]),g[1]=h(r,g[1]),g[2]=h(i,g[2]),g[3]=h(o,g[3]),g[4]=h(s,g[4]),g[5]=h(a,g[5]),g[6]=h(u,g[6]),g[7]=h(c,g[7])}return g}var p=t("./helpers");e.exports=function(t){return p.hash(t,d,32,!0)}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(t,e,n){(function(t,n,r,i,o,s,a,u,c){function l(){}(t=e.exports={}).nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;e!==window&&null!==e||"process-tick"!==t.data||(t.stopPropagation(),0<n.length&&n.shift()())},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),t.title="browser",t.browser=!0,t.env={},t.argv=[],t.on=l,t.addListener=l,t.once=l,t.off=l,t.removeListener=l,t.removeAllListeners=l,t.emit=l,t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(t,e,n){(function(t,e,r,i,o,s,a,u,c){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;0<l;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;0<l;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(e+=1<=s+h?f/u:f*Math.pow(2,1-h))*u&&(s++,u/=2),l<=s+h?(a=0,s=l):1<=s+h?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));8<=i;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;0<c;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*g}}).call(this,t("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return ln}),n.d(e,"b",function(){return vu}),n.d(e,"c",function(){return du}),n.d(e,"d",function(){return hu}),n.d(e,"e",function(){return fu}),n.d(e,"f",function(){return hc}),n.d(e,"g",function(){return ec}),n.d(e,"h",function(){return ba}),n.d(e,"i",function(){return Au}),n.d(e,"j",function(){return zs}),n.d(e,"k",function(){return _u}),n.d(e,"l",function(){return Ys}),n.d(e,"m",function(){return Er}),n.d(e,"n",function(){return Ya}),n.d(e,"o",function(){return oo}),n.d(e,"p",function(){return mn}),n.d(e,"q",function(){return cn}),n.d(e,"r",function(){return Oo}),n.d(e,"s",function(){return ha}),n.d(e,"t",function(){return fa}),n.d(e,"u",function(){return wu}),n.d(e,"v",function(){return xa}),n.d(e,"w",function(){return rc}),n.d(e,"x",function(){return Ta}),n.d(e,"y",function(){return Ku}),n.d(e,"z",function(){return ku}),n.d(e,"A",function(){return wn}),n.d(e,"B",function(){return bu}),n.d(e,"C",function(){return yu}),n.d(e,"D",function(){return Ks}),n.d(e,"E",function(){return Qs}),n.d(e,"F",function(){return Tr}),n.d(e,"G",function(){return Xs}),n.d(e,"H",function(){return vr}),n.d(e,"I",function(){return On}),n.d(e,"J",function(){return sc}),n.d(e,"K",function(){return Ea}),n.d(e,"L",function(){return Mu}),n.d(e,"M",function(){return hn}),n.d(e,"N",function(){return ta}),n.d(e,"O",function(){return Zs}),n.d(e,"P",function(){return ja}),n.d(e,"Q",function(){return F}),n.d(e,"R",function(){return Ju}),n.d(e,"S",function(){return Yu}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Wu}),n.d(e,"V",function(){return cc}),n.d(e,"W",function(){return qu}),n.d(e,"X",function(){return mu}),n.d(e,"Y",function(){return ao}),n.d(e,"Z",function(){return js}),n.d(e,"ab",function(){return yr}),n.d(e,"bb",function(){return Zn}),n.d(e,"cb",function(){return qn}),n.d(e,"db",function(){return zn}),n.d(e,"eb",function(){return Yn}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return Gn}),n.d(e,"hb",function(){return Wn}),n.d(e,"ib",function(){return Cs}),n.d(e,"jb",function(){return uc}),n.d(e,"kb",function(){return Ts}),n.d(e,"lb",function(){return xs}),n.d(e,"mb",function(){return Bn}),n.d(e,"nb",function(){return B}),n.d(e,"ob",function(){return ko}),n.d(e,"pb",function(){return Yo}),n.d(e,"qb",function(){return Wo}),n.d(e,"rb",function(){return Ss}),n.d(e,"sb",function(){return Nt}),n.d(e,"tb",function(){return b}),n.d(e,"ub",function(){return Hn}),n.d(e,"vb",function(){return Io}),n.d(e,"wb",function(){return St}),n.d(e,"xb",function(){return Hs}),n.d(e,"yb",function(){return ci}),n.d(e,"zb",function(){return Vo}),n.d(e,"Ab",function(){return as}),n.d(e,"Bb",function(){return ss}),n.d(e,"Cb",function(){return au}),n.d(e,"Db",function(){return tt}),n.d(e,"Eb",function(){return at}),n.d(e,"Fb",function(){return E}),n.d(e,"Gb",function(){return I}),n.d(e,"Hb",function(){return it}),n.d(e,"Ib",function(){return ut}),n.d(e,"Jb",function(){return Fo}),n.d(e,"Kb",function(){return Bo}),n.d(e,"Lb",function(){return Go}),n.d(e,"Mb",function(){return zo}),n.d(e,"Nb",function(){return qo}),n.d(e,"Ob",function(){return Ho}),n.d(e,"Pb",function(){return $o}),n.d(e,"Qb",function(){return on}),n.d(e,"Rb",function(){return _s}),n.d(e,"Sb",function(){return kn}),n.d(e,"Tb",function(){return sn}),n.d(e,"Ub",function(){return lu}),n.d(e,"Vb",function(){return Qo}),n.d(e,"Wb",function(){return uu}),n.d(e,"Xb",function(){return Xo}),n.d(e,"Yb",function(){return $a}),n.d(e,"Zb",function(){return Wa}),n.d(e,"ac",function(){return Mo}),n.d(e,"bc",function(){return Ga}),n.d(e,"cc",function(){return su}),n.d(e,"dc",function(){return Qt}),n.d(e,"ec",function(){return mr}),n.d(e,"fc",function(){return ot}),n.d(e,"gc",function(){return Lo}),n.d(e,"hc",function(){return bs}),n.d(e,"ic",function(){return vs}),n.d(e,"jc",function(){return ms}),n.d(e,"kc",function(){return ws});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(b).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const m=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return b(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(m)&&t.__forward_ref__===w}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return C(t,x)||C(t,j)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(N))?t[A]:null}const x=g({"\u0275prov":g}),A=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),N=g({ngInjectorDef:g});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function P(t){const e=D;return D=t,e}function R(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${b(t)}]`)}function V(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=M||q||U||H,z={},G=[],$=g({"\u0275cmp":g}),W=g({"\u0275dir":g}),Y=g({"\u0275pipe":g}),Q=g({"\u0275mod":g}),K=g({"\u0275loc":g}),J=g({"\u0275fac":g}),X=g({__NG_ELEMENT_ID__:g});let Z=0;function tt(t){return V(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[Y]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&V(()=>{rt[t.id]=t.type}),e}function ot(t,e){return V(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[$]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${b(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function yt(t){return 2==(2&t.flags)}function bt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function mt(t,e){return t.hasOwnProperty(J)?t[J]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Et(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class It{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function St(){return Ct}function Ct(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),Tt}function Tt(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new It(u&&u.currentValue,e,s===z),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}St.ngInherit=!0;let jt=void 0;function Nt(t){jt=t}function kt(t){return!!t.listen}const Dt={createRenderer:(t,e)=>void 0!==jt?jt:"undefined"!=typeof document?document:void 0};function Pt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Pt(e[t])}function Vt(t,e){return Pt(e[t.index])}function Lt(t,e){return t.data[e]}function Ft(t,e){const n=e[t];return dt(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 4==(4&t[2])}function Ht(t){return 128==(128&t[2])}function qt(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function zt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Gt={lFrame:ge(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $t(){return Gt.bindingsEnabled}function Wt(){return Gt.lFrame.lView}function Yt(){return Gt.lFrame.tView}function Qt(t){Gt.lFrame.contextLView=t}function Kt(){let t=Jt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Jt(){return Gt.lFrame.currentTNode}function Xt(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Gt.lFrame.isParent}function te(){Gt.lFrame.isParent=!1}function ee(){return Gt.isInCheckNoChangesMode}function ne(t){Gt.isInCheckNoChangesMode=t}function re(){const t=Gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ie(){return Gt.lFrame.bindingIndex}function oe(){return Gt.lFrame.bindingIndex++}function se(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ae(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ue(e)}function ue(t){Gt.lFrame.currentDirectiveIndex=t}function ce(){return Gt.lFrame.currentQueryIndex}function le(t){Gt.lFrame.currentQueryIndex=t}function he(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function fe(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=he(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Gt.lFrame=pe();return r.currentTNode=e,r.lView=t,!0}function de(t){const e=pe(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pe(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?ge(t):e}function ge(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ye(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const be=ye;function ve(){const t=ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function me(){return Gt.lFrame.selectedIndex}function we(t){Gt.lFrame.selectedIndex=t}function _e(){const t=Gt.lFrame;return Lt(t.tView,t.selectedIndex)}function Oe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ee(t,e,n){Ce(t,e,3,n)}function Ie(t,e,n,r){(3&t[2])===n&&Ce(t,e,n,r)}function Se(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ce(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const xe=-1;class Ae{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function je(t,e,n){const r=kt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];ke(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ne(t){return 3===t||4===t||6===t}function ke(t){return 64===t.charCodeAt(0)}function De(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Pe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Pe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Re(t){return t!==xe}function Ve(t){return 32767&t}function Le(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Fe=!0;function Me(t){const e=Fe;return Fe=t,e}let Ue=0;function He(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,qe(r.data,t),qe(e,null),qe(r.blueprint,null));const i=ze(t,e),o=t.injectorIndex;if(Re(i)){const t=Ve(i),n=Le(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ze(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xe}function Ge(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Ue++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function $e(t,e,n){if(n&k.Optional)return t;Et(e,"NodeInjector")}function We(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=P(void 0);try{return i?i.get(e,r,n&k.Optional):R(e,r,n&k.Optional)}finally{P(o)}}return $e(r,e,n)}function Ye(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof o){if(!fe(e,t,r))return r&k.Host?$e(i,n,r):We(e,n,r,i);try{const t=o();if(null!=t||r&k.Optional)return t;Et(n)}finally{be()}}else if("number"==typeof o){let i=null,s=Be(t,e),a=xe,u=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?ze(t,e):e[s+8],a!==xe&&en(r,!1)?(i=e[1],s=Ve(a),e=Le(a,e)):s=-1);-1!==s;){const t=e[1];if(tn(o,s,t.data)){const t=Je(s,e,n,i,r,u);if(t!==Qe)return t}a=e[s+8],a!==xe&&en(r,e[1].data[s+8]===u)&&tn(o,s,e)?(i=t,s=Ve(a),e=Le(a,e)):s=-1}}}return We(e,n,r,i)}const Qe={};function Ke(){return new nn(Kt(),Wt())}function Je(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Xe(a,s,n,null==r?yt(a)&&Fe:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==u?Ze(e,s,u,a):Qe}function Xe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function Ze(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ae){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const a=Me(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?P(s.injectImpl):null;fe(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Ct(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&P(u),Me(a),s.resolving=!1,be()}}return i}function tn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function en(t,e){return!(t&k.Self||t&k.Host&&e)}class nn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ye(this._tNode,this._lView,t,void 0,e)}}function rn(t){const e=t;if(O(t))return()=>{const t=rn(_(e));return t?t():null};let n=mt(e);if(null===n){const t=T(e);n=t&&t.factory}return n||null}function on(t){return V(()=>{const e=t.prototype.constructor,n=e[J]||rn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[J]||rn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function sn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ne(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const an="__parameters__";function un(t,e,n){return V(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(an)?t[an]:Object.defineProperty(t,an,{value:[]})[an];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class cn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const ln=new cn("AnalyzeForEntryComponents"),hn=Function;function fn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),fn(r,e)):e!==t&&e.push(r)}return e}function dn(t,e){t.forEach(t=>Array.isArray(t)?dn(t,e):e(t))}function pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yn(t,e,n){let r=vn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bn(t,e){const n=vn(t,e);if(n>=0)return t[1|n]}function vn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const mn=un("Inject",t=>({token:t})),wn=un("Optional"),_n=un("Self"),On=un("SkipSelf"),En=un("Host"),In={},Sn=/\n/gm,Cn="__source",Tn=g({provide:String,useValue:g});let xn,An=void 0;function jn(t){const e=An;return An=t,e}function Nn(t,e=k.Default){if(void 0===An)throw new Error("inject() must be called from an injection context");return null===An?R(t,void 0,e):An.get(t,e&k.Optional?null:void 0,e)}function kn(t,e=k.Default){return(D||Nn)(_(t),e)}function Dn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof wn||"Optional"===i.ngMetadataName||i===wn?n|=k.Optional:i instanceof On||"SkipSelf"===i.ngMetadataName||i===On?n|=k.SkipSelf:i instanceof _n||"Self"===i.ngMetadataName||i===_n?n|=k.Self:i instanceof En||"Host"===i.ngMetadataName||i===En?n|=k.Host:t=i instanceof mn||i===mn?i.token:i}e.push(kn(t,n))}else e.push(kn(r))}return e}function Pn(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,B.trustedTypes))try{xn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Vn extends Rn{getTypeName(){return"HTML"}}class Ln extends Rn{getTypeName(){return"Style"}}class Fn extends Rn{getTypeName(){return"Script"}}class Mn extends Rn{getTypeName(){return"URL"}}class Un extends Rn{getTypeName(){return"ResourceURL"}}function Hn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function qn(t,e){const n=Bn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Bn(t){return t instanceof Rn&&t.getTypeName()||null}function zn(t){return new Vn(t)}function Gn(t){return new Ln(t)}function $n(t){return new Fn(t)}function Wn(t){return new Mn(t)}function Yn(t){return new Un(t)}class Qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Kn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(t){return(t=String(t)).match(Jn)||t.match(Xn)?t:"unsafe:"+t}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),or=er(ir,rr),sr=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=tr("srcset"),cr=er(ar,ur,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!cr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ar[o]&&(s=Zn(s)),ur[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function yr(t,e){let n=null;try{gr=gr||function(t){const e=new Kn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Qn(e):e}(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==o);return(new hr).sanitizeChildren(br(n)||n)}finally{if(n){const t=br(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function br(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(vr.URL,t)||"":qn(t,"URL")?Hn(t):Zn(_t(t))}function wr(t){return t.ngDebugContext}function _r(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class Er{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?wr(t)?wr(t):this._findContext(_r(t)):null}_findOriginalError(t){let e=_r(t);for(;e&&_r(e);)e=_r(e);return e}}function Ir(t,e){t.__ngContext__=e}const Sr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Cr(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function xr(t,e){return(void 0)(t,e)}function Ar(t){const e=t[3];return pt(e)?e[3]:e}function jr(t){return kr(t[13])}function Nr(t){return kr(t[4])}function kr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Dr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Pt(r);0===t&&null!==n?null==i?Ur(e,n,a):Mr(e,n,a,i||null,!0):1===t&&null!==n?Mr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Pt(n)&&Dr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Wr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Pr(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,zt(i,-1)),n.splice(r,1)}function Vr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Rr(o,r),e>0&&(t[n-1][4]=r[4]);const s=gn(t,ft+e);Wr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Lr(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&Wr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Fr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Fr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ae)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Pt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Rr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Mr(t,e,n,r,i){kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ur(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function Hr(t,e,n,r,i){null!==r?Mr(t,e,n,r,i):Ur(t,e,n)}function qr(t,e){return kt(t)?t.parentNode(e):e.parentNode}function Br(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Vt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Vt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Hr(o,i,n[a],s,!1);else Hr(o,i,n,s,!1)}function zr(t,e){if(null!==e){const n=e.type;if(3&n)return Vt(e,t);if(4&n)return Gr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zr(t,n);{const n=t[e.index];return pt(n)?Gr(-1,n):Pt(n)}}if(32&n)return xr(e,t)()||Pt(t[e.index]);{const n=t[16],r=n[6],i=Ar(n),o=r.projection[e.projection];return null!=o?zr(i,o):zr(t,e.next)}}return null}function Gr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return zr(t,r)}return e[7]}function $r(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Ir(Pt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)$r(t,e,n.child,r,i,o,!1),Dr(e,t,i,a,o);else if(32&u){const s=xr(n,r);let u;for(;u=s();)Dr(e,t,i,u,o);Dr(e,t,i,a,o)}else 16&u?Yr(t,e,r,n,i,o):Dr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Wr(t,e,n,r,i,o){$r(n,r,t.firstChild,e,i,o,!1)}function Yr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Dr(e,t,i,a[u],o);else $r(t,e,a,s[3],i,o,!0)}function Qr(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Kr(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Jr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Xr="ng-template";function Zr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Jr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ti(t){return 4===t.type&&t.value!==Xr}function ei(t,e,n){return e===(4!==t.type||n?t.value:Xr)}function ni(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ne(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ei(t,u,n)||""===u&&1===e.length){if(ri(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Zr(t.attrs,c,n)){if(ri(r))return!1;s=!0}continue}const l=ii(8&r?"class":u,i,ti(t),n);if(-1===l){if(ri(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Jr(e,c,0)||2&r&&c!==t){if(ri(r))return!1;s=!0}}}}else{if(!s&&!ri(r)&&!ri(u))return!1;if(s&&ri(u))continue;s=!1,r=u|1&r}}return ri(r)||s}function ri(t){return 0==(1&t)}function ii(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function oi(t,e,n=!1){for(let r=0;r<e.length;r++)if(ni(t,e[r],n))return!0;return!1}function si(t,e){return t?":not("+e.trim()+")":e}function ai(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ri(s)||(e+=si(o,i),i=""),r=s,o=o||!ri(r);n++}return""!==i&&(e+=si(o,i)),e}const ui={};function ci(t){li(Yt(),Wt(),me()+t,ee())}function li(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ee(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ie(e,r,0,n)}we(n)}function hi(t,e){return t<<17|e<<2}function fi(t){return t>>17&32767}function di(t){return 2|t}function pi(t){return(131068&t)>>2}function gi(t,e){return-131069&t|e<<2}function yi(t){return 1|t}function bi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];le(i),n.contentQueries(2,e[o],o)}}}function vi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function mi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Jt(),s=Zt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Gt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Xt(o,!0),o}function wi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _i(t,e,n){de(e);try{const r=t.viewQuery;null!==r&&Ji(1,r,n);const i=t.template;null!==i&&Ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bi(t,e),t.staticViewQueries&&Ji(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)$i(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ve()}}function Oi(t,e,n,r){const i=e[2];if(256==(256&i))return;de(e);const o=ee();try{Bt(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ii(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ee(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ie(e,n,0,null),Se(e,0)}if(function(t){for(let e=jr(t);null!==e;e=Nr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&zt(r,1),n[2]|=1024}}}(e),function(t){for(let e=jr(t);null!==e;e=Nr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Ht(n)&&Oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&bi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ee(e,n)}else{const n=t.contentHooks;null!==n&&Ie(e,n,1),Se(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)we(~r);else{const i=r,o=n[++t],s=n[++t];ae(o,i),s(2,e[i])}}}finally{we(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ji(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ee(e,n)}else{const n=t.viewHooks;null!==n&&Ie(e,n,2),Se(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,zt(e[3],-1))}finally{ve()}}function Ei(t,e,n,r){const i=e[10],o=!ee(),s=Ut(e);try{o&&!s&&i.begin&&i.begin(),s&&_i(t,e,r),Oi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ii(t,e,n,r,i){const o=me();try{we(-1),2&r&&e.length>ht&&li(t,e,ht,ee()),n(r,i)}finally{we(o)}}function Si(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ci(t,e,n){$t()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||He(n,e),Ir(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&Ui(e,n,r);const u=Ze(e,t,a,n);Ir(u,e),null!==s&&Hi(0,a-i,u,r,0,s),o&&(Ft(n.index,e)[8]=u)}}(t,e,n,Vt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Gt.lFrame.currentDirectiveIndex;try{we(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ue(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ri(r,i)}}finally{we(-1),ue(s)}}(t,e,n))}function Ti(t,e,n=Vt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ai(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ai(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ui);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ji(t,e,n,r){const i=Zi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&to(t).push(r,i.length-1))}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ki(t,e,n,r,i,o,s,a){const u=Vt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(no(t,n,c,r,i),yt(e)&&function(t,e){const n=Ft(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,kt(o)?o.setProperty(u,r,i):ke(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Di(t,e,n,r){let i=!1;if($t()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];oi(n,s.selectors,!1)&&(i||(i=[]),Ge(He(n,e),t,s.type),vt(s)?(Vi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Fi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=wi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=De(n.mergedAttrs,c.hostAttrs),Mi(t,n,e,u,c),Li(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ti(e)?null:qi(n,i);o.push(c),s=Ni(n,u,s),a=Ni(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=De(n.mergedAttrs,n.attrs),i}function Pi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ri(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Vi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Li(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Mi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=mt(i.type)),s=new Ae(o,vt(i),null);t.blueprint[r]=s,n[r]=s,Pi(t,e,0,r,wi(t,n,i.hostVars,ui),i)}function Ui(t,e,n){const r=Vt(e,t),i=xi(n),o=t[10],s=Wi(t,vi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Hi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function qi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function zi(t,e){const n=Ft(e,t);if(Ht(n)){const t=n[1];80&n[2]?Oi(t,n,t.template,n[8]):n[5]>0&&Gi(n)}}function Gi(t){for(let n=jr(t);null!==n;n=Nr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Oi(t,e,t.template,e[8])}else e[5]>0&&Gi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ft(e[n],t);Ht(r)&&r[5]>0&&Gi(r)}}function $i(t,e){const n=Ft(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),_i(r,n,n[8])}function Wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Yi(t){for(;t;){t[2]|=64;const e=Ar(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Qi(t,e,n){const r=e[10];r.begin&&r.begin();try{Oi(t,e,t.template,n)}catch(i){throw eo(e,i),i}finally{r.end&&r.end()}}function Ki(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];Ei(i,r,i.template,n)}}(t[8])}function Ji(t,e,n){le(0),e(t,n)}const Xi=(()=>Promise.resolve(null))();function Zi(t){return t[7]||(t[7]=[])}function to(t){return t.cleanup||(t.cleanup=[])}function eo(t,e){const n=t[9],r=n?n.get(Er,null):null;r&&r.handleError(e)}function no(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ro(t,e,n){const r=Rt(e,t);!function(t,e,n){kt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function io(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=v(i,t):2==o&&(r=v(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const oo=new cn("INJECTOR",-1);class so{get(t,e=In){if(e===In){const e=new Error(`NullInjectorError: No provider for ${b(t)}!`);throw e.name="NullInjectorError",e}return e}}const ao=new cn("Set Injector scope."),uo={},co={},lo=[];let ho=void 0;function fo(){return void 0===ho&&(ho=new so),ho}function po(t,e=null,n=null,r){return new go(t,n,e||fo(),r)}class go{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&dn(e,n=>this.processProvider(n,t,e)),dn([t],t=>this.processInjectorType(t,[],i)),this.records.set(oo,vo(void 0,this));const o=this.records.get(ao);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:b(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=In,n=k.Default){this.assertNotDestroyed();const r=jn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof cn)&&S(t);e=n&&this.injectableDefInScope(n)?vo(yo(t),uo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?fo():this.parent).get(t,e=n&k.Optional&&e===In?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(b(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Cn]&&i.unshift(e[Cn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=b(e);if(Array.isArray(e))i=e.map(b).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):b(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{jn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(b(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{dn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];dn(r,t=>this.processProvider(t,n,r||lo))}}this.injectorDefTypes.add(o),this.records.set(o,vo(r.factory,uo));const a=r.providers;if(null!=a&&!s){const e=t;dn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=wo(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return mo(t)?vo(void 0,t.useValue):vo(bo(t),uo)}(t);if(wo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=vo(void 0,uo,!0),e.factory=()=>Dn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===uo&&(e.value=co,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function yo(t){const e=S(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof cn)throw new Error(`Token ${b(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${b(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function bo(t,e,n){let r=void 0;if(wo(t)){const e=_(t);return mt(e)||yo(e)}if(mo(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>kn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||yo(e);r=()=>new e(...Dn(t.deps))}var i;return r}function vo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mo(t){return null!==t&&"object"==typeof t&&Tn in t}function wo(t){return"function"==typeof t}const _o=function(t,e,n){return function(t,e=null,n=null,r){const i=po(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Oo=(()=>{class t{static create(t,e){return Array.isArray(t)?_o(t,e,""):_o(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=In,t.NULL=new so,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>kn(oo)}),t.__NG_ELEMENT_ID__=-1,t})();function Eo(t,e){Oe(Mt(t)[1],Kt())}function Io(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=So(t.inputs),e.declaredInputs=So(t.declaredInputs),e.outputs=So(t.outputs);const n=i.hostBindings;n&&xo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Co(t,o),s&&To(t,s),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Io&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=De(i.hostAttrs,n=De(n,i.hostAttrs))}}(r)}function So(t){return t===z?{}:t===G?[]:t}function Co(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function To(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function xo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ao=null;function jo(){if(!Ao){const t=B.Symbol;if(t&&t.iterator)Ao=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ao=n)}}}return Ao}class No{constructor(t){this.wrapped=t}static wrap(t){return new No(t)}static unwrap(t){return No.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof No}}function ko(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&jo()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Po(t,e,n){return t[e]=n}function Ro(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Vo(t,e,n,r){const i=Wt();return Ro(i,oe(),e)&&(Yt(),function(t,e,n,r,i,o){const s=Vt(t,e);!function(t,e,n,r,i,o,s){if(null==o)kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?_t(o):s(o,r||"",i);kt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(_e(),i,t,e,n,r)),Vo}function Lo(t,e,n,r,i,o,s,a){const u=Wt(),c=Yt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=mi(e,t,4,s||null,qt(c,a));Di(e,n,l,qt(c,u)),Oe(e,l);const h=l.tViews=Ai(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Xt(h,!1);const f=u[11].createComment("");Br(c,u,f,h),Ir(f,u),Wi(u,u[l]=Bi(f,u,f,h)),bt(h)&&Ci(c,u,h),null!=s&&Ti(u,h,a)}function Fo(t,e=k.Default){const n=Wt();return null===n?kn(t,e):Ye(Kt(),n,_(t),e)}function Mo(t,e,n){const r=Wt();return Ro(r,oe(),e)&&ki(Yt(),_e(),r,t,e,r[11],n,!1),Mo}function Uo(t,e,n,r,i){const o=i?"class":"style";no(t,n,e.inputs[o],o,r)}function Ho(t,e,n,r){const i=Wt(),o=Yt(),s=ht+t,a=i[11],u=i[s]=Pr(a,e,Gt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=mi(e,t,2,i,qt(a,o));return Di(e,n,u,qt(a,s)),null!==u.attrs&&io(u,u.attrs,!1),null!==u.mergedAttrs&&io(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Xt(c,!0);const l=c.mergedAttrs;null!==l&&je(a,u,l);const h=c.classes;null!==h&&Kr(a,u,h);const f=c.styles;null!==f&&Qr(a,u,f),64!=(64&c.flags)&&Br(o,i,u,c),0===Gt.lFrame.elementDepthCount&&Ir(u,i),Gt.lFrame.elementDepthCount++,bt(c)&&(Ci(o,i,c),Si(o,c,i)),null!==r&&Ti(i,c)}function qo(){let t=Kt();Zt()?te():(t=t.parent,Xt(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=Yt();n.firstCreatePass&&(Oe(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Uo(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Uo(n,e,Wt(),e.stylesWithoutHost,!1)}function Bo(t,e,n,r){Ho(t,e,n,r),qo()}function zo(t,e,n){const r=Wt(),i=Yt(),o=t+ht,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=qt(o,r),a=mi(e,t,8,"ng-container",s);return null!==s&&io(a,s,!0),Di(e,n,a,qt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Xt(s,!0);const a=r[o]=r[11].createComment("");Br(i,r,a,s),Ir(a,r),bt(s)&&(Ci(i,r,s),Si(i,s,r)),null!=n&&Ti(r,s)}function Go(){let t=Kt();const e=Yt();Zt()?te():(t=t.parent,Xt(t,!1)),e.firstCreatePass&&(Oe(e,t),gt(t)&&e.queries.elementEnd(t))}function $o(){return Wt()}function Wo(t){return!!t&&"function"==typeof t.then}function Yo(t){return!!t&&"function"==typeof t.subscribe}function Qo(t,e,n=!1,r){const i=Wt(),o=Yt(),s=Kt();return function(t,e,n,r,i,o,s=!1,a){const u=bt(r),c=t.firstCreatePass&&to(t),l=Zi(e);let h=!0;if(3&r.type){const f=Vt(r,e),d=a?a(f):z,p=d.target||f,g=l.length,y=a?t=>a(Pt(t[r.index])).target:r.index;if(kt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Jo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,g,g+1)}}else o=Jo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,g,s)}else o=Jo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Qo}function Ko(t,e,n){try{return!1!==e(n)}catch(r){return eo(t,r),!1}}function Jo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Ft(t.index,e):e;0==(32&e[2])&&Yi(s);let a=Ko(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Ko(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Xo(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}const Zo=[];function ts(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?fi(o):pi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];es(t[a],e)&&(u=!0,t[a+1]=r?yi(n):di(n)),a=r?fi(n):pi(n)}u&&(t[n+1]=r?di(o):yi(o))}function es(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&vn(t,e)>=0}const ns={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rs(t){return t.substring(ns.key,ns.keyEnd)}function is(t,e){const n=ns.textEnd;return n===e?-1:(e=ns.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ns.key=e,n),os(t,e,n))}function os(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ss(t,e){return function(t,e,n,r){const i=Wt(),o=Yt(),s=se(2);o.firstUpdatePass&&ls(o,t,s,true),e!==ui&&Ro(i,s,e)&&ds(o,o.data[me()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=b(Hn(t))),t}(e),true,s)}(t,e),ss}function as(t){!function(t,e,n,r){const i=Yt(),o=se(2);i.firstUpdatePass&&ls(i,null,o,r);const s=Wt();if(n!==ui&&Ro(s,o,n)){const a=i.data[me()];if(ys(a,r)&&!cs(i,o)){let t=a.classesWithoutHost;null!==t&&(n=v(t,n||"")),Uo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===ui&&(i=Zo);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,s!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&ds(t,e,n,r,d,p,true,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Zo;const r=[],i=Hn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(yn,us,t,!0)}function us(t,e){for(let n=function(t){return function(t){ns.key=0,ns.keyEnd=0,ns.value=0,ns.valueEnd=0,ns.textEnd=t.length}(t),is(t,os(t,0,ns.textEnd))}(e);n>=0;n=is(e,n))yn(t,rs(e),!0)}function cs(t,e){return e>=t.expandoStartIndex}function ls(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[me()],s=cs(t,n);ys(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=fs(n=hs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=hs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==pi(r))return t[fi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=hs(null,t,e,n[1],r),n=fs(n,e.attrs,r),function(t,e,n,r){t[fi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=fs(r,t[o].hostAttrs,n);return fs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=fi(s),u=pi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||vn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=fi(t[a+1]);t[r+1]=hi(e,a),0!==e&&(t[e+1]=gi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=hi(a,0),0!==a&&(t[a+1]=gi(t[a+1],r)),a=r;else t[r+1]=hi(u,0),0===a?a=r:t[u+1]=gi(t[u+1],r),u=r;l&&(t[r+1]=di(t[r+1])),ts(t,c,r,!0),ts(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&vn(o,e)>=0&&(n[r+1]=yi(n[r+1]))}(e,c,t,r,o),s=hi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function hs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=fs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function fs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yn(t,s,!!n||e[++o]))}return void 0===t?null:t}function ds(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];gs(1==(1&c)?ps(u,e,n,i,pi(c),s):void 0)||(gs(o)||2==(2&c)&&(o=ps(u,null,n,i,a,s)),function(t,e,n,r,i){const o=kt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Tr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Tr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Rt(me(),n),i,o))}function ps(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ui&&(l=c?Zo:void 0);let h=c?bn(l,r):u===r?l:void 0;if(o&&!gs(h)&&(h=bn(e,r)),gs(h)&&(a=h,s))return a;const f=t[i+1];i=s?fi(f):pi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=bn(t,r))}return a}function gs(t){return void 0!==t}function ys(t,e){return 0!=(t.flags&(e?16:32))}function bs(t,e=""){const n=Wt(),r=Yt(),i=t+ht,o=r.firstCreatePass?mi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Br(r,n,s,o),Xt(o,!1)}function vs(t){return ms("",t,""),vs}function ms(t,e,n){const r=Wt(),i=function(t,e,n,r){return Ro(t,oe(),n)?e+_t(n)+r:ui}(r,t,e,n);return i!==ui&&ro(r,me(),i),ms}function ws(t,e,n,r,i){const o=Wt(),s=function(t,e,n,r,i,o){const s=function(t,e,n,r){const i=Ro(t,e,n);return Ro(t,e+1,r)||i}(t,ie(),n,i);return se(2),s?e+_t(n)+r+_t(i)+o:ui}(o,t,e,n,r,i);return s!==ui&&ro(o,me(),s),ws}function _s(t,e,n){const r=Wt();return Ro(r,oe(),e)&&ki(Yt(),_e(),r,t,e,r[11],n,!0),_s}const Os=void 0;var Es=["en",[["a","p"],["AM","PM"],Os],[["AM","PM"],Os,Os],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Os,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Os,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Os,"{1} 'at' {0}",Os],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Is={};function Ss(t,e,n){"string"!=typeof e&&(n=e,e=t[js.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Is[e]=t,n&&(Is[e][js.ExtraData]=n)}function Cs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=As(e);if(n)return n;const r=e.split("-")[0];if(n=As(r),n)return n;if("en"===r)return Es;throw new Error(`Missing locale data for the locale "${t}".`)}function Ts(t){return Cs(t)[js.CurrencyCode]||null}function xs(t){return Cs(t)[js.PluralCase]}function As(t){return t in Is||(Is[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Is[t]}var js=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ns="en-US";let ks=Ns;function Ds(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ks=t.toLowerCase().replace(/_/g,"-"))}function Ps(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ps(t[o],e,n,r,i);else{const o=Yt(),s=Wt();let a=wo(t)?t:_(t.provide),u=bo(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(wo(t)||!t.multi){const r=new Ae(u,i,Fo),d=Ls(a,e,i?l:l+f,h);-1===d?(Ge(He(c,s),o,a),Rs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ls(a,e,l+f,h),p=Ls(a,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){Ge(He(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ae(t,n,Fo);return o.multi=[],o.index=e,o.componentProviders=0,Vs(o,i,r&&!n),o}(i?Ms:Fs,n.length,i,r,u);!i&&y&&(n[p].providerFactory=l),Rs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Rs(o,t,d>-1?d:p,Vs(n[i?p:d],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Rs(t,e,n,r){const i=wo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ls(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Fs(t,e,n,r){return Us(this.multi,[])}function Ms(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ze(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Us(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Us(i,o);return o}function Us(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Hs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Yt();if(r.firstCreatePass){const i=vt(t);Ps(n,r.data,r.blueprint,i,!0),Ps(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class qs{}class Bs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${b(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let zs=(()=>{class t{}return t.NULL=new Bs,t})();function Gs(...t){}function $s(t,e){return new Ys(Vt(t,e))}const Ws=function(){return $s(Kt(),Wt())};let Ys=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ws,t})();class Qs{}let Ks=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Js(),t})();const Js=function(){const t=Wt(),e=Ft(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Xs=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Zs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ta=new Zs("11.0.9");class ea{constructor(){}supports(t){return ko(t)}create(t){return new ra(t)}}const na=(t,e)=>e;class ra{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||na}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<aa(n,r,i)?e:n,s=aa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ko(t))throw new Error(`Error trying to diff '${b(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[jo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ia(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new sa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ia{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class sa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new oa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ua{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new ca}}class ca{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${b(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new la(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class la{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ha=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new On,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new ea])}),t})(),fa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new On,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new ua])}),t})();function da(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Pt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&da(e[1],e,n,r)}const s=n.type;if(8&s)da(t,e,n.child,r);else if(32&s){const t=xr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Ar(t);da(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class pa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return da(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Vr(t,n),gn(e,n))}this._attachedToViewContainer=!1}Lr(this._lView[1],this._lView)}onDestroy(t){ji(this._lView[1],this._lView,null,t)}markForCheck(){Yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Qi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ne(!0);try{Qi(t,e,n)}finally{ne(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Wr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ga extends pa{constructor(t){super(t),this._view=t}detectChanges(){Ki(this._view)}checkNoChanges(){!function(t){ne(!0);try{Ki(t)}finally{ne(!1)}}(this._view)}get context(){return null}}const ya=va;let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=ya,t.__ChangeDetectorRef__=!0,t})();function va(t=!1){return function(t,e,n){if(!n&&yt(t)){const n=Ft(t.index,e);return new pa(n,n)}return 47&t.type?new pa(e[16],e):null}(Kt(),Wt(),t)}const ma=[new ua],wa=new ha([new ea]),_a=new fa(ma),Oa=function(){return Ca(Kt(),Wt())};let Ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oa,t})();const Ia=Ea,Sa=class extends Ia{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=vi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),_i(e,n,t),new pa(n)}};function Ca(t,e){return 4&t.type?new Sa(e,t,$s(t,e)):null}class Ta{}class xa{}const Aa=function(){return Ra(Kt(),Wt())};let ja=(()=>{class t{}return t.__NG_ELEMENT_ID__=Aa,t})();const Na=ja,ka=class extends Na{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return $s(this._hostTNode,this._hostLView)}get injector(){return new nn(this._hostTNode,this._hostLView)}get parentInjector(){const t=ze(this._hostTNode,this._hostLView);if(Re(t)){const e=Le(t,this._hostLView),n=Ve(t);return new nn(e[1].data[n+8],e)}return new nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Da(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ta,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ka(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],pn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Gr(i,o),a=n[11],u=qr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Wr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),pn(Pa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Da(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);n&&(gn(Pa(this._lContainer),e),Lr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);return n&&null!=gn(Pa(this._lContainer),e)?new pa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Da(t){return t[8]}function Pa(t){return t[8]||(t[8]=[])}function Ra(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Pt(r);else{const n=e[11];i=n.createComment("");const r=Vt(t,e);Mr(n,qr(n,r),i,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Bi(r,e,i,t),Wi(e,n)}return new ka(n,t,e)}const Va={};class La extends zs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ua(e,this.ngModule)}}function Fa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ma=new cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sr});class Ua extends qs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ai).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Fa(this.componentDef.inputs)}get outputs(){return Fa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Va,i);return o!==Va||r===Va?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Qs,Dt),s=i.get(Xs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Pr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Sr,clean:Xi,playerHandler:null,flags:0},f=Ai(0,null,null,1,0,null,null,null,null,null),d=vi(null,f,h,l,null,null,o,a,s,i);let p,g;de(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=mi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(io(a,u,!0),null!==t&&(je(i,t,u),null!==a.classes&&Kr(i,t,a.classes),null!==a.styles&&Qr(i,t,a.styles)));const c=r.createRenderer(t,e),l=vi(n,xi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Ge(He(a,n),s,e.type),Vi(s,a),Fi(a,n.length,1)),Wi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)je(a,c,["ng-version",ta.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ri(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&je(a,c,t),e&&e.length>0&&Kr(a,c,e.join(" "))}if(g=Lt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Mi(t,r,e,wi(t,e,1,null),n));const i=Ze(e,t,r.directiveStart,r);Ir(i,e);const o=Vt(r,e);return o&&Ir(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Kt();e.contentQueries(1,s,t.directiveStart)}const a=Kt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(we(a.index),Pi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ri(e,s)),s}(t,this.componentDef,d,h,[Eo]),_i(f,d,null)}finally{ve()}return new Ha(this.componentType,p,$s(g,d),d,g)}}class Ha extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ga(r),this.componentType=t}get injector(){return new nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const qa=new Map;class Ba extends Ta{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new La(this);const n=lt(t),r=t[K]||null;r&&Ds(r),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=po(t,e,[{provide:Ta,useValue:this},{provide:zs,useValue:this.componentFactoryResolver}],b(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Oo.THROW_IF_NOT_FOUND,n=k.Default){return t===Oo||t===Ta||t===oo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class za extends xa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${b(e)} vs ${b(e.name)}`)}(i,qa.get(i),n),qa.set(i,n));const o=Cr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ba(this.moduleType,t)}}function Ga(t,e,n){const r=re()+t,i=Wt();return i[r]===ui?Po(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function $a(t,e){const n=Yt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new wt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=mt(r.type)),s=P(Fo);try{const t=Me(!1),e=o();return Me(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{P(s)}}function Wa(t,e,n){const r=t+ht,i=Wt(),o=function(t,e){return t[e]}(i,r);return function(t,e){return No.isWrapped(e)&&(e=No.unwrap(e),t[ie()]=ui),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,o){const s=e+n;return Ro(t,s,i)?Po(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===ui?void 0:n}(t,s+1)}(i,re(),e,o.transform,n,o):o.transform(n))}const Ya=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Qa(){return this._results[jo()]()}class Ka{constructor(){this.dirty=!0,this._results=[],this.changes=new Ya,this.length=0;const t=jo(),e=Ka.prototype;e[t]||(e[t]=Qa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=fn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ja{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ja(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Xa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==cu(t,e).matches&&this.queries[e].setDirty()}}class Za{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class tu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new tu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class eu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new eu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,nu(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===Ea?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ys||r===ja||r===Ea&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function nu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ru(t,e,n,r){return-1===n?function(t,e){return 11&t.type?$s(t,e):4&t.type?Ca(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ys?$s(e,t):n===Ea?Ca(e,t):n===ja?Ra(e,t):void 0}(t,e,r):Ze(t,t[1],n,e)}function iu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:ru(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function ou(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=iu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&ou(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];ou(n[1],n,i,r)}}}}}return r}function su(t){const e=Wt(),n=Yt(),r=ce();le(r+1);const i=cu(n,r);if(t.dirty&&Ut(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?ou(n,e,r,[]):iu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function au(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new tu),t.queries.track(new eu(e,n))}(t,new Za(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Ka;ji(t,e,n,n.destroy),null===e[19]&&(e[19]=new Xa),e[19].queries.push(new Ja(n))}(t,e)}(Yt(),Wt(),e,n,r,0,Kt(),t)}function uu(){return t=Wt(),e=ce(),t[19].queries[e].queryList;var t,e}function cu(t,e){return t.queries.getByIndex(e)}function lu(t=k.Default){const e=va(!0);if(null!=e||t&k.Optional)return e;Et("ChangeDetectorRef")}const hu=new cn("Application Initializer");let fu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Gs,this.reject=Gs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Wo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(kn(hu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const du=new cn("AppId"),pu={provide:du,useFactory:function(){return`${gu()}${gu()}${gu()}`},deps:[]};function gu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yu=new cn("Platform Initializer"),bu=new cn("Platform ID"),vu=new cn("appBootstrapListener");let mu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const wu=new cn("LocaleId"),_u=new cn("DefaultCurrencyCode");class Ou{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Eu=function(t){return new za(t)},Iu=Eu,Su=function(t){return Promise.resolve(Eu(t))},Cu=function(t){const e=Eu(t),n=Cr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ua(n)),t},[]);return new Ou(e,n)},Tu=Cu,xu=function(t){return Promise.resolve(Cu(t))};let Au=(()=>{class t{constructor(){this.compileModuleSync=Iu,this.compileModuleAsync=Su,this.compileModuleAndAllComponentsSync=Tu,this.compileModuleAndAllComponentsAsync=xu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const ju=(()=>Promise.resolve(0))();function Nu(t){"undefined"==typeof Zone?ju.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ku{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ru(t),Pu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ru(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Vu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Lu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Vu(t),e.invoke(r,i,o,s,a)}finally{Lu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ru(t),Pu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ku.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ku.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Du,Gs,Gs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Du={};function Pu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ru(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Vu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Lu(t){t._nesting--,Pu(t)}class Fu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Mu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ku.assertNotInAngularZone(),Nu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(kn(ku))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Uu=(()=>{class t{constructor(){this._applications=new Map,zu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return zu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Hu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function qu(t){zu=t}let Bu,zu=new Hu,Gu=!0,$u=!1;function Wu(){return $u=!0,Gu}function Yu(){if($u)throw new Error("Cannot enable prod mode after platform setup.");Gu=!1}const Qu=new cn("AllowMultipleToken");class Ku{constructor(t,e){this.name=t,this.token=e}}function Ju(t,e,n=[]){const r="Platform: "+e,i=new cn(r);return(e=[])=>{let o=Xu();if(!o||o.injector.get(Qu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ao,useValue:"platform"});!function(t){if(Bu&&!Bu.destroyed&&!Bu.injector.get(Qu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bu=t.get(Zu);const e=t.get(yu,null);e&&e.forEach(t=>t())}(Oo.create({providers:t,name:r}))}return function(t){const e=Xu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Xu(){return Bu&&!Bu.destroyed?Bu:null}let Zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Fu:("zone.js"===t?void 0:t)||new ku({enableLongStackTrace:Wu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:ku,useValue:n}];return n.run(()=>{const e=Oo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Er,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{nc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Wo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(fu);return t.runInitializers(),t.donePromise.then(()=>(Ds(i.injector.get(wu,Ns)||Ns),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=tc({},e);return function(t,e,n){const r=new za(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ec);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${b(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(kn(Oo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function tc(t,e){return Array.isArray(e)?e.reduce(tc,t):Object.assign(Object.assign({},t),e)}let ec=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ku.assertNotInAngularZone(),Nu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof qs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ta),i=n.create(Oo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Mu,null),a=s&&i.injector.get(Uu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),nc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Wu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;nc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(kn(ku),kn(mu),kn(Oo),kn(Er),kn(zs),kn(fu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function nc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rc{}class ic{}const oc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||oc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ac(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ac(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(kn(Au),kn(ic,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function ac(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const uc=function(t){return null},cc=Ju(null,"core",[{provide:bu,useValue:"unknown"},{provide:Zu,deps:[Oo]},{provide:Uu,deps:[]},{provide:mu,deps:[]}]),lc=[{provide:ec,useClass:ec,deps:[ku,mu,Oo,Er,zs,fu]},{provide:Ma,deps:[ku],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:fu,useClass:fu,deps:[[new wn,hu]]},{provide:Au,useClass:Au,deps:[]},pu,{provide:ha,useFactory:function(){return wa},deps:[]},{provide:fa,useFactory:function(){return _a},deps:[]},{provide:wu,useFactory:function(t){return Ds(t=t||"undefined"!=typeof $localize&&$localize.locale||Ns),t},deps:[[new mn(wu),new wn,new On]]},{provide:_u,useValue:"USD"}];let hc=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(kn(ec))},providers:lc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new y(i,a,r);return u},t}();function v(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var m=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return y}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),m=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,m]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:m,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function y(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBWgKOKv3hHf5VbkYNzf7VSJkApjOpsw2A",authDomain:"udemy-angular-665a2.firebaseapp.com",databaseURL:"https://udemy-angular-665a2.firebaseio.com",projectId:"udemy-angular-665a2",storageBucket:"udemy-angular-665a2.appspot.com",messagingSenderId:"578777764146",appId:"1:578777764146:web:9bfdb16356e7edf256072b",measurementId:"G-23X4BHRCPZ"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Sb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Sb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Sb)(a).location;return new w(Object(r.Sb)(u),e&&e.origin||"")}const m=new r.q("appBaseHref");let w=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(m,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(m,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(b),r.Sb(u))},t.normalizeQueryParams=y,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Fb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Sb)(b),Object(r.Sb)(u))}function I(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.lb;class T{}let x=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new N(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let k=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function P(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}class R{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class V{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const L=new V,F=new R;let M=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return L;if(Object(r.pb)(e))return F;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub())},t.\u0275pipe=r.Ib({name:"async",type:t,pure:!1}),t})(),U=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"json",type:t,pure:!1}),t})(),H=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:x}]}),t})();function q(t){return"server"===t}let B=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new z(Object(r.Sb)(a),window)}),t})();class z{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=G(this.window.history)||G(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function G(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class $ extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new $,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Y||(Y=document.querySelector("base"),Y)?Y.getAttribute("href"):null;return null==e?null:(n=e,W||(W=document.createElement("a")),W.setAttribute("href",n),"/"===W.pathname.charAt(0)?W.pathname:"/"+W.pathname);var n}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let W,Y=null;const Q=new r.q("TRANSITION_ID"),K=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Q,a,r.r],multi:!0}];class J{static init(){Object(r.W)(new J)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const X=new r.q("EventManagerPlugins");let Z=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(X),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class tt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let et=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),nt=(()=>{class t extends et{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},it=/%COMP%/g;function ot(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ot(t,i,n):(i=i.replace(it,t),n.push(i))}return n}function st(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let at=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ut(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ct(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new lt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ot(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Z),r.Sb(nt),r.Sb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(rt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=rt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=rt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,st(n)):this.eventManager.addEventListener(t,e,st(n))}}class ct extends ut{constructor(t,e,n,r){super(t),this.component=n;const i=ot(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(it,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(it,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class lt extends ut{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ot(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ht=(()=>{class t extends tt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const ft=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yt=(()=>{class t extends tt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ft.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&pt.hasOwnProperty(e)&&(e=pt[e]))}return dt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ft.forEach(r=>{r!=n&&(0,gt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const bt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){$.makeCurrent(),J.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],vt=Object(r.R)(r.V,"browser",bt),mt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:X,useClass:ht,multi:!0,deps:[a,r.z,r.B]},{provide:X,useClass:yt,multi:!0,deps:[a]},[],{provide:at,useClass:at,deps:[Z,nt,r.c]},{provide:r.E,useExisting:at},{provide:et,useExisting:nt},{provide:nt,useClass:nt,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Z,useClass:Z,deps:[X,r.z]},[]];let wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Q,useExisting:r.c},K]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(t,12))},providers:mt,imports:[H,r.f]}),t})();"undefined"!=typeof window&&window;var _t=n("Cfvw"),Ot=n("LRne"),Et=n("XNiG"),It=n("9ppp");class St extends Et.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new It.a;return this._value}next(t){super.next(this._value=t)}}var Ct=n("z+Ro"),Tt=n("DH7j"),xt=n("7o/Q");class At extends xt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class jt extends xt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Nt=n("SeVD"),kt=n("HDdC");function Dt(t,e,n,r,i=new jt(t,n,r)){if(!i.closed)return e instanceof kt.a?e.subscribe(i):Object(Nt.a)(e)(i)}var Pt=n("yCtX");const Rt={};class Vt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Lt(t,this.resultSelector))}}class Lt extends At{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Rt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Dt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Rt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ft=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Mt=n("bHdf");function Ut(...t){return Object(Mt.a)(1)(Object(Ot.a)(...t))}var Ht=n("EY2u");function qt(t){return new kt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(_t.a)(n):Object(Ht.b)()).subscribe(e)})}var Bt=n("lJxs"),zt=n("zx2A");function Gt(t,e){return"function"==typeof e?n=>n.pipe(Gt((n,r)=>Object(_t.a)(t(n,r)).pipe(Object(Bt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new $t(t))}class $t{constructor(t){this.project=t}call(t,e){return e.subscribe(new Wt(t,this.project))}}class Wt extends zt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new zt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(zt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Yt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Qt(t){return e=>0===t?Object(Ht.b)():e.lift(new Kt(t))}class Kt{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new Jt(t,this.total))}}class Jt extends xt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Xt(...t){const e=t[t.length-1];return Object(Ct.a)(e)?(t.pop(),n=>Ut(t,n,e)):e=>Ut(t,e)}function Zt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new te(t,e,n))}}class te{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ee(t,this.accumulator,this.seed,this.hasSeed))}}class ee extends xt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ne(t,e){return function(n){return n.lift(new re(t,e))}}class re{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ie(t,this.predicate,this.thisArg))}}class ie extends xt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function oe(t){return function(e){const n=new se(t),r=e.lift(n);return n.caught=r}}class se{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ae(t,this.selector,this.caught))}}class ae extends zt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new zt.a(this);this.add(r);const i=Object(zt.c)(n,r);i!==r&&this.add(i)}}}var ue=n("5+tZ");function ce(t,e){return Object(ue.a)(t,e,1)}function le(t){return function(e){return 0===t?Object(Ht.b)():e.lift(new he(t))}}class he{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new fe(t,this.total))}}class fe extends xt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function de(t=ye){return e=>e.lift(new pe(t))}class pe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ge(t,this.errorFactory))}}class ge extends xt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Nw){t=Nw}this.destination.error(t)}}}function ye(){return new Ft}function be(t=null){return e=>e.lift(new ve(t))}class ve{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new me(t,this.defaultValue))}}class me extends xt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var we=n("SpAZ");function _e(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):we.a,Qt(1),n?be(e):de(()=>new Ft))}var Oe=n("vkgz"),Ee=n("quSY");class Ie{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Se(t,this.callback))}}class Se extends xt.a{constructor(t,e){super(t),this.add(new Ee.a(e))}}class Ce{constructor(t,e){this.id=t,this.url=e}}class Te extends Ce{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xe extends Ce{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ae extends Ce{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class je extends Ce{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ne extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends Ce{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pe extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Le{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Be="primary";class ze{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ge(t){return new ze(t)}function $e(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function We(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ye(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Qe(t[i],e[i]))return!1;return!0}function Qe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ke(t){return Array.prototype.concat.apply([],t)}function Je(t){return t.length>0?t[t.length-1]:null}function Xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ze(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(_t.a)(Promise.resolve(t)):Object(Ot.a)(t)}function tn(t,e,n){return n?function(t,e){return Ye(t,e)}(t.queryParams,e.queryParams)&&en(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qe(t[n],e[n]))}(t.queryParams,e.queryParams)&&nn(t.root,e.root)}function en(t,e){if(!un(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!en(t.children[n],e.children[n]))return!1}return!0}function nn(t,e){return rn(t,e,e.segments)}function rn(t,e,n){if(t.segments.length>n.length)return!!un(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!un(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!nn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!un(t.segments,r)&&!!t.children.primary&&rn(t.children.primary,e,i)}}class on{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return hn.serialize(this)}}class sn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Xe(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fn(this)}}class an{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return mn(this)}}function un(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class cn{}class ln{parse(t){const e=new In(t);return new on(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+dn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${gn(e)}=${gn(t)}`).join("&"):`${gn(e)}=${gn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const hn=new ln;function fn(t){return t.segments.map(t=>mn(t)).join("/")}function dn(t,e){if(!t.hasChildren())return fn(t);if(e){const e=t.children.primary?dn(t.children.primary,!1):"",n=[];return Xe(t.children,(t,e)=>{e!==Be&&n.push(`${e}:${dn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Xe(t.children,(t,r)=>{r===Be&&(n=n.concat(e(t,r)))}),Xe(t.children,(t,r)=>{r!==Be&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Be?[dn(t.children.primary,!1)]:[`${n}:${dn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${fn(t)}/${e[0]}`:`${fn(t)}/(${e.join("//")})`}}function pn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gn(t){return pn(t).replace(/%3B/gi,";")}function yn(t){return pn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bn(t){return decodeURIComponent(t)}function vn(t){return bn(t.replace(/\+/g,"%20"))}function mn(t){return`${yn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${yn(t)}=${yn(e[t])}`).join("")}`;var e}const wn=/^[^\/()?;=#]+/;function _n(t){const e=t.match(wn);return e?e[0]:""}const On=/^[^=?&#]+/,En=/^[^?&#]+/;class In{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new sn(t,e)),n}parseSegment(){const t=_n(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new an(bn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=_n(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=_n(this.remaining);t&&(n=t,this.capture(n))}t[bn(e)]=bn(n)}parseQueryParam(t){const e=function(t){const e=t.match(On);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(En);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=vn(e),i=vn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=_n(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Be);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new sn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Sn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Cn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Cn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Tn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Tn(t,this._root).map(t=>t.value)}}function Cn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Cn(t,n);if(e)return e}return null}function Tn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Tn(t,n);if(r.length)return r.unshift(e),r}return[]}class xn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function An(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class jn extends Sn{constructor(t,e){super(t),this.snapshot=e,Vn(this,t)}toString(){return this.snapshot.toString()}}function Nn(t,e){const n=function(t,e){const n=new Pn([],{},{},"",{},Be,e,null,t.root,-1,{});return new Rn("",new xn(n,[]))}(t,e),r=new St([new an("",{})]),i=new St({}),o=new St({}),s=new St({}),a=new St(""),u=new kn(r,i,s,a,o,Be,e,n.root);return u.snapshot=n.root,new jn(new xn(u,[]),n)}class kn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Bt.a)(t=>Ge(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Bt.a)(t=>Ge(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rn extends Sn{constructor(t,e){super(e),this.url=t,Vn(this,e)}toString(){return Ln(this._root)}}function Vn(t,e){e.value._routerState=t,e.children.forEach(e=>Vn(t,e))}function Ln(t){const e=t.children.length>0?` { ${t.children.map(Ln).join(", ")} } `:"";return`${t.value}${e}`}function Fn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ye(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ye(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ye(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ye(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Mn(t,e){return Ye(t.params,e.params)&&function(t,e){return un(t,e)&&t.every((t,n)=>Ye(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Mn(t.parent,e.parent))}function Un(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Un(t,e,r);return Un(t,e)})}(t,e,n);return new xn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Hn(e,t),t}{const n=new kn(new St((r=e.value).url),new St(r.params),new St(r.queryParams),new St(r.fragment),new St(r.data),r.outlet,r.component,r),i=e.children.map(e=>Un(t,e));return new xn(n,i)}}var r}function Hn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Hn(t.children[n],e.children[n])}function qn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Bn(t){return"object"==typeof t&&null!=t&&t.outlets}function zn(t,e,n,r,i){let o={};return r&&Xe(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new on(n.root===t?e:Gn(n.root,t,e),o,i)}function Gn(t,e,n){const r={};return Xe(t.children,(t,i)=>{r[i]=t===e?n:Gn(t,e,n)}),new sn(t.segments,r)}class $n{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&qn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Bn);if(r&&r!==Je(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Yn(t,e,n){if(t||(t=new sn([],{})),0===t.segments.length&&t.hasChildren())return Qn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Bn(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Zn(a,u,e))return o;r+=2}else{if(!Zn(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new sn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new sn(t.segments.slice(r.pathIndex),t.children),Qn(e,0,i)}return r.match&&0===i.length?new sn(t.segments,{}):r.match&&!t.hasChildren()?Kn(t,e,n):r.match?Qn(t,0,i):Kn(t,e,n)}function Qn(t,e,n){if(0===n.length)return new sn(t.segments,{});{const r=function(t){return Bn(t[0])?t[0].outlets:{[Be]:t}}(n),i={};return Xe(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Yn(t.children[r],e,n))}),Xe(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new sn(t.segments,i)}}function Kn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Bn(o)){const t=Jn(o.outlets);return new sn(r,t)}if(0===i&&qn(n[0])){r.push(new an(t.segments[e].path,n[0])),i++;continue}const s=Bn(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&qn(a)?(r.push(new an(s,Xn(a))),i+=2):(r.push(new an(s,{})),i++)}return new sn(r,{})}function Jn(t){const e={};return Xe(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Kn(new sn([],{}),0,t))}),e}function Xn(t){const e={};return Xe(t,(t,n)=>e[n]=""+t),e}function Zn(t,e,n){return t==n.path&&Ye(e,n.parameters)}class tr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Fn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=An(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Xe(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=An(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=An(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new He(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Me(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Fn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),er(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function er(t){Fn(t.value),t.children.forEach(er)}class nr{constructor(t,e){this.routes=t,this.module=e}}function rr(t){return"function"==typeof t}function ir(t){return t instanceof on}const or=Symbol("INITIAL_VALUE");function sr(){return Gt(t=>function(...t){let e=void 0,n=void 0;return Object(Ct.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Tt.a)(t[0])&&(t=t[0]),Object(Pt.a)(t,n).lift(new Vt(e))}(t.map(t=>t.pipe(Qt(1),Xt(or)))).pipe(Zt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==or)return t;if(r===or&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ir(r))return r}return t},t)},or),ne(t=>t!==or),Object(Bt.a)(t=>ir(t)?t:!0===t),Qt(1)))}let ar=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[ti]},encapsulation:2}),t})();function ur(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];cr(r,lr(e,r))}}function cr(t,e){t.children&&ur(t.children,e)}function lr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function hr(t){const e=t.children&&t.children.map(hr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=ar),n}function fr(t){return t.outlet||Be}function dr(t,e){const n=t.filter(t=>fr(t)===e);return n.push(...t.filter(t=>fr(t)!==e)),n}const pr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},pr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||We)(n,t,e);if(!i)return Object.assign({},pr);const o={};Xe(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function yr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>br(t,e,n)&&fr(n)!==Be)}(t,n,r)){const i=new sn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&fr(o)!==Be){const n=new sn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[fr(o)]=n}return i}(t,e,r,new sn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>br(t,e,n))}(t,n,r)){const o=new sn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(br(t,n,a)&&!i[fr(a)]){const n=new sn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[fr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new sn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function br(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function vr(t,e,n,r){return!!(fr(t)===r||r!==Be&&br(e,n,t))&&("**"===t.path||gr(e,t,n).matched)}function mr(t,e,n){return 0===e.length&&!t.children[n]}class wr{constructor(t){this.segmentGroup=t||null}}class _r{constructor(t){this.urlTree=t}}function Or(t){return new kt.a(e=>e.error(new wr(t)))}function Er(t){return new kt.a(e=>e.error(new _r(t)))}function Ir(t){return new kt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Sr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=yr(this.urlTree.root,[],[],this.config).segmentGroup,e=new sn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Be).pipe(Object(Bt.a)(t=>this.createUrlTree(Cr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oe(t=>{if(t instanceof _r)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof wr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Be).pipe(Object(Bt.a)(e=>this.createUrlTree(Cr(e),t.queryParams,t.fragment))).pipe(oe(t=>{if(t instanceof wr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new sn([],{[Be]:t}):t;return new on(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Bt.a)(t=>new sn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(_t.a)(r).pipe(ce(r=>{const i=n.children[r],o=dr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Bt.a)(t=>({segment:t,outlet:r})))}),Zt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):we.a,le(1),n?be(e):de(()=>new Ft))}())}expandSegment(t,e,n,r,i,o){return Object(_t.a)(n).pipe(ce(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(oe(t=>{if(t instanceof wr)return Object(Ot.a)(null);throw t}))),_e(t=>!!t),oe((t,n)=>{if(t instanceof Ft||"EmptyError"===t.name){if(mr(e,r,i))return Object(Ot.a)(new sn([],{}));throw new wr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return vr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Or(e):Or(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Er(i):this.lineralizeSegments(n,i).pipe(Object(ue.a)(n=>{const i=new sn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=gr(e,r,i);if(!s)return Or(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Er(l):this.lineralizeSegments(r,l).pipe(Object(ue.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Bt.a)(t=>(n._loadedConfig=t,new sn(r,{})))):Object(Ot.a)(new sn(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=gr(e,n,r);if(!o)return Or(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ue.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=yr(e,s,u,o),l=new sn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Bt.a)(t=>new sn(s,t)));if(0===o.length&&0===c.length)return Object(Ot.a)(new sn(s,{}));const h=fr(n)===i;return this.expandSegment(r,l,o,c,h?Be:i,!0).pipe(Object(Bt.a)(t=>new sn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ot.a)(new nr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ot.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ue.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Bt.a)(t=>(e._loadedConfig=t,t))):function(t){return new kt.a(e=>e.error($e(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ot.a)(new nr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ot.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&rr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!rr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ze(o)});return Object(Ot.a)(i).pipe(sr(),Object(Oe.a)(t=>{if(!ir(t))return;const e=$e(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Bt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ot.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ir(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new on(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Xe(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Xe(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new sn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Cr(t){const e={};for(const n of Object.keys(t.children)){const r=Cr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new sn(t.segments.concat(e.segments),e.children)}return t}(new sn(t.segments,e))}class Tr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xr{constructor(t,e){this.component=t,this.route=e}}function Ar(t,e,n){const r=t._root;return Nr(r,e?e._root:null,n,[r.value])}function jr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Nr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=An(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!un(t.url,e.url);case"pathParamsOrQueryParamsChange":return!un(t.url,e.url)||!Ye(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mn(t,e)||!Ye(t.queryParams,e.queryParams);case"paramsChange":default:return!Mn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Tr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Nr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xr(a.outlet.component,s))}else s&&kr(e,a,i),i.canActivateChecks.push(new Tr(r)),Nr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Xe(o,(t,e)=>kr(t,n.getContext(e),i)),i}function kr(t,e,n){const r=An(t),i=t.value;Xe(r,(t,r)=>{kr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new xr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Dr{}function Pr(t){return new kt.a(e=>e.error(t))}class Rr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=yr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Be);if(null===e)return null;const n=new Pn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xn(n,e),i=new Rn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Dn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=dr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Vr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Be?-1:e.value.outlet===Be?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return mr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!vr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Je(n).parameters:{};i=new Pn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mr(t),fr(t),t.component,t,Lr(e),Fr(e)+n.length,Ur(t))}else{const r=gr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Pn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mr(t),fr(t),t.component,t,Lr(e),Fr(e)+o.length,Ur(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=yr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new xn(i,t)]}if(0===a.length&&0===c.length)return[new xn(i,[])];const l=fr(t)===r,h=this.processSegment(a,u,c,l?Be:r);return null===h?null:[new xn(i,h)]}}function Vr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Lr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Fr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Mr(t){return t.data||{}}function Ur(t){return t.resolve||{}}function Hr(t){return Gt(e=>{const n=t(e);return n?Object(_t.a)(n).pipe(Object(Bt.a)(()=>e)):Object(Ot.a)(e)})}class qr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Br=new r.q("ROUTES");class zr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Bt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new nr(Ke(r.injector.get(Br)).map(hr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(_t.a)(this.loader.load(t)):Ze(t()).pipe(Object(ue.a)(t=>t instanceof r.v?Object(Ot.a)(t):Object(_t.a)(this.compiler.compileModuleAsync(t))))}}class Gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $r,this.attachRef=null}}class $r{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Gr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Wr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Yr(t){throw t}function Qr(t,e,n){return e.parse("/")}function Kr(t,e){return Object(Ot.a)(null)}let Jr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Et.a,this.errorHandler=Yr,this.malformedUriErrorHandler=Qr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kr,afterPreactivation:Kr},this.urlHandlingStrategy=new Wr,this.routeReuseStrategy=new qr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new on(new sn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zr(s,a,t=>this.triggerEvent(new Ve(t)),t=>this.triggerEvent(new Le(t))),this.routerState=Nn(this.currentUrlTree,this.rootComponentType),this.transitions=new St({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ne(t=>0!==t.id),Object(Bt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Gt(t=>{let n=!1,r=!1;return Object(Ot.a)(t).pipe(Object(Oe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ot.a)(t).pipe(Gt(t=>{const n=this.transitions.getValue();return e.next(new Te(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ht.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Gt(t=>function(t,e,n,r,i){return new Sr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Bt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Oe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ue.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Rr(t,e,n,r,i,o).recognize();return null===s?Pr(new Dr):Object(Ot.a)(s)}catch(Nw){return Pr(Nw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Bt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Oe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Te(n,this.serializeUrl(r),i,o);e.next(a);const u=Nn(r,this.rootComponentType).snapshot;return Object(Ot.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ht.a}),Hr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Oe.a)(t=>{const e=new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Bt.a)(t=>Object.assign(Object.assign({},t),{guards:Ar(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ue.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ot.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(_t.a)(t).pipe(Object(ue.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ot.a)(!0);const s=o.map(o=>{const s=jr(o,e,i);let a;if(function(t){return t&&rr(t.canDeactivate)}(s))a=Ze(s.canDeactivate(t,e,n,r));else{if(!rr(s))throw new Error("Invalid CanDeactivate guard");a=Ze(s(t,e,n,r))}return a.pipe(_e())});return Object(Ot.a)(s).pipe(sr())}(t.component,t.route,n,e,r)),_e(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ue.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(_t.a)(e).pipe(ce(e=>Ut(function(t,e){return null!==t&&e&&e(new Fe(t)),Object(Ot.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Ue(t)),Object(Ot.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>qt(()=>{const i=e.guards.map(i=>{const o=jr(i,e.node,n);let s;if(function(t){return t&&rr(t.canActivateChild)}(o))s=Ze(o.canActivateChild(r,t));else{if(!rr(o))throw new Error("Invalid CanActivateChild guard");s=Ze(o(r,t))}return s.pipe(_e())});return Object(Ot.a)(i).pipe(sr())}));return Object(Ot.a)(i).pipe(sr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ot.a)(!0);const i=r.map(r=>qt(()=>{const i=jr(r,e,n);let o;if(function(t){return t&&rr(t.canActivate)}(i))o=Ze(i.canActivate(e,t));else{if(!rr(i))throw new Error("Invalid CanActivate guard");o=Ze(i(e,t))}return o.pipe(_e())}));return Object(Ot.a)(i).pipe(sr())}(t,e.route,n))),_e(t=>!0!==t,!0))}(r,o,t,e):Object(Ot.a)(n)),Object(Bt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Oe.a)(t=>{if(ir(t.guardsResult)){const e=$e(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ne(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Hr(t=>{if(t.guards.canActivateChecks.length)return Object(Ot.a)(t).pipe(Object(Oe.a)(t=>{const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Gt(t=>{let n=!1;return Object(Ot.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ue.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ot.a)(t);let o=0;return Object(_t.a)(n).pipe(ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ot.a)({});const o={};return Object(_t.a)(i).pipe(Object(ue.a)(i=>function(t,e,n,r){const i=jr(t,e,r);return Ze(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Oe.a)(t=>{o[i]=t}))),le(1),Object(ue.a)(()=>Object.keys(o).length===i.length?Object(Ot.a)(o):Ht.a))}(t._resolve,t,e,r).pipe(Object(Bt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Dn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Oe.a)(()=>o++),le(1),Object(ue.a)(e=>o===n.length?Object(Ot.a)(t):Ht.a))})),Object(Oe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Oe.a)(t=>{const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Hr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Bt.a)(t=>{const e=function(t,e,n){const r=Un(t,e._root,n?n._root:void 0);return new jn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Oe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Bt.a)(t=>(new tr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Oe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ie(i))),oe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ir(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ae(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new je(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Zh){t.reject(Zh)}}var i;return Ht.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ur(t),this.config=t.map(hr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return zn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $n(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Xe(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new $n(n,e,r)}(n);if(o.toRoot())return zn(e.root,new sn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Wn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Wn(t,t===e.root,0)}const r=qn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Qn(s.segmentGroup,s.index,o.commands):Yn(s.segmentGroup,s.index,o.commands);return zn(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ir(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Nw){e=this.malformedUriErrorHandler(Nw,this.urlSerializer,t)}return e}isActive(t,e){if(ir(t))return tn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return tn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.M),r.Sb(cn),r.Sb($r),r.Sb(O),r.Sb(r.r),r.Sb(r.w),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Xr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Et.a,this.subscription=t.events.subscribe(t=>{t instanceof xe&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Zr(this.skipLocationChange),replaceUrl:Zr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Jr),r.Jb(kn),r.Jb(b))},t.\u0275dir=r.Eb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Vb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Rb("href",e.href,r.ec),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Zr(t){return""===t||!!t}let ti=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Be,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ei(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb($r),r.Jb(r.P),r.Jb(r.j),r.Tb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ei{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===kn?this.route:t===$r?this.childContexts:this.parent.get(t,e)}}class ni{}class ri{preload(t,e){return Object(Ot.a)(null)}}let ii=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new zr(e,n,e=>t.triggerEvent(new Ve(e)),e=>t.triggerEvent(new Le(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ne(t=>t instanceof xe),ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(_t.a)(n).pipe(Object(Mt.a)(),Object(Bt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ue.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Jr),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(ni))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),oi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Te?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qe&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new qe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Jr),r.Sb(B),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const si=new r.q("ROUTER_CONFIGURATION"),ai=new r.q("ROUTER_FORROOT_GUARD"),ui=[O,{provide:cn,useClass:ln},{provide:Jr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Jr(null,t,e,n,r,i,o,Ke(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[cn,$r,O,r.r,r.w,r.i,Br,si,[class{},new r.A],[class{},new r.A]]},$r,{provide:kn,useFactory:function(t){return t.routerState.root},deps:[Jr]},{provide:r.w,useClass:r.J},ii,ri,class{preload(t,e){return e().pipe(oe(()=>Object(Ot.a)(null)))}},{provide:si,useValue:{enableTracing:!1}}];function ci(){return new r.y("Router",Jr)}let li=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ui,pi(e),{provide:ai,useFactory:di,deps:[[Jr,new r.A,new r.I]]},{provide:si,useValue:n||{}},{provide:b,useFactory:fi,deps:[u,[new r.p(m),new r.A],si]},{provide:oi,useFactory:hi,deps:[Jr,B,si]},{provide:ni,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ri},{provide:r.y,multi:!0,useFactory:ci},[gi,{provide:r.d,multi:!0,useFactory:yi,deps:[gi]},{provide:vi,useFactory:bi,deps:[gi]},{provide:r.b,multi:!0,useExisting:vi}]]}}static forChild(e){return{ngModule:t,providers:[pi(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(ai,8),r.Sb(Jr,8))}}),t})();function hi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new oi(t,e,n)}function fi(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function di(t){return"guarded"}function pi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Br,multi:!0,useValue:t}]}let gi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Et.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Jr),r=this.injector.get(si);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ot.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(si),n=this.injector.get(ii),i=this.injector.get(oi),o=this.injector.get(Jr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function yi(t){return t.appInitializer.bind(t)}function bi(t){return t.bootstrapListener.bind(t)}const vi=new r.q("Router Initializer");let mi=(()=>{class t{canDeactivate(t,e,n){return!t.canDeactivate||t.canDeactivate()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();var wi=n("XoHu");function _i(t,e){return new kt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(_t.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Oi=new r.q("NgValueAccessor"),Ei={provide:Oi,useExisting:Object(r.T)(()=>Ii),multi:!0};let Ii=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Ei])]}),t})();const Si={provide:Oi,useExisting:Object(r.T)(()=>Ti),multi:!0},Ci=new r.q("CompositionEventMode");let Ti=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(Ci,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([Si])]}),t})();function xi(t){return null==t||0===t.length}function Ai(t){return null!=t&&"number"==typeof t.length}const ji=new r.q("NgValidators"),Ni=new r.q("NgAsyncValidators"),ki=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Di{static min(t){return e=>{if(xi(e.value)||xi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(xi(e.value)||xi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return xi(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return xi(t.value)||ki.test(t.value)?null:{email:!0}}static minLength(t){return e=>xi(e.value)||!Ai(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Ai(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Di.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(xi(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Pi);return 0==e.length?null:function(t){return Vi(Li(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Pi);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Tt.a)(e))return _i(e,null);if(Object(wi.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return _i(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return _i(t=1===t.length&&Object(Tt.a)(t[0])?t[0]:t,null).pipe(Object(Bt.a)(t=>e(...t)))}return _i(t,null)}(Li(t,e).map(Ri)).pipe(Object(Bt.a)(Vi))}}}function Pi(t){return null!=t}function Ri(t){const e=Object(r.qb)(t)?Object(_t.a)(t):t;return Object(r.pb)(e),e}function Vi(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Li(t,e){return e.map(e=>e(t))}function Fi(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Mi(t){return null!=t?Di.compose(Fi(t)):null}function Ui(t){return null!=t?Di.composeAsync(Fi(t)):null}function Hi(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qi(t){return t._rawValidators}function Bi(t){return t._rawAsyncValidators}let zi=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Mi(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ui(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),Gi=(()=>{class t extends zi{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return $i(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.vb]}),t})();const $i=r.Qb(Gi);class Wi extends zi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yi{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let Qi=(()=>{class t extends Yi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Wi,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Ki=(()=>{class t extends Yi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gi,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Ji={provide:Oi,useExisting:Object(r.T)(()=>Xi),multi:!0};let Xi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Ji])]}),t})();const Zi={provide:Oi,useExisting:Object(r.T)(()=>eo),multi:!0};let to=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),eo=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Wi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(to),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Zi])]}),t})();const no={provide:Oi,useExisting:Object(r.T)(()=>ro),multi:!0};let ro=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([no])]}),t})();const io={provide:Oi,useExisting:Object(r.T)(()=>so),multi:!0};function oo(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let so=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=oo(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([io])]}),t})(),ao=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(oo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(so,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const uo={provide:Oi,useExisting:Object(r.T)(()=>lo),multi:!0};function co(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let lo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([uo])]}),t})(),ho=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(co(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(co(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(lo,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function fo(t,e){return[...e.path,t]}function po(t,e){yo(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&vo(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&vo(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function go(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function yo(t,e,n){const r=qi(t);null!==e.validator?t.setValidators(Hi(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Bi(t);if(null!==e.asyncValidator?t.setAsyncValidators(Hi(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();go(e._rawValidators,n),go(e._rawAsyncValidators,n)}}function bo(t,e,n){if(null!==t){if(null!==e.validator){const n=qi(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Bi(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};go(e._rawValidators,t),go(e._rawAsyncValidators,t)}}function vo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function mo(t,e){yo(t,e,!1)}const wo=[Ii,ro,Xi,so,lo,eo];function _o(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Oo="VALID",Eo="INVALID",Io="PENDING",So="DISABLED";function Co(t){return(jo(t)?t.validators:t)||null}function To(t){return Array.isArray(t)?Mi(t):t||null}function xo(t,e){return(jo(e)?e.asyncValidators:t)||null}function Ao(t){return Array.isArray(t)?Ui(t):t||null}function jo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class No{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=To(this._rawValidators),this._composedAsyncValidatorFn=Ao(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Oo}get invalid(){return this.status===Eo}get pending(){return this.status==Io}get disabled(){return this.status===So}get enabled(){return this.status!==So}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=To(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ao(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Io,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=So,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Oo,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Oo&&this.status!==Io||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?So:Oo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Io,this._hasOwnPendingAsyncValidator=!0;const e=Ri(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Do?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Po&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?So:this.errors?Eo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Io)?Io:this._anyControlsHaveStatus(Eo)?Eo:Oo}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ko extends No{constructor(t=null,e,n){super(Co(e),xo(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_o(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_o(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Do extends No{constructor(t,e,n){super(Co(e),xo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ko?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Po extends No{constructor(t,e,n){super(Co(e),xo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ko?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Ro=(()=>{class t extends Gi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return fo(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(e){return Vo(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.vb]}),t})();const Vo=r.Qb(Ro);let Lo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Fo=new r.q("NgModelWithFormControlWarning"),Mo={provide:Gi,useExisting:Object(r.T)(()=>Uo)};let Uo=(()=>{class t extends Gi{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return po(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){_o(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);mo(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);mo(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),bo(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&po(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yo(this.form,this,!1),this._oldForm&&bo(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ji,10),r.Jb(Ni,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Mo]),r.vb,r.wb]}),t})();const Ho={provide:Gi,useExisting:Object(r.T)(()=>qo)};let qo=(()=>{class t extends Ro{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}_checkParentType(){Go(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gi,13),r.Jb(ji,10),r.Jb(Ni,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.xb([Ho]),r.vb]}),t})();const Bo={provide:Gi,useExisting:Object(r.T)(()=>zo)};let zo=(()=>{class t extends Gi{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return fo(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Go(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gi,13),r.Jb(ji,10),r.Jb(Ni,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.xb([Bo]),r.vb]}),t})();function Go(t){return!(t instanceof qo||t instanceof Uo||t instanceof zo)}const $o={provide:Wi,useExisting:Object(r.T)(()=>Wo)};let Wo=(()=>{class t extends Wi{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Ti?n=t:(e=t,wo.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return fo(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gi,13),r.Jb(ji,10),r.Jb(Ni,10),r.Jb(Oi,10),r.Jb(Fo,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([$o]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),Yo=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),Qo=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Do(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new ko(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Po(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ko||t instanceof Do||t instanceof Po?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Ko=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[to],imports:[Yo]}),t})(),Jo=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Fo,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Qo,to],imports:[Yo]}),t})();function Xo(t){return e=>e.lift(new Zo(t))}class Zo{constructor(t){this.notifier=t}call(t,e){const n=new ts(t),r=Object(zt.c)(this.notifier,new zt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class ts extends zt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const es=function(){return["/","home"]},ns=function(){return["/","edit"]};let rs=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:9,vars:5,consts:[[1,"container","my-3"],[1,"nav","mb"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link",3,"routerLink","queryParamsHandling"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"ul",1),r.Ob(2,"li",2),r.Ob(3,"a",3),r.hc(4,"Home"),r.Nb(),r.Nb(),r.Ob(5,"li",2),r.Ob(6,"a",4),r.hc(7,"Edit"),r.Nb(),r.Nb(),r.Nb(),r.Kb(8,"router-outlet"),r.Nb()),2&t&&(r.yb(3),r.ac("routerLink",r.bc(3,es)),r.yb(3),r.ac("routerLink",r.bc(4,ns))("queryParamsHandling","merge"))},directives:[Xr,ti],styles:[".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.mb[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{margin-bottom:10px}.mt[_ngcontent-%COMP%]{margin-top:10px}.nav[_ngcontent-%COMP%]{background-color:#eee;padding:10px}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function is(t,e=!1,n=[],r=[]){return new ko({value:t,disabled:e},n,r)}var os=n("D0XW");function ss(){return t=>t.lift(new as)}class as{call(t,e){return e.subscribe(new us(t))}}class us extends xt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class cs{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ls(t,this.compare,this.keySelector))}}class ls extends xt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var hs=n("pxpQ"),fs=n("spgP"),ds=n("Jgta"),ps=n("zIRd"),gs=n("q/0M"),ys=n("qOnz"),bs=function(t,e){return(bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function vs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ms,ws="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_s=_s||{},Os=ws||self;function Es(){}function Is(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ss(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Cs="closure_uid_"+(1e9*Math.random()>>>0),Ts=0;function xs(t,e,n){return t.call.apply(t.bind,arguments)}function As(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function js(t,e,n){return(js=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xs:As).apply(null,arguments)}function Ns(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ks(){return Date.now()}function Ds(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ps(){this.j=this.j,this.i=this.i}Ps.prototype.j=!1,Ps.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Cs)&&t[Cs]||(t[Cs]=++Ts)}(this)},Ps.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Rs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Vs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ls(t){return Array.prototype.concat.apply([],arguments)}function Fs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ms(t){return/^[\s\xa0]*$/.test(t)}var Us,Hs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function qs(t,e){return-1!=t.indexOf(e)}function Bs(t,e){return t<e?-1:t>e?1:0}t:{var zs=Os.navigator;if(zs){var Gs=zs.userAgent;if(Gs){Us=Gs;break t}}Us=""}function $s(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ws(t){var e={};for(var n in t)e[n]=t[n];return e}var Ys="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qs(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ys.length;o++)n=Ys[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ks(t){return Ks[" "](t),t}Ks[" "]=Es;var Js,Xs,Zs=qs(Us,"Opera"),ta=qs(Us,"Trident")||qs(Us,"MSIE"),ea=qs(Us,"Edge"),na=ea||ta,ra=qs(Us,"Gecko")&&!(qs(Us.toLowerCase(),"webkit")&&!qs(Us,"Edge"))&&!(qs(Us,"Trident")||qs(Us,"MSIE"))&&!qs(Us,"Edge"),ia=qs(Us.toLowerCase(),"webkit")&&!qs(Us,"Edge");function oa(){var t=Os.document;return t?t.documentMode:void 0}t:{var sa="",aa=(Xs=Us,ra?/rv:([^\);]+)(\)|;)/.exec(Xs):ea?/Edge\/([\d\.]+)/.exec(Xs):ta?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xs):ia?/WebKit\/(\S+)/.exec(Xs):Zs?/(?:Version)[ \/]?(\S+)/.exec(Xs):void 0);if(aa&&(sa=aa?aa[1]:""),ta){var ua=oa();if(null!=ua&&ua>parseFloat(sa)){Js=String(ua);break t}}Js=sa}var ca={};function la(t){return function(t,e){var n=ca;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Hs(String(Js)).split("."),r=Hs(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Bs(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Bs(0==s[2].length,0==a[2].length)||Bs(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ha=Os.document&&ta&&(oa()||parseInt(Js,10))||void 0,fa=!ta||9<=Number(ha),da=ta&&!la("9"),pa=function(){if(!Os.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Os.addEventListener("test",Es,e),Os.removeEventListener("test",Es,e)}catch(n){}return t}();function ga(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ya(t,e){if(ga.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ra){t:{try{Ks(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ba[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ga.prototype.b=function(){this.defaultPrevented=!0},Ds(ya,ga);var ba={2:"touch",3:"pen",4:"mouse"};ya.prototype.b=function(){ya.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,da)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var va="closure_listenable_"+(1e6*Math.random()|0),ma=0;function wa(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ma,this.Y=this.Z=!1}function _a(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Oa(t){this.src=t,this.a={},this.b=0}function Ea(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Rs(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(_a(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ia(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Oa.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ia(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new wa(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Sa="closure_lm_"+(1e6*Math.random()|0),Ca={};function Ta(t,e,n,r,i){if(r&&r.once)return Aa(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ta(t,e[o],n,r,i);return null}return n=La(n),t&&t[va]?t.va(e,n,Ss(r)?!!r.capture:!!r,i):xa(t,e,n,!1,r,i)}function xa(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ss(i)?!!i.capture:!!i;if(s&&!fa)return null;var a=Ra(t);if(a||(t[Sa]=a=new Oa(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Pa,e=fa?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pa||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ka(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Aa(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Aa(t,e[o],n,r,i);return null}return n=La(n),t&&t[va]?t.wa(e,n,Ss(r)?!!r.capture:!!r,i):xa(t,e,n,!0,r,i)}function ja(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ja(t,e[o],n,r,i);else r=Ss(r)?!!r.capture:!!r,n=La(n),t&&t[va]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ia(o=t.a[e],n,r,i))&&(_a(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ra(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ia(e,n,r,i)),(n=-1<t?e[t]:null)&&Na(n))}function Na(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[va])Ea(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ka(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ra(e))?(Ea(n,t),0==n.b&&(n.src=null,e[Sa]=null)):_a(t)}}}function ka(t){return t in Ca?Ca[t]:Ca[t]="on"+t}function Da(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Na(t),n.call(r,e)}function Pa(t,e){if(t.Y)return!0;if(!fa){if(!e)t:{e=["window","event"];for(var n=Os,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Da(t,e=new ya(e,this))}return Da(t,new ya(e,this))}function Ra(t){return(t=t[Sa])instanceof Oa?t:null}var Va="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(t){return"function"==typeof t?t:(t[Va]||(t[Va]=function(e){return t.handleEvent(e)}),t[Va])}function Fa(){Ps.call(this),this.c=new Oa(this),this.J=this,this.C=null}function Ma(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ga(e,t);else if(e instanceof ga)e.target=e.target||t;else{var i=e;Qs(e=new ga(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ua(s,r,!0,e)&&i}if(i=Ua(s=e.a=t,r,!0,e)&&i,i=Ua(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ua(s=e.a=n[o],r,!1,e)&&i}function Ua(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Ea(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ds(Fa,Ps),Fa.prototype[va]=!0,(ms=Fa.prototype).addEventListener=function(t,e,n,r){Ta(this,t,e,n,r)},ms.removeEventListener=function(t,e,n,r){ja(this,t,e,n,r)},ms.G=function(){if(Fa.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)_a(n[r]);delete e.a[t],e.b--}}this.C=null},ms.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ms.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ha=Os.JSON.stringify;function qa(){this.b=this.a=null}var Ba,za=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new $a},function(t){t.reset()});function Ga(){var t=Ka,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function $a(){this.next=this.b=this.a=null}function Wa(t){Os.setTimeout(function(){throw t},0)}function Ya(t,e){Ba||function(){var t=Os.Promise.resolve(void 0);Ba=function(){t.then(Ja)}}(),Qa||(Ba(),Qa=!0),Ka.add(t,e)}qa.prototype.add=function(t,e){var n=za.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},$a.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},$a.prototype.reset=function(){this.next=this.b=this.a=null};var Qa=!1,Ka=new qa;function Ja(){for(var t;t=Ga();){try{t.a.call(t.b)}catch(n){Wa(n)}var e=za;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Qa=!1}function Xa(t,e){Fa.call(this),this.b=t||1,this.a=e||Os,this.f=js(this.Za,this),this.g=ks()}function Za(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function tu(t,e,n){if("function"==typeof t)n&&(t=js(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=js(t.handleEvent,t)}return 2147483647<Number(e)?-1:Os.setTimeout(t,e||0)}function eu(t){t.a=tu(function(){t.a=null,t.c&&(t.c=!1,eu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ds(Xa,Fa),(ms=Xa.prototype).aa=!1,ms.M=null,ms.Za=function(){if(this.aa){var t=ks()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ma(this,"tick"),this.aa&&(Za(this),this.start()))}},ms.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ks())},ms.G=function(){Xa.X.G.call(this),Za(this),delete this.a};var nu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}bs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:eu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Os.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ps);function ru(t){Ps.call(this),this.b=t,this.a={}}Ds(ru,Ps);var iu=[];function ou(t,e,n,r){Array.isArray(n)||(n&&(iu[0]=n.toString()),n=iu);for(var i=0;i<n.length;i++){var o=Ta(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function su(t){$s(t.a,function(t,e){this.a.hasOwnProperty(e)&&Na(t)},t),t.a={}}function au(){this.a=!0}function uu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ha(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ru.prototype.G=function(){ru.X.G.call(this),su(this)},ru.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},au.prototype.info=function(){};var cu={},lu=null;function hu(){return lu=lu||new Fa}function fu(t){ga.call(this,cu.Fa,t)}function du(t){var e=hu();Ma(e,new fu(e,t))}function pu(t,e){ga.call(this,cu.STAT_EVENT,t),this.stat=e}function gu(t){var e=hu();Ma(e,new pu(e,t))}function yu(t){ga.call(this,cu.Ga,t)}function bu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Os.setTimeout(function(){t()},e)}cu.Fa="serverreachability",Ds(fu,ga),cu.STAT_EVENT="statevent",Ds(pu,ga),cu.Ga="timingevent",Ds(yu,ga);var vu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},mu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function wu(){}function _u(){}wu.prototype.a=null;var Ou,Eu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Iu(){ga.call(this,"d")}function Su(){ga.call(this,"c")}function Cu(){}function Tu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ru(this),this.P=xu,this.R=new Xa(t=na?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ds(Iu,ga),Ds(Su,ga),Ds(Cu,wu),Ou=new Cu;var xu=45e3,Au={},ju={};function Nu(t,e,n){t.H=1,t.i=Zu(Wu(e)),t.j=n,t.I=!0,ku(t,null)}function ku(t,e){t.u=ks(),Ru(t),t.l=Wu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),fc(n.b,"t",r),t.D=0,t.a=sl(t.g,t.g.C?e:null),0<t.O&&(t.F=new nu(js(t.Ca,t,t.a),t.O)),ou(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ws(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),du(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Du(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Pu(t,n);if(i==ju){4==e&&(t.h=4,gu(14),r=!1),uu(t.c,t.f,null,"[Incomplete Response]");break}if(i==Au){t.h=4,gu(15),uu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}uu(t.c,t.f,i,null),Uu(t,i)}4==e&&0==n.length&&(t.h=1,gu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xc(e),e.F=!0,gu(11))):(uu(t.c,t.f,n,"[Invalid Chunked Response]"),Mu(t),Fu(t))}function Pu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ju:(n=Number(e.substring(n,r)),isNaN(n)?Au:(r+=1)+n>e.length?ju:(e=e.substr(r,n),t.D=r+n,e))}function Ru(t){t.T=ks()+t.P,Vu(t,t.P)}function Vu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=bu(js(t.Va,t),e)}function Lu(t){t.o&&(Os.clearTimeout(t.o),t.o=null)}function Fu(t){0==t.g.v||t.A||el(t.g,t)}function Mu(t){Lu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Za(t.R),su(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Uu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||mc(n.b,t)))if(n.I=t.N,!t.C&&mc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(zm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;tl(n),Bc(n)}Jc(n),gu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=bu(js(n.Sa,n),6e3));if(1>=vc(n.b)&&n.ea){try{n.ea()}catch(zm){}n.ea=void 0}}else rl(n,11)}else if((t.C||n.a==t)&&tl(n),!Ms(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(qs(l,"spdy")||qs(l,"quic")||qs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(wc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Xu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ks()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ol(u,u.C?u.ga:null,u.fa),d.C){_c(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Lu(p),Ru(p)),u.a=d}else Kc(u);0<n.g.length&&$c(n)}else"stop"!=i[0]&&"close"!=i[0]||rl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?rl(n,7):qc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);du(4)}catch(zm){}}function Hu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Is(t)||"string"==typeof t)Vs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Is(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Is(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function qu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof qu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Bu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];zu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)zu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function zu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ms=Tu.prototype).setTimeout=function(t){this.P=t},ms.Xa=function(t){t=t.target;var e=this.F;e&&3==Fc(t)?e.f():this.Ca(t)},ms.Ca=function(t){try{if(t==this.a)t:{var e=Fc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!na&&!this.a.$())){this.A||4!=e||7==n||du(8==n||0>=r?3:2),Lu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ms(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,gu(12),Mu(this),Fu(this);break t}uu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Uu(this,u)}this.I?(Du(this,e,o),na&&this.b&&3==e&&(ou(this.J,this.R,"tick",this.Wa),this.R.start())):(uu(this.c,this.f,o,null),Uu(this,o)),4==e&&Mu(this),this.b&&!this.A&&(4==e?el(this.g,this):(this.b=!1,Ru(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,gu(12)):(this.h=0,gu(13)),Mu(this),Fu(this)}}}catch(c){}},ms.Wa=function(){if(this.a){var t=Fc(this.a),e=this.a.$();this.D<e.length&&(Lu(this),Du(this,t,e),this.b&&4!=t&&Ru(this))}},ms.cancel=function(){this.A=!0,Mu(this)},ms.Va=function(){this.o=null;var t=ks();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(du(3),gu(17)),Mu(this),this.h=2,Fu(this)):Vu(this,this.T-t)},(ms=qu.prototype).K=function(){Bu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ms.L=function(){return Bu(this),this.a.concat()},ms.get=function(t,e){return zu(this.b,t)?this.b[t]:e},ms.set=function(t,e){zu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ms.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Gu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $u(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof $u){this.a=void 0!==e?e:t.a,Yu(this,t.f),this.j=t.j,Qu(this,t.c),Ku(this,t.h),this.g=t.g,e=t.b;var n=new uc;n.c=e.c,e.a&&(n.a=new qu(e.a),n.b=e.b),Ju(this,n),this.i=t.i}else t&&(n=String(t).match(Gu))?(this.a=!!e,Yu(this,n[1]||"",!0),this.j=tc(n[2]||""),Qu(this,n[3]||"",!0),Ku(this,n[4]),this.g=tc(n[5]||"",!0),Ju(this,n[6]||"",!0),this.i=tc(n[7]||"")):(this.a=!!e,this.b=new uc(null,this.a))}function Wu(t){return new $u(t)}function Yu(t,e,n){t.f=n?tc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Qu(t,e,n){t.c=n?tc(e,!0):e}function Ku(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ju(t,e,n){e instanceof uc?(t.b=e,function(t,e){e&&!t.f&&(cc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(lc(this,e),fc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ec(e,sc)),t.b=new uc(e,t.a))}function Xu(t,e,n){t.b.set(e,n)}function Zu(t){return Xu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ks()).toString(36)),t}function tc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ec(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,nc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$u.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ec(e,rc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ec(e,rc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ec(n,"/"==n.charAt(0)?oc:ic,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ec(n,ac)),t.join("")};var rc=/[#\/\?@]/g,ic=/[#\?:]/g,oc=/[#\?]/g,sc=/[#\?@]/g,ac=/#/g;function uc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function cc(t){t.a||(t.a=new qu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function lc(t,e){cc(t),e=dc(t,e),zu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,zu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Bu(t)))}function hc(t,e){return cc(t),e=dc(t,e),zu(t.a.b,e)}function fc(t,e,n){lc(t,e),0<n.length&&(t.c=null,t.a.set(dc(t,e),Fs(n)),t.b+=n.length)}function dc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ms=uc.prototype).add=function(t,e){cc(this),this.c=null,t=dc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ms.forEach=function(t,e){cc(this),this.a.forEach(function(n,r){Vs(n,function(n){t.call(e,n,r,this)},this)},this)},ms.L=function(){cc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ms.K=function(t){cc(this);var e=[];if("string"==typeof t)hc(this,t)&&(e=Ls(e,this.a.get(dc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ls(e,t[n])}return e},ms.set=function(t,e){return cc(this),this.c=null,hc(this,t=dc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ms.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ms.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var pc=function(){return function(t,e){this.b=t,this.a=e}}();function gc(t){this.g=t||yc,t=Os.PerformanceNavigationTiming?0<(t=Os.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Os.ia&&Os.ia.ya&&Os.ia.ya()&&Os.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var yc=10;function bc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function vc(t){return t.b?1:t.a?t.a.size:0}function mc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function wc(t,e){t.a?t.a.add(e):t.b=e}function _c(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Oc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=vs(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Fs(t.c)}function Ec(){}function Ic(){this.a=new Ec}function Sc(t,e,n){var r=n||"";try{Hu(t,function(t,n){var i=t;Ss(t)&&(i=Ha(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Nw){throw e.push(r+"type="+encodeURIComponent("_badmap")),Nw}}function Cc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}gc.prototype.cancel=function(){var t,e;if(this.c=Oc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=vs(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ec.prototype.stringify=function(t){return Os.JSON.stringify(t,void 0)},Ec.prototype.parse=function(t){return Os.JSON.parse(t,void 0)};var Tc=Os.JSON.parse;function xc(t){Fa.call(this),this.headers=new qu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ac,this.D=this.F=!1}Ds(xc,Fa);var Ac="",jc=/^https?$/i,Nc=["POST","PUT"];function kc(t){return"content-type"==t.toLowerCase()}function Dc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pc(t),Vc(t)}function Pc(t){t.u||(t.u=!0,Ma(t,"complete"),Ma(t,"error"))}function Rc(t){if(t.b&&void 0!==_s&&(!t.s[1]||4!=Fc(t)||2!=t.W()))if(t.l&&4==Fc(t))tu(t.za,0,t);else if(Ma(t,"readystatechange"),4==Fc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Gu)[1]||null;if(!o&&Os.self&&Os.self.location){var s=Os.self.location.protocol;o=s.substr(0,s.length-1)}i=!jc.test(o?o.toLowerCase():"")}e=i}if(e)Ma(t,"complete"),Ma(t,"success");else{t.h=6;try{var a=2<Fc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Pc(t)}}finally{Vc(t)}}}function Vc(t,e){if(t.a){Lc(t);var n=t.a,r=t.s[0]?Es:null;t.a=null,t.s=null,e||Ma(t,"ready");try{n.onreadystatechange=r}catch(Nw){}}}function Lc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Os.clearTimeout(t.m),t.m=null)}function Fc(t){return t.a?t.a.readyState:0}function Mc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return $s(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Xu(t,e,n))}function Uc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Hc(t){this.pa=0,this.g=[],this.c=new au,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Uc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Uc("baseRetryDelayMs",5e3,t),this.Ra=Uc("retryDelaySeedMs",1e4,t),this.Ma=Uc("forwardChannelMaxRetries",2,t),this.ma=Uc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new gc(t&&t.concurrentRequestLimit),this.ka=new Ic,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function qc(t){if(zc(t),3==t.v){var e=t.R++,n=Wu(t.B);Xu(n,"SID",t.J),Xu(n,"RID",e),Xu(n,"TYPE","terminate"),Yc(t,n),(e=new Tu(t,t.c,e,void 0)).H=2,e.i=Zu(Wu(n)),n=!1,Os.navigator&&Os.navigator.sendBeacon&&(n=Os.navigator.sendBeacon(e.i.toString(),"")),!n&&Os.Image&&((new Image).src=e.i,n=!0),n||(e.a=sl(e.g,null),e.a.ba(e.i)),e.u=ks(),Ru(e)}il(t)}function Bc(t){t.a&&(Xc(t),t.a.cancel(),t.a=null)}function zc(t){Bc(t),t.j&&(Os.clearTimeout(t.j),t.j=null),tl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Os.clearTimeout(t.h),t.h=null)}function Gc(t,e){t.g.push(new pc(t.Oa++,e)),3==t.v&&$c(t)}function $c(t){bc(t.b)||t.h||(t.h=!0,Ya(t.Ba,t),t.u=0)}function Wc(t,e){var n;n=e?e.f:t.R++;var r=Wu(t.B);Xu(r,"SID",t.J),Xu(r,"RID",n),Xu(r,"AID",t.P),Yc(t,r),t.i&&t.l&&Mc(r,t.i,t.l),n=new Tu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Qc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),wc(t.b,n),Nu(n,r,e)}function Yc(t,e){t.f&&Hu({},function(t,n){Xu(e,n,t)})}function Qc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?js(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Sc(l,s,"req"+c+"_")}catch(ql){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Kc(t){t.a||t.j||(t.T=1,Ya(t.Aa,t),t.o=0)}function Jc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=bu(js(t.Aa,t),nl(t,t.o)),t.o++,0))}function Xc(t){null!=t.s&&(Os.clearTimeout(t.s),t.s=null)}function Zc(t){t.a=new Tu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Wu(t.la);Xu(e,"RID","rpc"),Xu(e,"SID",t.J),Xu(e,"CI",t.H?"0":"1"),Xu(e,"AID",t.P),Yc(t,e),Xu(e,"TYPE","xmlhttp"),t.i&&t.l&&Mc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Zu(Wu(e)),n.j=null,n.I=!0,ku(n,t)}function tl(t){null!=t.m&&(Os.clearTimeout(t.m),t.m=null)}function el(t,e){var n=null;if(t.a==e){tl(t),Xc(t),t.a=null;var r=2}else{if(!mc(t.b,e))return;n=e.s,_c(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ks()-e.u;var i=t.u;Ma(r=hu(),new yu(r,n,e,i)),$c(t)}else Kc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(vc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=bu(js(t.Ba,t,e),nl(t,t.u)),t.u++,0)))}(t,e)||2==r&&Jc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:rl(t,5);break;case 4:rl(t,10);break;case 3:rl(t,6);break;default:rl(t,2)}}function nl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function rl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=js(t.Ya,t);n||(n=new $u("//www.google.com/images/cleardot.gif"),Os.location&&"http"==Os.location.protocol||Yu(n,"https"),Zu(n)),function(t,e){var n=new au;if(Os.Image){var r=new Image;r.onload=Ns(Cc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ns(Cc,n,r,"TestLoadImage: error",!1,e),r.onabort=Ns(Cc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ns(Cc,n,r,"TestLoadImage: timeout",!1,e),Os.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else gu(2);t.v=0,t.f&&t.f.ra(e),il(t),zc(t)}function il(t){t.v=0,t.I=-1,t.f&&(0==Oc(t.b).length&&0==t.g.length||(t.b.c.length=0,Fs(t.g),t.g.length=0),t.f.qa())}function ol(t,e,n){var r=function(t){return t instanceof $u?Wu(t):new $u(t,void 0)}(n);if(""!=r.c)e&&Qu(r,e+"."+r.c),Ku(r,r.h);else{var i=Os.location;r=function(t,e,n,r){var i=new $u(null,void 0);return t&&Yu(i,t),e&&Qu(i,e),n&&Ku(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&$s(t.V,function(t,e){Xu(r,e,t)}),n=t.na,(e=t.A)&&n&&Xu(r,e,n),Xu(r,"VER",t.ha),Yc(t,r),r}function sl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xc(t.Na)).F=t.C,e}function al(){}function ul(){if(ta&&!(10<=Number(ha)))throw Error("Environmental error: no available transport.")}function cl(t,e){Fa.call(this),this.a=new Hc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ms(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ms(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new fl(this)}function ll(t){Iu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hl(){Su.call(this),this.status=1}function fl(t){this.a=t}(ms=xc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ou),this.a.onreadystatechange=js(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Dc(this,o)}t=n||"";var i=new qu(this.headers);r&&Hu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=kc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Os.FormData&&t instanceof Os.FormData,!(0<=Rs(Nc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Lc(this),0<this.o&&((this.D=function(t){return ta&&la(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=js(this.xa,this)):this.m=tu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Dc(this,o)}},ms.xa=function(){void 0!==_s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ma(this,"timeout"),this.abort(8))},ms.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ma(this,"complete"),Ma(this,"abort"),Vc(this))},ms.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Vc(this,!0)),xc.X.G.call(this)},ms.za=function(){this.j||(this.A||this.l||this.g?Rc(this):this.Ua())},ms.Ua=function(){Rc(this)},ms.W=function(){try{return 2<Fc(this)?this.a.status:-1}catch(Xs){return-1}},ms.$=function(){try{return this.a?this.a.responseText:""}catch(Xs){return""}},ms.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Tc(e)}},ms.ua=function(){return this.h},ms.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ms=Hc.prototype).ha=8,ms.v=1,ms.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Tu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Qs(r=Ws(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Qc(this,n,e),Xu(i=Wu(this.B),"RID",t),Xu(i,"CVER",22),this.A&&Xu(i,"X-HTTP-Session-Id",this.A),Yc(this,i),this.i&&r&&Mc(i,this.i,r),wc(this.b,n),this.Ia&&Xu(i,"TYPE","init"),this.da?(Xu(i,"$req",e),Xu(i,"SID","null"),n.U=!0,Nu(n,i,null)):Nu(n,i,e),this.v=2}}else 3==this.v&&(t?Wc(this,t):0==this.g.length||bc(this.b)||Wc(this))},ms.Aa=function(){if(this.j=null,Zc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=bu(js(this.Ta,this),t)}},ms.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,gu(10),Bc(this),Zc(this))},ms.Sa=function(){null!=this.m&&(this.m=null,Bc(this),Jc(this),gu(19))},ms.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),gu(2)):(this.c.info("Failed to ping google.com"),gu(1))},(ms=al.prototype).ta=function(){},ms.sa=function(){},ms.ra=function(){},ms.qa=function(){},ms.Ja=function(){},ul.prototype.a=function(t,e){return new cl(t,e)},Ds(cl,Fa),cl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;gu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ol(t,null,t.fa),$c(t)},cl.prototype.close=function(){qc(this.a)},cl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Gc(this.a,e)}else this.l?((e={}).__data__=Ha(t),Gc(this.a,e)):Gc(this.a,t)},cl.prototype.G=function(){this.a.f=null,delete this.f,qc(this.a),delete this.a,cl.X.G.call(this)},Ds(ll,Iu),Ds(hl,Su),Ds(fl,al),fl.prototype.ta=function(){Ma(this.a,"a")},fl.prototype.sa=function(t){Ma(this.a,new ll(t))},fl.prototype.ra=function(t){Ma(this.a,new hl(t))},fl.prototype.qa=function(){Ma(this.a,"b")},ul.prototype.createWebChannel=ul.prototype.a,cl.prototype.send=cl.prototype.h,cl.prototype.open=cl.prototype.g,cl.prototype.close=cl.prototype.close,vu.NO_ERROR=0,vu.TIMEOUT=8,vu.HTTP_ERROR=6,mu.COMPLETE="complete",_u.EventType=Eu,Eu.OPEN="a",Eu.CLOSE="b",Eu.ERROR="c",Eu.MESSAGE="d",Fa.prototype.listen=Fa.prototype.va,xc.prototype.listenOnce=xc.prototype.wa,xc.prototype.getLastError=xc.prototype.Qa,xc.prototype.getLastErrorCode=xc.prototype.ua,xc.prototype.getStatus=xc.prototype.W,xc.prototype.getResponseJson=xc.prototype.Pa,xc.prototype.getResponseText=xc.prototype.$,xc.prototype.send=xc.prototype.ba;var dl=vu,pl=mu,gl=cu,yl=_u,bl=xc,vl=n("os0x"),ml=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},wl=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),_l=new gs.b("@firebase/firestore");function Ol(){return _l.logLevel}function El(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_l.logLevel<=gs.a.DEBUG){var r=e.map(Cl);_l.debug.apply(_l,Object(vl.g)(["Firestore (8.2.9): "+t],r))}}function Il(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_l.logLevel<=gs.a.ERROR){var r=e.map(Cl);_l.error.apply(_l,Object(vl.g)(["Firestore (8.2.9): "+t],r))}}function Sl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_l.logLevel<=gs.a.WARN){var r=e.map(Cl);_l.warn.apply(_l,Object(vl.g)(["Firestore (8.2.9): "+t],r))}}function Cl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Nw){return t}}function Tl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Il(e),new Error(e)}function xl(t,e){t||Tl()}function Al(t,e){return t}function jl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Nl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=jl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function kl(t,e){return t<e?-1:t>e?1:0}function Dl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Pl(t){return t+"\0"}var Rl=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return kl(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Rl.T=new Rl("");var Vl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ll=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(vl.c)(e,t),e}(Error),Fl=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Rl.fromBase64String(e))}catch(e){throw new Ll(Vl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Rl.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Ml=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ml.UNAUTHENTICATED=new Ml(null),Ml.R=new Ml("google-credentials-uid"),Ml.P=new Ml("first-party-uid");var Ul=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Hl=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Ml.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),ql=function(){function t(t){var e=this;this.D=null,this.currentUser=Ml.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(El("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xl("string"==typeof n.accessToken),new Ul(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return xl(null===t||"string"==typeof t),new Ml(t)},t}(),Bl=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=Ml.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),zl=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new Bl(this.F,this.O))},t.prototype.v=function(t){t(Ml.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Gl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();Gl.q=-1;var $l=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ll(Vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ll(Vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ll(Vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ll(Vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?kl(this.nanoseconds,t.nanoseconds):kl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Wl=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new $l(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),Yl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Tl(),void 0===n?n=t.length-e:n>t.length-e&&Tl(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(Yl),Kl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return Kl.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ll(Vl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ll(Vl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ll(Vl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(Yl),Xl=function(){function t(t){this.path=t}return t._t=function(e){return new t(Ql.ot(e))},t.ft=function(e){return new t(Ql.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ql.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return Ql.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new Ql(e.slice()))},t}();function Zl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function th(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nh=function(){function t(t){this.fields=t,t.sort(Jl.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Dl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),rh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ih(t){if(xl(!!t),"string"==typeof t){var e=0,n=rh.exec(t);if(xl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:oh(t.seconds),nanos:oh(t.nanos)}}function oh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function sh(t){return"string"==typeof t?Rl.fromBase64String(t):Rl.fromUint8Array(t)}function ah(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function uh(t){var e=t.mapValue.fields.__previous_value__;return ah(e)?uh(e):e}function ch(t){var e=ih(t.mapValue.fields.__local_write_time__.timestampValue);return new $l(e.seconds,e.nanos)}function lh(t){return null==t}function hh(t){return 0===t&&1/t==-1/0}function fh(t){return"number"==typeof t&&Number.isInteger(t)&&!hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function dh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ah(t)?4:10:Tl()}function ph(t,e){var n=dh(t);if(n!==dh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ch(t).isEqual(ch(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ih(t.timestampValue),r=ih(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return sh(t.bytesValue).isEqual(sh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return oh(t.geoPointValue.latitude)===oh(e.geoPointValue.latitude)&&oh(t.geoPointValue.longitude)===oh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return oh(t.integerValue)===oh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=oh(t.doubleValue),r=oh(e.doubleValue);return n===r?hh(n)===hh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Dl(t.arrayValue.values||[],e.arrayValue.values||[],ph);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Zl(n)!==Zl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ph(n[i],r[i])))return!1;return!0}(t,e);default:return Tl()}}function gh(t,e){return void 0!==(t.values||[]).find(function(t){return ph(t,e)})}function yh(t,e){var n=dh(t),r=dh(e);if(n!==r)return kl(n,r);switch(n){case 0:return 0;case 1:return kl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=oh(t.integerValue||t.doubleValue),r=oh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return bh(t.timestampValue,e.timestampValue);case 4:return bh(ch(t),ch(e));case 5:return kl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=sh(t),r=sh(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=kl(n[i],r[i]);if(0!==o)return o}return kl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=kl(oh(t.latitude),oh(e.latitude));return 0!==n?n:kl(oh(t.longitude),oh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=yh(n[i],r[i]);if(o)return o}return kl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=kl(r[s],o[s]);if(0!==a)return a;var u=yh(n[r[s]],i[o[s]]);if(0!==u)return u}return kl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Tl()}}function bh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return kl(t,e);var n=ih(t),r=ih(e),i=kl(n.seconds,r.seconds);return 0!==i?i:kl(n.nanos,r.nanos)}function vh(t){return mh(t)}function mh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ih(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?sh(t.bytesValue).toBase64():"referenceValue"in t?Xl.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=mh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+mh(t.fields[o])}return e+"}"}(t.mapValue):Tl();var e}function wh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function _h(t){return!!t&&"integerValue"in t}function Oh(t){return!!t&&"arrayValue"in t}function Eh(t){return!!t&&"nullValue"in t}function Ih(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sh(t){return!!t&&"mapValue"in t}var Ch=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Sh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return ph(this.proto,t.proto)},t}(),Th=function(){function t(t){void 0===t&&(t=Ch.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===dh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Jl.ct(),this.At);return null!=t?new Ch(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Sh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function xh(t){var e=[];return th(t.fields||{},function(t,n){var r=new Jl([t]);if(Sh(n)){var i=xh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new nh(e)}var Ah=function(t,e){this.key=t,this.version=e},jh=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(vl.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ah),Nh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(vl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ah),kh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ah),Dh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Ph(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Dh(t,e,n,r,i,o,s)}function Rh(t){var e=Al(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+vh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Yh(e.startAt)),e.endAt&&(n+="|ub:",n+=Yh(e.endAt)),e.vt=n}return e.vt}function Vh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Kh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ph(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xh(t.startAt,e.startAt)&&Xh(t.endAt,e.endAt)}function Lh(t){return Xl.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Fh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(vl.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Mh(t,n,r):"array-contains"===n?new Bh(t,r):"in"===n?new zh(t,r):"not-in"===n?new Gh(t,r):"array-contains-any"===n?new $h(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Uh(t,n):new Hh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(yh(e,this.value)):null!==e&&dh(this.value)===dh(e)&&this.Dt(yh(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Tl()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Mh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Xl.ft(r.referenceValue),i}return Object(vl.c)(e,t),e.prototype.matches=function(t){var e=Xl.H(t.key,this.key);return this.Dt(e)},e}(Fh),Uh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=qh(0,n),r}return Object(vl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Fh),Hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=qh(0,n),r}return Object(vl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Fh);function qh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Xl.ft(t.referenceValue)})}var Bh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(vl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Oh(e)&&gh(e.arrayValue,this.value)},e}(Fh),zh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(vl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&gh(this.value.arrayValue,e)},e}(Fh),Gh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(vl.c)(e,t),e.prototype.matches=function(t){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!gh(this.value.arrayValue,e)},e}(Fh),$h=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(vl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Oh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return gh(e.value.arrayValue,t)})},e}(Fh),Wh=function(t,e){this.position=t,this.before=e};function Yh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return vh(t)}).join(",")}var Qh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Kh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?Xl.H(Xl.ft(s.referenceValue),n.key):yh(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Xh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ph(t.position[n],e.position[n]))return!1;return!0}var Zh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null};function tf(t,e,n,r,i,o,s,a){return new Zh(t,e,n,r,i,o,s,a)}function ef(t){return new Zh(t)}function nf(t){return!lh(t.limit)&&"F"===t.limitType}function rf(t){return!lh(t.limit)&&"L"===t.limitType}function of(t){return t.xt.length>0?t.xt[0].field:null}function sf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function af(t){return null!==t.collectionGroup}function uf(t){var e=Al(t);if(null===e.Nt){e.Nt=[];var n=sf(e),r=of(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new Qh(n)),e.Nt.push(new Qh(Jl.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Qh(Jl.ht(),u))}}}return e.Nt}function cf(t){var e=Al(t);if(!e.$t)if("F"===e.limitType)e.$t=Ph(e.path,e.collectionGroup,uf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=uf(e);r<i.length;r++){var o=i[r];n.push(new Qh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Wh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Wh(e.startAt.position,!e.startAt.before):null;e.$t=Ph(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.$t}function lf(t,e,n){return new Zh(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return Vh(cf(t),cf(e))&&t.limitType===e.limitType}function ff(t){return Rh(cf(t))+"|lt:"+t.limitType}function df(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+vh(e.value);var e}).join(", ")+"]"),lh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Yh(t.startAt)),t.endAt&&(e+=", endAt: "+Yh(t.endAt)),"Target("+e+")"}(cf(t))+"; limitType="+t.limitType+")"}function pf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Xl.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jh(t.startAt,uf(t),e)||t.endAt&&Jh(t.endAt,uf(t),e))}(t,e)}function gf(t){return function(e,n){for(var r=!1,i=0,o=uf(t);i<o.length;i++){var s=o[i],a=yf(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function yf(t,e,n){var r=t.field.ut()?Xl.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?yh(r,i):Tl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Tl()}}var bf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Wl.min()),void 0===o&&(o=Wl.min()),void 0===s&&(s=Rl.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function vf(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function mf(t){return{integerValue:""+t}}function wf(t,e){return fh(e)?mf(e):vf(t,e)}var _f=function(){this.qt=void 0};function Of(t,e,n){return t instanceof Sf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Cf?Tf(t,e):t instanceof xf?Af(t,e):function(t,e){var n=If(t,e),r=Nf(n)+Nf(t.Ut);return _h(n)&&_h(t.Ut)?mf(r):vf(t.Qt,r)}(t,e)}function Ef(t,e,n){return t instanceof Cf?Tf(t,e):t instanceof xf?Af(t,e):n}function If(t,e){return t instanceof jf?_h(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e}(_f),Cf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(vl.c)(e,t),e}(_f);function Tf(t,e){for(var n=kf(e),r=function(t){n.some(function(e){return ph(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(vl.c)(e,t),e}(_f);function Af(t,e){for(var n=kf(e),r=function(t){n=n.filter(function(e){return!ph(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(vl.c)(e,t),e}(_f);function Nf(t){return oh(t.integerValue||t.doubleValue)}function kf(t){return Oh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Df=function(t,e){this.field=t,this.transform=e},Pf=function(t,e){this.version=t,this.transformResults=e},Rf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Vf(t,e){return void 0!==t.updateTime?e instanceof jh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof jh}var Lf=function(){};function Ff(t,e,n){return t instanceof Bf?function(t,e,n){var r=t.value;if(n.transformResults){var i=$f(t.fieldTransforms,e,n.transformResults);r=Yf(t.fieldTransforms,r,i)}return new jh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof zf?function(t,e,n){if(!Vf(t.jt,e))return new kh(t.key,n.version);var r=Gf(t,e,n.transformResults?$f(t.fieldTransforms,e,n.transformResults):[]);return new jh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Nh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Mf(t,e,n){return t instanceof Bf?function(t,e,n){if(!Vf(t.jt,e))return e;var r=t.value,i=Wf(t.fieldTransforms,n,e);r=Yf(t.fieldTransforms,r,i);var o=qf(e);return new jh(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof zf?function(t,e,n){if(!Vf(t.jt,e))return e;var r=qf(e),i=Gf(t,e,Wf(t.fieldTransforms,n,e));return new jh(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Vf(t.jt,e)?new Nh(t.key,Wl.min()):e}(t,e)}function Uf(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof jh?e.field(o.field):void 0,a=If(o.transform,s||null);null!=a&&(n=null==n?(new Th).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Hf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Dl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Cf&&e instanceof Cf||t instanceof xf&&e instanceof xf?Dl(t.elements,e.elements,ph):t instanceof jf&&e instanceof jf?ph(t.Ut,e.Ut):t instanceof Sf&&e instanceof Sf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function qf(t){return t instanceof jh?t.version:Wl.min()}var Bf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(vl.c)(e,t),e}(Lf),zf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(vl.c)(e,t),e}(Lf);function Gf(t,e,n){var r;return r=function(t,e){var n=new Th(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof jh?e.data():Ch.empty()),Yf(t.fieldTransforms,r,n)}function $f(t,e,n){var r=[];xl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof jh&&(a=e.field(o.field)),r.push(Ef(s,a,n[i]))}return r}function Wf(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof jh&&(u=n.field(s.field)),r.push(Of(a,u,e))}return r}function Yf(t,e,n){for(var r=new Th(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var Qf,Kf,Jf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(vl.c)(e,t),e}(Lf),Xf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(vl.c)(e,t),e}(Lf),Zf=function(t){this.count=t};function td(t){switch(t){case Vl.OK:return Tl();case Vl.CANCELLED:case Vl.UNKNOWN:case Vl.DEADLINE_EXCEEDED:case Vl.RESOURCE_EXHAUSTED:case Vl.INTERNAL:case Vl.UNAVAILABLE:case Vl.UNAUTHENTICATED:return!1;case Vl.INVALID_ARGUMENT:case Vl.NOT_FOUND:case Vl.ALREADY_EXISTS:case Vl.PERMISSION_DENIED:case Vl.FAILED_PRECONDITION:case Vl.ABORTED:case Vl.OUT_OF_RANGE:case Vl.UNIMPLEMENTED:case Vl.DATA_LOSS:return!0;default:return Tl()}}function ed(t){if(void 0===t)return Il("GRPC error has no .code"),Vl.UNKNOWN;switch(t){case Qf.OK:return Vl.OK;case Qf.CANCELLED:return Vl.CANCELLED;case Qf.UNKNOWN:return Vl.UNKNOWN;case Qf.DEADLINE_EXCEEDED:return Vl.DEADLINE_EXCEEDED;case Qf.RESOURCE_EXHAUSTED:return Vl.RESOURCE_EXHAUSTED;case Qf.INTERNAL:return Vl.INTERNAL;case Qf.UNAVAILABLE:return Vl.UNAVAILABLE;case Qf.UNAUTHENTICATED:return Vl.UNAUTHENTICATED;case Qf.INVALID_ARGUMENT:return Vl.INVALID_ARGUMENT;case Qf.NOT_FOUND:return Vl.NOT_FOUND;case Qf.ALREADY_EXISTS:return Vl.ALREADY_EXISTS;case Qf.PERMISSION_DENIED:return Vl.PERMISSION_DENIED;case Qf.FAILED_PRECONDITION:return Vl.FAILED_PRECONDITION;case Qf.ABORTED:return Vl.ABORTED;case Qf.OUT_OF_RANGE:return Vl.OUT_OF_RANGE;case Qf.UNIMPLEMENTED:return Vl.UNIMPLEMENTED;case Qf.DATA_LOSS:return Vl.DATA_LOSS;default:return Tl()}}(Kf=Qf||(Qf={}))[Kf.OK=0]="OK",Kf[Kf.CANCELLED=1]="CANCELLED",Kf[Kf.UNKNOWN=2]="UNKNOWN",Kf[Kf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kf[Kf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kf[Kf.NOT_FOUND=5]="NOT_FOUND",Kf[Kf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kf[Kf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kf[Kf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kf[Kf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kf[Kf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kf[Kf.ABORTED=10]="ABORTED",Kf[Kf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kf[Kf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kf[Kf.INTERNAL=13]="INTERNAL",Kf[Kf.UNAVAILABLE=14]="UNAVAILABLE",Kf[Kf.DATA_LOSS=15]="DATA_LOSS";var nd=function(){function t(t,e){this.H=t,this.root=e||id.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,id.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,id.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new rd(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new rd(this.root,t,this.H,!1)},t.prototype.ne=function(){return new rd(this.root,null,this.H,!0)},t.prototype.se=function(t){return new rd(this.root,t,this.H,!0)},t}(),rd=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),id=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Tl();if(this.right.le())throw Tl();var t=this.left.Ie();if(t!==this.right.Ie())throw Tl();return t+(this.le()?0:1)},t}();id.EMPTY=null,id.RED=!0,id.Ht=!1,id.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Tl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Tl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new id(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var od=function(){function t(t){this.H=t,this.data=new nd(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new sd(this.data.te())},t.prototype.ee=function(t){return new sd(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),sd=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),ad=new nd(Xl.H);function ud(){return ad}function cd(){return ud()}var ld=new nd(Xl.H);function hd(){return ld}var fd=new nd(Xl.H);function dd(){return fd}var pd=new od(Xl.H);function gd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=pd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var yd=new od(kl);function bd(){return yd}var vd=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Xl.H(e.key,n.key)}:function(t,e){return Xl.H(t.key,e.key)},this.ge=hd(),this.Ve=new nd(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),md=function(){function t(){this.be=new nd(Xl.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Tl():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),wd=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,vd.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&hf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),_d=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Od.Le(e,n)),new t(Wl.min(),r,bd(),ud(),gd())},t}(),Od=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Rl.T,n,gd(),gd(),gd())},t}(),Ed=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Id=function(t,e){this.targetId=t,this.je=e},Sd=function(t,e,n,r){void 0===n&&(n=Rl.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Cd=function(){function t(){this.Ge=0,this.ze=Ad(),this.He=Rl.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=gd(),e=gd(),n=gd();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Tl()}}),new Od(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Ad()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Td=function(){function t(t){this.un=t,this.hn=new Map,this.ln=ud(),this._n=xd(),this.fn=new od(kl)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof jh?this.wn(r,t.We):t.We instanceof Nh&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Tl()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Lh(i))if(0===n){var o=new Xl(i.path);this.En(e,o,new Nh(o,Wl.min()))}else xl(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&Lh(o.target)){var s=new Xl(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new Nh(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=gd();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new _d(t,n,this.fn,this.ln,r);return this.ln=ud(),this._n=xd(),this.fn=new od(kl),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Cd,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new od(kl),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||El("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Cd),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function xd(){return new nd(Xl.H)}function Ad(){return new nd(Xl.H)}var jd={asc:"ASCENDING",desc:"DESCENDING"},Nd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kd=function(t,e){this.t=t,this.Bt=e};function Dd(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pd(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Rd(t,e){return Dd(t,e.j())}function Vd(t){return xl(!!t),Wl.K(function(t){var e=ih(t);return new $l(e.seconds,e.nanos)}(t))}function Ld(t,e){return function(t){return new Ql(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Fd(t){var e=Ql.ot(t);return xl(up(e)),e}function Md(t,e){return Ld(t.t,e.path)}function Ud(t,e){var n=Fd(e);if(n.get(1)!==t.t.projectId)throw new Ll(Vl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Ll(Vl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Xl(zd(n))}function Hd(t,e){return Ld(t.t,e)}function qd(t){var e=Fd(t);return 4===e.length?Ql.ct():zd(e)}function Bd(t){return new Ql(["projects",t.t.projectId,"databases",t.t.database]).rt()}function zd(t){return xl(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Gd(t,e,n){return{name:Md(t,e),fields:n.proto.mapValue.fields}}function $d(t,e,n){var r=Ud(t,e.name),i=Vd(e.updateTime),o=new Ch({mapValue:{fields:e.fields}});return new jh(r,i,o,{hasCommittedMutations:!!n})}function Wd(t,e){var n;if(e instanceof Bf)n={update:Gd(t,e.key,e.value)};else if(e instanceof Jf)n={delete:Md(t,e.key)};else if(e instanceof zf)n={update:Gd(t,e.key,e.data),updateMask:ap(e.Gt)};else{if(!(e instanceof Xf))return Tl();n={verify:Md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Sf)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cf)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof xf)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof jf)return{fieldPath:e.field.rt(),increment:n.Ut};throw Tl()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Rd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Tl()}(t,e.jt)),n}function Yd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Rf.updateTime(Vd(t.updateTime)):void 0!==t.exists?Rf.exists(t.exists):Rf.Kt()}(e.currentDocument):Rf.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(xl("REQUEST_TIME"===e.setToServerValue),n=new Sf):"appendMissingElements"in e?n=new Cf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xf(e.removeAllFromArray.values||[]):"increment"in e?n=new jf(t,e.increment):Tl();var r=Jl.lt(e.fieldPath);return new Df(r,n)}(t,e)}):[];if(e.update){var i=Ud(t,e.update.name),o=new Ch({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new nh((t.fieldPaths||[]).map(function(t){return Jl.lt(t)}))}(e.updateMask);return new zf(i,o,s,n,r)}return new Bf(i,o,n,r)}if(e.delete){var a=Ud(t,e.delete);return new Jf(a,n)}if(e.verify){var u=Ud(t,e.verify);return new Xf(u,n)}return Tl()}function Qd(t,e){return{documents:[Hd(t,e.path)]}}function Kd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Hd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hd(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ih(t.value))return{unaryFilter:{field:rp(t.field),op:"IS_NAN"}};if(Eh(t.value))return{unaryFilter:{field:rp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ih(t.value))return{unaryFilter:{field:rp(t.field),op:"IS_NOT_NAN"}};if(Eh(t.value))return{unaryFilter:{field:rp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rp(t.field),op:np(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:rp(t.field),direction:ep(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||lh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Zd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Zd(e.endAt)),n}function Jd(t){var e=qd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Xd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Qh(ip(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return lh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=tp(n.startAt));var l=null;return n.endAt&&(l=tp(n.endAt)),tf(e,i,a,s,u,"F",c,l)}function Xd(t){return t?void 0!==t.unaryFilter?[sp(t)]:void 0!==t.fieldFilter?[op(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Xd(t)}).reduce(function(t,e){return t.concat(e)}):Tl():[]}function Zd(t){return{before:t.before,values:t.position}}function tp(t){return new Wh(t.values||[],!!t.before)}function ep(t){return jd[t]}function np(t){return Nd[t]}function rp(t){return{fieldPath:t.rt()}}function ip(t){return Jl.lt(t.fieldPath)}function op(t){return Fh.create(ip(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Tl()}}(t.fieldFilter.op),t.fieldFilter.value)}function sp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ip(t.unaryFilter.field);return Fh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ip(t.unaryFilter.field);return Fh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ip(t.unaryFilter.field);return Fh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ip(t.unaryFilter.field);return Fh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Tl()}}function ap(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function up(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var cp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},lp=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Tl(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),hp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new cp,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new pp(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=mp(e.target.error);n.Bn.reject(new pp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new pp(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(El("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new yp(e)},t}(),fp=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(ys.g)())&&Il("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return El("SimpleDb","Removing database:",t),bp(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(ys.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(vl.b)(this,void 0,void 0,function(){var e,n=this;return Object(vl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(El("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new pp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ll(Vl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new pp(t,n))},i.onupgradeneeded=function(t){El("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){El("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(vl.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(vl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(vl.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=hp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),lp.reject(t)}).On(),u={},s.catch(function(){}),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return El("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),dp=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return bp(this.Zn.delete())},t}(),pp=function(t){function e(e,n){var r=this;return(r=t.call(this,Vl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(vl.c)(e,t),e}(Ll);function gp(t){return"IndexedDbTransactionError"===t.name}var yp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(El("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(El("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),bp(n)},t.prototype.add=function(t){return El("SimpleDb","ADD",this.store.name,t,t),bp(this.store.add(t))},t.prototype.get=function(t){var e=this;return bp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),El("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return El("SimpleDb","DELETE",this.store.name,t),bp(this.store.delete(t))},t.prototype.count=function(){return El("SimpleDb","COUNT",this.store.name),bp(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){El("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new lp(function(n,r){e.onerror=function(t){var e=mp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new lp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new dp(i),s=e(i.primaryKey,i.value,o);if(s instanceof lp){var a=s.catch(function(t){return o.done(),lp.reject(t)});n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return lp.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function bp(t){return new lp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=mp(t.target.error);n(e)}})}var vp=!1;function mp(t){var e=fp.Qn(Object(ys.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ll("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return vp||(vp=!0,setTimeout(function(){throw r},0)),r}}return t}var wp=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new cp,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Ll(Vl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function _p(t,e){if(Il("AsyncQueue",e+": "+t),gp(t))return new Ll(Vl.UNAVAILABLE,e+": "+t);throw t}var Op="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ep=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Ip(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cp(e)),e=Sp(t.get(n),e);return Cp(e)}function Sp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Cp(t){return t+"\x01\x01"}function Tp(t){var e=t.length;if(xl(e>=2),2===e)return xl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ql.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Tl(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Tl()}o=s+2}return new Ql(r)}var xp=function(t,e){this.seconds=t,this.nanoseconds=e},Ap=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ap.store="owner",Ap.key="owner";var jp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};jp.store="mutationQueues",jp.keyPath="userId";var Np=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Np.store="mutations",Np.keyPath="batchId",Np.userMutationsIndex="userMutationsIndex",Np.userMutationsKeyPath=["userId","batchId"];var kp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ip(e)]},t.key=function(t,e,n){return[t,Ip(e),n]},t}();kp.store="documentMutations",kp.PLACEHOLDER=new kp;var Dp=function(t,e){this.path=t,this.readTime=e},Pp=function(t,e){this.path=t,this.version=e},Rp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Rp.store="remoteDocuments",Rp.readTimeIndex="readTimeIndex",Rp.readTimeIndexPath="readTime",Rp.collectionReadTimeIndex="collectionReadTimeIndex",Rp.collectionReadTimeIndexPath=["parentPath","readTime"];var Vp=function(t){this.byteSize=t};Vp.store="remoteDocumentGlobal",Vp.key="remoteDocumentGlobalKey";var Lp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Lp.store="targets",Lp.keyPath="targetId",Lp.queryTargetsIndexName="queryTargetsIndex",Lp.queryTargetsKeyPath=["canonicalId","targetId"];var Fp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Fp.store="targetDocuments",Fp.keyPath=["targetId","path"],Fp.documentTargetsIndex="documentTargetsIndex",Fp.documentTargetsKeyPath=["path","targetId"];var Mp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Mp.key="targetGlobalKey",Mp.store="targetGlobal";var Up=function(t,e){this.collectionId=t,this.parent=e};Up.store="collectionParents",Up.keyPath=["collectionId","parent"];var Hp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Hp.store="clientMetadata",Hp.keyPath="clientId";var qp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};qp.store="bundles",qp.keyPath="bundleId";var Bp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Bp.store="namedQueries",Bp.keyPath="name";var zp=Object(vl.g)(Object(vl.g)(Object(vl.g)(Object(vl.g)([jp.store,Np.store,kp.store,Rp.store,Lp.store,Ap.store,Mp.store,Fp.store],[Hp.store]),[Vp.store]),[Up.store]),[qp.store,Bp.store]),Gp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(vl.c)(e,t),e}(Ep);function $p(t,e){var n=Al(t);return fp.zn(n.ps,e)}var Wp=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ff(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Mf(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Mf(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},gd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Dl(this.mutations,t.mutations,function(t,e){return Hf(t,e)})&&Dl(this.baseMutations,t.baseMutations,function(t,e){return Hf(t,e)})},t}(),Yp=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){xl(e.mutations.length===r.length);for(var i=dd(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Qp=function(t){this.Fs=t};function Kp(t,e){if(e.document)return $d(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Xl.Et(e.noDocument.path),r=eg(e.noDocument.readTime);return new Nh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Xl.Et(e.unknownDocument.path);return r=eg(e.unknownDocument.version),new kh(i,r)}return Tl()}function Jp(t,e,n){var r=Xp(n),i=e.key.path.X().it();if(e instanceof jh){var o=function(t,e){return{name:Md(t,e.key),fields:e.bt().mapValue.fields,updateTime:Dd(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Rp(null,null,o,s,r,i)}if(e instanceof Nh){var a=e.key.path.it(),u=tg(e.version);return s=e.hasCommittedMutations,new Rp(null,new Dp(a,u),null,s,r,i)}if(e instanceof kh){var c=e.key.path.it(),l=tg(e.version);return new Rp(new Pp(c,l),null,null,!0,r,i)}return Tl()}function Xp(t){var e=t.j();return[e.seconds,e.nanoseconds]}function Zp(t){var e=new $l(t[0],t[1]);return Wl.K(e)}function tg(t){var e=t.j();return new xp(e.seconds,e.nanoseconds)}function eg(t){var e=new $l(t.seconds,t.nanoseconds);return Wl.K(e)}function ng(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Yd(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Yd(t.Fs,e)}),o=$l.fromMillis(e.localWriteTimeMs);return new Wp(e.batchId,o,n,i)}function rg(t){var e,n,r=eg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?eg(t.lastLimboFreeSnapshotVersion):Wl.min();return void 0!==t.query.documents?(xl(1===(n=t.query).documents.length),e=cf(ef(qd(n.documents[0])))):e=function(t){return cf(Jd(t))}(t.query),new bf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Rl.fromBase64String(t.resumeToken))}function ig(t,e){var n,r=tg(e.Ot),i=tg(e.lastLimboFreeSnapshotVersion);n=Lh(e.target)?Qd(t.Fs,e.target):Kd(t.Fs,e.target);var o=e.resumeToken.toBase64();return new Lp(e.targetId,Rh(e.target),r,o,e.sequenceNumber,i,n)}function og(t){var e=Jd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?lf(e,e.limit,"L"):e}var sg=function(){function t(){}return t.prototype.Os=function(t,e){return ag(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:eg(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return ag(t).put({bundleId:(n=e).id,createTime:tg(Vd(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return ug(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:og(e.bundledQuery),readTime:eg(e.readTime)};var e})},t.prototype.Ls=function(t,e){return ug(t).put(function(t){return{name:t.name,readTime:tg(Vd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ag(t){return $p(t,qp.store)}function ug(t){return $p(t,Bp.store)}var cg=function(){function t(){this.Bs=new lg}return t.prototype.qs=function(t,e){return this.Bs.add(e),lp.resolve()},t.prototype.Us=function(t,e){return lp.resolve(this.Bs.getEntries(e))},t}(),lg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new od(Ql.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new od(Ql.H)).it()},t}(),hg=function(){function t(){this.Qs=new lg}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Ip(i)};return fg(t).put(o)}return lp.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Pl(e),""],!1,!0);return fg(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Tp(o.parent))}return n})},t}();function fg(t){return $p(t,Up.store)}var dg={Ks:!1,Ws:0,js:0,Gs:0},pg=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function gg(t){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(e){if(t.code!==Vl.FAILED_PRECONDITION||t.message!==Op)throw t;return El("LocalStore","Unexpectedly lost primary lease"),[2]})})}pg.Xs=10,pg.Zs=1e3,pg.ti=new pg(41943040,pg.Xs,pg.Zs),pg.ei=new pg(-1,0,0);var yg=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){th(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return eh(this.ii)},t}(),bg=function(){function t(){this.ri=new yg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:Wl.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?lp.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function vg(t,e,n){var r=t.store(Np.store),i=t.store(kp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){xl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=kp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return lp.Mn(o).next(function(){return c})}function mg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Tl();e=t.noDocument}return JSON.stringify(e).length}var wg=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return xl(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Og(t).hs({index:Np.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=Eg(t),s=Og(t);return s.add({}).next(function(a){xl("number"==typeof a);for(var u=new Wp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Wd(t.Fs,e)}),i=n.mutations.map(function(e){return Wd(t.Fs,e)});return new Np(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new od(function(t,e){return kl(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=kp.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,kp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[a]=u.keys()}),lp.Mn(l).next(function(){return u})})},t.prototype.Pi=function(t,e){var n=this;return Og(t).get(e).next(function(t){return t?(xl(t.userId===n.userId),ng(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?lp.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Og(t).hs({index:Np.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(xl(e.batchId>=r),o=ng(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Og(t).hs({index:Np.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Og(t).rs(Np.userMutationsIndex,n).next(function(t){return t.map(function(t){return ng(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=kp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Eg(t).hs({range:i},function(r,i,s){var a=r[0],u=r[2],c=Tp(r[1]);if(a===n.userId&&e.path.isEqual(c))return Og(t).get(u).next(function(t){if(!t)throw Tl();xl(t.userId===n.userId),o.push(ng(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new od(kl),i=[];return e.forEach(function(e){var o=kp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Eg(t).hs({range:s},function(t,i,o){var s=t[0],a=t[2],u=Tp(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),lp.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=kp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new od(kl);return Eg(t).hs({range:s},function(t,e,o){var s=t[0],u=t[2],c=Tp(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Si(t,a)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Og(t).get(e).next(function(t){if(null===t)throw Tl();xl(t.userId===n.userId),r.push(ng(n.Qt,t))}))}),lp.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return vg(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),lp.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return lp.resolve();var r=IDBKeyRange.lowerBound(kp.prefixForUser(e.userId)),i=[];return Eg(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Tp(t[1]);i.push(o)}else r.done()}).next(function(){xl(0===i.length)})})},t.prototype.Fi=function(t,e){return _g(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Ig(t).get(this.userId).next(function(t){return t||new jp(e.userId,-1,"")})},t}();function _g(t,e,n){var r=kp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Eg(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Og(t){return $p(t,Np.store)}function Eg(t){return $p(t,kp.store)}function Ig(t){return $p(t,jp.store)}var Sg=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Cg=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Sg(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return Wl.K(new $l(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Tg(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return xl(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Tg(t).hs(function(s,a){var u=rg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))}).next(function(){return lp.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return Tg(t).hs(function(t,n){var r=rg(n);e(r)})},t.prototype.qi=function(t){return xg(t).get(Mp.key).next(function(t){return xl(null!==t),t})},t.prototype.Ui=function(t,e){return xg(t).put(Mp.key,e)},t.prototype.Gi=function(t,e){return Tg(t).put(ig(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=Rh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Tg(t).hs({range:r,index:Lp.queryTargetsIndexName},function(t,n,r){var o=rg(n);Vh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=Ag(t);return e.forEach(function(e){var s=Ip(e.path);i.push(o.put(new Fp(n,s))),i.push(r.Ti.nr(t,n,e))}),lp.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Ag(t);return lp.forEach(e,function(e){var o=Ip(e.path);return lp.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Ag(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ag(t),i=gd();return r.hs({range:n,us:!0},function(t,e,n){var r=Tp(t[1]),o=new Xl(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Ip(e.path),r=IDBKeyRange.bound([n],[Pl(n)],!1,!0),i=0;return Ag(t).hs({index:Fp.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Tg(t).get(e).next(function(t){return t?rg(t):null})},t}();function Tg(t){return $p(t,Lp.store)}function xg(t){return $p(t,Mp.store)}function Ag(t){return $p(t,Fp.store)}function jg(t,e){var n=t[1],r=e[1],i=kl(t[0],e[0]);return 0===i?kl(n,r):i}var Ng=function(){function t(t){this.cr=t,this.buffer=new od(jg),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();jg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),kg=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;El("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(vl.b)(e,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return gp(e=n.sent())?(El("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,gg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),Dg=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return lp.resolve(Gl.q);var r=new Ng(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(El("LruGarbageCollector","Garbage collection skipped; disabled"),lp.resolve(dg)):this.pr(t).next(function(r){return r<n.params.zs?(El("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),dg):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(El("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.gr(t,n)}).next(function(t){return u=Date.now(),Ol()<=gs.a.DEBUG&&El("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),lp.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),Pg=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Dg(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return Rg(t,n)},t.prototype.ir=function(t,e,n){return Rg(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Rg(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Ig(t).ls(function(r){return _g(t,r,e).next(function(t){return t&&(n=!0),lp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,a){if(a<=e){var u=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),Ag(t).delete([0,Ip(s.path)])})});i.push(u)}}).next(function(){return lp.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Rg(t,e)},t.prototype.Dr=function(t,e){var n,r=Ag(t),i=Gl.q;return r.hs({index:Fp.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Gl.q&&e(new Xl(Tp(n)),i),i=s,n=o):i=Gl.q}).next(function(){i!==Gl.q&&e(new Xl(Tp(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Rg(t,e){return Ag(t).put(function(t,e){return new Fp(0,Ip(t.path),e)}(e,t.bs))}var Vg=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Mg(t).put(Ug(e),n)},t.prototype.li=function(t,e){var n=Mg(t),r=Ug(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return Mg(t).get(Ug(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return Mg(t).get(Ug(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:mg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=cd();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=cd(),i=new nd(Xl.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,mg(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return lp.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return Mg(t).hs({range:r},function(t,e,r){for(var s=Xl.Et(t);o&&Xl.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=hd(),o=e.path.length+1,s={};if(n.isEqual(Wl.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=Xp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Rp.collectionReadTimeIndex}return Mg(t).hs(s,function(t,n,s){if(t.length===o){var a=Kp(r.Qt,n);e.path.nt(a.key.path)?a instanceof jh&&pf(e,a)&&(i=i.zt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new Lg(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Fg(t).get(Vp.key).next(function(t){return xl(!!t),t})},t.prototype.kr=function(t,e){return Fg(t).put(Vp.key,e)},t.prototype.Mr=function(t){if(t){var e=Kp(this.Qt,t);return e instanceof Nh&&e.version.isEqual(Wl.min())?null:e}return null},t}(),Lg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new yg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(vl.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new od(function(t,e){return kl(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var a=e.Gr.get(o);if(s.hi){var u=Jp(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=mg(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=Jp(e.jr.Qt,new Nh(o,Wl.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),lp.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(bg);function Fg(t){return $p(t,Vp.store)}function Mg(t){return $p(t,Rp.store)}function Ug(t){return t.path.it()}var Hg=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;xl(n<r&&n>=0&&r<=11);var o=new hp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ap.store)}(t),function(t){t.createObjectStore(jp.store,{keyPath:jp.keyPath}),t.createObjectStore(Np.store,{keyPath:Np.keyPath,autoIncrement:!0}).createIndex(Np.userMutationsIndex,Np.userMutationsKeyPath,{unique:!0}),t.createObjectStore(kp.store)}(t),qg(t),function(t){t.createObjectStore(Rp.store)}(t));var s=lp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Fp.store),t.deleteObjectStore(Lp.store),t.deleteObjectStore(Mp.store)}(t),qg(t)),s=s.next(function(){return function(t){var e=t.store(Mp.store),n=new Mp(0,0,Wl.min().j(),0);return e.put(Mp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Np.store).rs().next(function(n){t.deleteObjectStore(Np.store),t.createObjectStore(Np.store,{keyPath:Np.keyPath,autoIncrement:!0}).createIndex(Np.userMutationsIndex,Np.userMutationsKeyPath,{unique:!0});var r=e.store(Np.store),i=n.map(function(t){return r.put(t)});return lp.Mn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Hp.store,{keyPath:Hp.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Vp.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Rp.store);e.createIndex(Rp.readTimeIndex,Rp.readTimeIndexPath,{unique:!1}),e.createIndex(Rp.collectionReadTimeIndex,Rp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(qp.store,{keyPath:qp.keyPath})}(t),function(t){t.createObjectStore(Bp.store,{keyPath:Bp.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(Rp.store).hs(function(t,n){e+=mg(n)}).next(function(){var n=new Vp(e);return t.store(Vp.store).put(Vp.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(jp.store),r=t.store(Np.store);return n.rs().next(function(n){return lp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(Np.userMutationsIndex,i).next(function(r){return lp.forEach(r,function(r){xl(r.userId===n.userId);var i=ng(e.Qt,r);return vg(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(Fp.store),n=t.store(Rp.store);return t.store(Mp.store).get(Mp.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new Ql(n),s=function(t){return[0,Ip(t)]}(o);r.push(e.get(s).next(function(n){return n?lp.resolve():function(n){return e.put(new Fp(0,Ip(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return lp.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(Up.store,{keyPath:Up.keyPath});var n=e.store(Up.store),r=new lg,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Ip(i)})}};return e.store(Rp.store).hs({us:!0},function(t,e){var n=new Ql(t);return i(n.X())}).next(function(){return e.store(kp.store).hs({us:!0},function(t,e){var n=Tp(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(Lp.store);return n.hs(function(t,r){var i=rg(r),o=ig(e.Qt,i);return n.put(o)})},t}();function qg(t){t.createObjectStore(Fp.store,{keyPath:Fp.keyPath}).createIndex(Fp.documentTargetsIndex,Fp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Lp.store,{keyPath:Lp.keyPath}).createIndex(Lp.queryTargetsIndexName,Lp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Mp.store)}var Bg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zg=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Ll(Vl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Pg(this,i),this.ho=n+"main",this.Qt=new Qp(u),this.lo=new fp(this.ho,11,new Hg(this.Qt)),this._o=new Cg(this.Ti,this.Qt),this.Ei=new hg,this.fo=function(t,e){return new Vg(t,e)}(this.Qt,this.Ei),this.wo=new sg,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Il("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ll(Vl.FAILED_PRECONDITION,Bg);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new Gl(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(vl.b)(e,void 0,void 0,function(){return Object(vl.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(vl.b)(e,void 0,void 0,function(){return Object(vl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(vl.b)(e,void 0,void 0,function(){return Object(vl.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return $g(e).put(new Hp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(gp(e))return El("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return El("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return Gg(t).get(Ap.key).next(function(t){return lp.resolve(e.Do(t))})},t.prototype.Co=function(t){return $g(t).delete(this.clientId)},t.prototype.xo=function(){return Object(vl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(vl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=$p(t,Hp.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return lp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?lp.resolve(!0):Gg(t).get(Ap.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Ll(Vl.FAILED_PRECONDITION,Bg);return!1}}return!(!e.networkEnabled||!e.inForeground)||$g(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&El("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(vl.b)(this,void 0,void 0,function(){var t=this;return Object(vl.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Ap.store,Hp.store],function(e){var n=new Gp(e,Gl.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return $g(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return wg.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return El("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",zp,function(o){return r=new Gp(o,i.so?i.so.next():Gl.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Il("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new Ll(Vl.FAILED_PRECONDITION,Op);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return Gg(t).get(Ap.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ll(Vl.FAILED_PRECONDITION,Bg)})},t.prototype.So=function(t){var e=new Ap(this.clientId,this.allowTabSynchronization,Date.now());return Gg(t).put(Ap.key,e)},t.Kn=function(){return fp.Kn()},t.prototype.vo=function(t){var e=this,n=Gg(t);return n.get(Ap.key).next(function(t){return e.Do(t)?(El("IndexedDbPersistence","Releasing primary lease."),n.delete(Ap.key)):lp.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Il("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return El("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Il("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Il("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Gg(t){return $p(t,Ap.store)}function $g(t){return $p(t,Hp.store)}function Wg(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Yg=function(t,e){this.progress=t,this.Go=e},Qg=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=cd();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=ud();return i.forEach(function(t,e){e||(e=new Nh(t,Wl.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return Xl.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):af(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Xl(e)).next(function(t){var e=hd();return t instanceof jh&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=hd();return this.Ei.Us(t,i).next(function(s){return lp.forEach(s,function(s){var a=function(t,e){return new Zh(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Mf(u,r.get(c),o.vs);r=l instanceof jh?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){pf(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=gd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof zf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof jh&&(c=c.zt(t,e))}),c})},t}(),Kg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=gd(),i=gd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Jg=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(Wl.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(nf(e)||rf(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Ol()<=gs.a.DEBUG&&El("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),df(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new od(gf(t));return e.forEach(function(e,r){r instanceof jh&&pf(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Ol()<=gs.a.DEBUG&&El("QueryEngine","Using full collection scan to execute query:",df(e)),this.ac.Kr(t,e,Wl.min())},t}(),Xg=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new nd(kl),this.dc=new yg(function(t){return Rh(t)},Vh),this.wc=Wl.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new Qg(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function Zg(t,e,n,r){return new Xg(t,e,n,r)}function ty(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(vl.d)(this,function(s){switch(s.label){case 0:return n=Al(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new Qg(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=gd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)s=s.add(y[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function ey(t,e){var n=Al(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=lp.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.$s.get(t);xl(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function ny(t){var e=Al(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function ry(t,e){var n=Al(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach(function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return xl(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}});var a=ud();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))}),s.push(iy(t,o,e.Oe,r,void 0).next(function(t){a=t})),!r.isEqual(Wl.min())){var u=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(u)}return lp.Mn(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,a)})}).then(function(t){return n.fc=i,t})}function iy(t,e,n,r,i){var o=gd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ud();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Nh&&s.version.isEqual(Wl.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):El("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function oy(t,e){var n=Al(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function sy(t,e){var n=Al(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?lp.resolve(r=i):n._o.Bi(t).next(function(i){return r=new bf(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function ay(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(vl.d)(this,function(a){switch(a.label){case 0:r=Al(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!gp(s=a.sent()))throw s;return El("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function uy(t,e,n){var r=Al(t),i=Wl.min(),o=gd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Al(t),i=r.dc.get(n);return void 0!==i?lp.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,cf(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:Wl.min(),n?o:gd())}).next(function(t){return{documents:t,Rc:o}})})}function cy(t,e){var n=Al(t),r=Al(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function ly(t){var e=Al(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Al(t),i=ud(),o=Xp(n),s=Mg(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Rp.readTimeIndex,range:a},function(t,e){var n=Kp(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:Zp(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function hy(t){return Object(vl.b)(this,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){return[2,(e=Al(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Mg(t),n=Wl.min();return e.hs({index:Rp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Zp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function fy(t,e,n,r){return Object(vl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(vl.d)(this,function(p){switch(p.label){case 0:for(i=Al(t),o=gd(),s=ud(),a=dd(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,sy(i,function(t){return cf(ef(Ql.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return iy(t,f,s,Wl.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function dy(t,e,n){return void 0===n&&(n=gd()),Object(vl.b)(this,void 0,void 0,function(){var r,i;return Object(vl.d)(this,function(o){switch(o.label){case 0:return[4,sy(t,cf(og(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Al(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Vd(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(Rl.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var py=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return lp.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Vd(n.createTime)}),lp.resolve()},t.prototype.Ms=function(t,e){return lp.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:og(t.bundledQuery),readTime:Vd(t.readTime)}}(e)),lp.resolve()},t}(),gy=function(){function t(){this.vc=new od(yy.Sc),this.Dc=new od(yy.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new yy(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new yy(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new Xl(new Ql([])),r=new yy(n,t),i=new yy(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new Xl(new Ql([])),n=new yy(e,t),r=new yy(e,t+1),i=gd();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new yy(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),yy=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return Xl.H(t.key,e.key)||kl(t.Mc,e.Mc)},t.Cc=function(t,e){return kl(t.Mc,e.Mc)||Xl.H(t.key,e.key)},t}(),by=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new od(yy.Sc)}return t.prototype.Ai=function(t){return lp.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new Wp(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new yy(u.key,i)),this.Ei.qs(t,u.key.path.X())}return lp.resolve(o)},t.prototype.Pi=function(t,e){return lp.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return lp.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return lp.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return lp.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new yy(e,0),i=new yy(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),lp.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new od(kl);return e.forEach(function(t){var e=new yy(t,0),i=new yy(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),lp.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Xl.wt(i)||(i=i.child(""));var o=new yy(new Xl(i),0),s=new od(kl);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),lp.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;xl(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return lp.forEach(e.mutations,function(i){var o=new yy(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new yy(e,0),r=this.Bc.Re(n);return lp.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return lp.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),vy=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new nd(Xl.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return lp.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=cd();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),lp.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=hd(),i=new Xl(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.value,u=a.hi,c=a.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||u instanceof jh&&pf(e,u)&&(r=r.zt(u.key,u))}return lp.resolve(r)},t.prototype.jc=function(t,e){return lp.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new my(this)},t.prototype.Or=function(t){return lp.resolve(this.size)},t}(),my=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(vl.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),lp.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(bg),wy=function(){function t(t){this.persistence=t,this.Gc=new yg(function(t){return Rh(t)},Vh),this.lastRemoteSnapshotVersion=Wl.min(),this.highestTargetId=0,this.zc=0,this.Hc=new gy,this.targetCount=0,this.Jc=Sg.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),lp.resolve()},t.prototype.Qi=function(t){return lp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return lp.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),lp.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),lp.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Sg(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,lp.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),lp.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,lp.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)}),lp.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return lp.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return lp.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),lp.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),lp.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),lp.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return lp.resolve(n)},t.prototype.Fi=function(t,e){return lp.resolve(this.Hc.Fi(e))},t}(),_y=function(){function t(t,e){var n=this;this.Yc={},this.so=new Gl(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new wy(this),this.Ei=new cg,this.fo=function(t,e){return new vy(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new Qp(e),this.wo=new py(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new by(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;El("MemoryPersistence","Starting transaction:",t);var i=new Oy(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return lp.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),Oy=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(vl.c)(e,t),e}(Ep),Ey=function(){function t(t){this.persistence=t,this.na=new gy,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Tl()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),lp.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),lp.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),lp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return lp.forEach(this.ra,function(r){var i=Xl._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return lp.Ln([function(){return lp.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Iy(t,e){return"firestore_clients_"+t+"_"+e}function Sy(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Cy(t,e){return"firestore_targets_"+t+"_"+e}var Ty=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ll(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Il("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xy=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ll(i.error.code,i.error.message)),o?new t(e,i.state,r):(Il("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ay=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=bd(),s=0;i&&s<r.activeTargetIds.length;++s)i=fh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Il("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),jy=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Il("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ny=function(){function t(){this.activeTargetIds=bd()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ky=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new nd(kl),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Iy(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Ny),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(vl.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(vl.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Iy(this.persistenceKey,r)))&&(o=Ay.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Cy(this.persistenceKey,t));if(n){var r=xy.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Cy(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return El("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){El("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){El("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(El("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Il("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(vl.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(vl.d)(this,function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=Gl.q;if(null!=t)try{var n=JSON.parse(t);xl("number"==typeof n),e=n}catch(t){Il("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Gl.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Ty(this.currentUser,t,e,n),i=Sy(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Sy(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Cy(this.persistenceKey,t),i=new xy(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Ay.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Ty.ca(new Ml(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return xy.ca(r,e)},t.prototype.pa=function(t){return jy.ca(t)},t.prototype.Ya=function(t){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(El("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this._a.su(s,a).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=bd();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),Dy=function(){function t(){this.iu=new Ny,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Ny,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Py=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Ry=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){El("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){El("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Vy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ly=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Fy=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(vl.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new bl;s.listenOnce(pl.COMPLETE,function(){try{switch(s.getLastErrorCode()){case dl.NO_ERROR:var e=s.getResponseJson();El("Connection","XHR received:",JSON.stringify(e)),i(e);break;case dl.TIMEOUT:El("Connection",'RPC "'+t+'" timed out'),o(new Ll(Vl.DEADLINE_EXCEEDED,"Request time out"));break;case dl.HTTP_ERROR:var n=s.getStatus();if(El("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Vl).indexOf(e)>=0?e:Vl.UNKNOWN}(r.status);o(new Ll(a,r.message))}else o(new Ll(Vl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ll(Vl.UNAVAILABLE,"Connection failed."));break;default:Tl()}}finally{El("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ul,i=hu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(ys.l)()||Object(ys.n)()||Object(ys.j)()||Object(ys.k)()||Object(ys.o)()||Object(ys.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");El("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Ly({fu:function(t){c?El("Connection","Not sending because WebChannel is closed:",t):(u||(El("Connection","Opening WebChannel transport."),a.open(),u=!0),El("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,yl.EventType.OPEN,function(){c||El("Connection","WebChannel transport opened.")}),h(a,yl.EventType.CLOSE,function(){c||(c=!0,El("Connection","WebChannel transport closed"),l.Ru())}),h(a,yl.EventType.ERROR,function(t){c||(c=!0,Sl("Connection","WebChannel transport errored:",t),l.Ru(new Ll(Vl.UNAVAILABLE,"The operation could not be completed")))}),h(a,yl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];xl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){El("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Qf[t];if(void 0!==e)return ed(e)}(i),s=r.message;void 0===o&&(o=Vl.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new Ll(o,s)),a.close()}else El("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,gl.STAT_EVENT,function(t){10===t.stat?El("Connection","Detected buffering proxy"):11===t.stat&&El("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);El("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return El("RestConnection","Received: ",t),t},function(e){throw Sl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Vy[t]},t}());function My(){return"undefined"!=typeof window?window:null}function Uy(){return"undefined"!=typeof document?document:null}function Hy(t){return new kd(t,!0)}var qy=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&El("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),By=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new qy(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Vl.RESOURCE_EXHAUSTED?(Il(e.toString()),Il("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Vl.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new Ll(Vl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(vl.b)(t,void 0,void 0,function(){return Object(vl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return El("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(El("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),zy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(vl.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Tl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(xl(void 0===e||"string"==typeof e),Rl.fromBase64String(e||"")):(xl(void 0===e||e instanceof Uint8Array),Rl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Vl.UNKNOWN:ed(t.code);return new Ll(e,t.message||"")}(a);n=new Sd(r,i,o,s||null)}else if("documentChange"in e){i=Ud(t,(r=e.documentChange).document.name),o=Vd(r.document.updateTime);var a=new Ch({mapValue:{fields:r.document.fields}}),u=(s=new jh(i,o,a,{}),r.targetIds||[]);n=new Ed(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Ud(t,(r=e.documentDelete).document),o=r.readTime?Vd(r.readTime):Wl.min(),a=new Nh(i,o),n=new Ed([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ud(t,(r=e.documentRemove).document),n=new Ed([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Tl();var c=e.filter;i=new Zf(r=c.count||0),n=new Id(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return Wl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Wl.min():e.readTime?Vd(e.readTime):Wl.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Bd(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Lh(r)?{documents:Qd(t,r)}:{query:Kd(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Pd(t,e.resumeToken):e.Ot._(Wl.min())>0&&(n.readTime=Dd(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tl()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Bd(this.Qt),e.removeTarget=t,this.th(e)},e}(By),Gy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(vl.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(xl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(xl(void 0!==e),t.map(function(t){return function(t,e){var n=Vd(t.updateTime?t.updateTime:e);n.isEqual(Wl.min())&&(n=Vd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Pf(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Vd(t.commitTime);return this.listener.dh(n,e)}return xl(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Bd(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Wd(e.Qt,t)})};this.th(n)},e}(By),$y=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(vl.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Ll(Vl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===Vl.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===Vl.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),Wy=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Il(e),this.Rh=!1):El("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),Yy=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(vl.b)(o,void 0,void 0,function(){return Object(vl.d)(this,function(t){switch(t.label){case 0:return rb(this)?(El("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(vl.b)(this,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){switch(n.label){case 0:return(e=Al(t)).Nh.add(4),[4,Ky(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,Qy(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new Wy(n,r)};function Qy(t){return Object(vl.b)(this,void 0,void 0,function(){var e,n;return Object(vl.d)(this,function(r){switch(r.label){case 0:if(!rb(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ky(t){return Object(vl.b)(this,void 0,void 0,function(){var e,n;return Object(vl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Jy(t,e){var n=Al(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),nb(n)?eb(n):vb(n).Hu()&&Zy(n,e))}function Xy(t,e){var n=Al(t),r=vb(n);n.xh.delete(e),r.Hu()&&tb(n,e),0===n.xh.size&&(r.Hu()?r.Xu():rb(n)&&n.Oh.set("Unknown"))}function Zy(t,e){t.kh.on(e.targetId),vb(t).uh(e)}function tb(t,e){t.kh.on(e),vb(t).hh(e)}function eb(t){t.kh=new Td({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),vb(t).start(),t.Oh.Ph()}function nb(t){return rb(t)&&!vb(t).zu()&&t.xh.size>0}function rb(t){return 0===Al(t).Nh.size}function ib(t){t.kh=void 0}function ob(t){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(e){return t.xh.forEach(function(e,n){Zy(t,e)}),[2]})})}function sb(t,e){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(n){return ib(t),nb(t)?(t.Oh.Vh(e),eb(t)):t.Oh.set("Unknown"),[2]})})}function ab(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r,i,o;return Object(vl.d)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Sd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(vl.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),El("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ub(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ed?t.kh.dn(e):e instanceof Id?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(Wl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ny(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Rl.T,n.Ot)),tb(t,e);var r=new bf(n.target,e,1,n.sequenceNumber);Zy(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return El("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ub(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function ub(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r=this;return Object(vl.d)(this,function(i){switch(i.label){case 0:if(!gp(e))throw e;return t.Nh.add(1),[4,Ky(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return ny(t.bh)}),t._s.po(function(){return Object(vl.b)(r,void 0,void 0,function(){return Object(vl.d)(this,function(e){switch(e.label){case 0:return El("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,Qy(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function cb(t,e){return e().catch(function(n){return ub(t,n,e)})}function lb(t){return Object(vl.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(vl.d)(this,function(s){switch(s.label){case 0:e=Al(t),n=mb(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return rb(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,oy(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=mb(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,ub(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return hb(e)&&fb(e),[2]}})})}function hb(t){return rb(t)&&!mb(t).zu()&&t.Ch.length>0}function fb(t){mb(t).start()}function db(t){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(e){return mb(t).Eh(),[2]})})}function pb(t){return Object(vl.b)(this,void 0,void 0,function(){var e,n,r;return Object(vl.d)(this,function(i){for(e=mb(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function gb(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r,i;return Object(vl.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=Yp.from(r,e,n),[4,cb(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,lb(t)];case 2:return o.sent(),[2]}})})}function yb(t,e){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(n){switch(n.label){case 0:return e&&mb(t)._h?[4,function(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r;return Object(vl.d)(this,function(i){switch(i.label){case 0:return td(r=e.code)&&r!==Vl.ABORTED?(n=t.Ch.shift(),mb(t).Yu(),[4,cb(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,lb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return hb(t)&&fb(t),[2]}})})}function bb(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n;return Object(vl.d)(this,function(r){switch(r.label){case 0:return n=Al(t),e?(n.Nh.delete(2),[4,Qy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Ky(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function vb(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Al(t);return r.Ih(),new zy(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:ob.bind(null,t),Tu:sb.bind(null,t),ah:ab.bind(null,t)}),t.$h.push(function(n){return Object(vl.b)(e,void 0,void 0,function(){return Object(vl.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),nb(t)?eb(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),ib(t),e.label=3;case 3:return[2]}})})})),t.Uh}function mb(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Al(t);return r.Ih(),new Gy(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:db.bind(null,t),Tu:yb.bind(null,t),wh:pb.bind(null,t),dh:gb.bind(null,t)}),t.$h.push(function(n){return Object(vl.b)(e,void 0,void 0,function(){return Object(vl.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,lb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(El("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var wb=function(){this.Kh=void 0,this.listeners=[]},_b=function(){this.queries=new yg(function(t){return ff(t)},hf),this.onlineState="Unknown",this.Wh=new Set};function Ob(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(vl.d)(this,function(c){switch(c.label){case 0:if(n=Al(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new wb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=_p(a,"Initialization of query '"+df(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Cb(n),[2]}})})}function Eb(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(vl.d)(this,function(a){return n=Al(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Ib(t,e){for(var n=Al(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].zh(s)&&(r=!0);a.Kh=s}}r&&Cb(n)}function Sb(t,e,n){var r=Al(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Cb(t){t.Wh.forEach(function(t){t.next()})}var Tb=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new wd(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=wd.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),xb=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Ab=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Ud(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?$d(this.Qt,t.document,!1):new Nh(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Vd(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Ab(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||gd()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(vl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(vl.d)(this,function(o){switch(o.label){case 0:return[4,fy(this.bh,new Ab(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,dy(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Yg(Object.assign({},this.progress),t))]}})})}}();var jb=function(t){this.key=t},Nb=function(t){this.key=t},kb=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=gd(),this.De=gd(),this.hl=gf(t),this.ll=new vd(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new md,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=nf(this.query)&&i.size===this.query.limit?i.last():null,c=rf(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof jh?e:null;h&&(h=pf(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),nf(this.query)||rf(this.query))for(;s.size>this.query.limit;){var l=nf(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tl()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new wd(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new md,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=gd(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new Nb(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new jb(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=gd();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return wd.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Db=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Pb=function(t){this.key=t,this.Pl=!1},Rb=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new yg(function(t){return ff(t)},hf),this.Sl=new Map,this.Dl=new Set,this.Cl=new nd(Xl.H),this.xl=new Map,this.Nl=new gy,this.$l={},this.Fl=new Map,this.Ol=Sg.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Vb(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(vl.d)(this,function(a){switch(a.label){case 0:return n=hv(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,sy(n.bh,cf(e))];case 2:return o=a.sent(),s=n.Vl.Fa(o.targetId),[4,Lb(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Ml&&Jy(n.yl,o),a.label=4;case 4:return[2,r]}})})}function Lb(t,e,n,r){return Object(vl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(vl.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(vl.b)(this,void 0,void 0,function(){var i,o,s;return Object(vl.d)(this,function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,uy(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(Kb(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,uy(t.bh,e,!0)];case 1:return i=l.sent(),o=new kb(e,i.Rc),s=o.fl(i.documents),a=Od.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),Kb(t,n,u.Il),c=new Db(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}})})}function Fb(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i;return Object(vl.d)(this,function(o){switch(o.label){case 0:return n=Al(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!hf(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,ay(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),Xy(n.yl,r.targetId),Yb(n,r.targetId)}).catch(gg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Yb(n,r.targetId),[4,ay(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Mb(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(vl.d)(this,function(a){switch(a.label){case 0:r=fv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Al(t),i=$l.now(),o=e.reduce(function(t,e){return t.add(e.key)},gd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Uf(c,n.get(c.key));null!=l&&s.push(new zf(c.key,l,xh(l.proto.mapValue),Rf.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new nd(kl)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,Zb(r,i.ri)];case 3:return a.sent(),[4,lb(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=_p(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Ub(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r;return Object(vl.d)(this,function(i){switch(i.label){case 0:n=Al(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ry(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(xl(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?xl(r.Pl):t.Qe.size>0&&(xl(r.Pl),r.Pl=!1))}),[4,Zb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,gg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Hb(t,e,n){var r=Al(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Al(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Cb(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function qb(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(vl.d)(this,function(c){switch(c.label){case 0:return(r=Al(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new nd(Xl.H)).zt(o,new Nh(o,Wl.min())),a=gd().add(o),u=new _d(Wl.min(),new Map,new od(kl),s,a),[4,Ub(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Xb(r),[3,4];case 2:return[4,ay(r.bh,e,!1).then(function(){return Yb(r,e,n)}).catch(gg)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Bb(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i;return Object(vl.d)(this,function(o){switch(o.label){case 0:n=Al(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ey(n.bh,e)];case 2:return i=o.sent(),Wb(n,r,null),$b(n,r),n.Vl.Na(r,"acknowledged"),[4,Zb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,gg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function zb(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r,i;return Object(vl.d)(this,function(o){switch(o.label){case 0:r=Al(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Al(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return xl(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),Wb(r,e,n),$b(r,e),r.Vl.Na(e,"rejected",n),[4,Zb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,gg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Gb(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(vl.d)(this,function(a){switch(a.label){case 0:rb((n=Al(t)).yl)||El("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Al(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=_p(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function $b(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function Wb(t,e,n){var r=Al(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function Yb(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||Qb(t,e)})}function Qb(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(Xy(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Xb(t))}function Kb(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof jb?(t.Nl.nr(o.key,e),Jb(t,o)):o instanceof Nb?(El("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||Qb(t,o.key)):Tl()}}function Jb(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(El("SyncEngine","New document in limbo: "+n),t.Dl.add(r),Xb(t))}function Xb(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new Xl(Ql.ot(e)),r=t.Ol.next();t.xl.set(r,new Pb(n)),t.Cl=t.Cl.zt(n,r),Jy(t.yl,new bf(cf(ef(n.path)),r,2,Gl.q))}}function Zb(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(vl.d)(this,function(a){switch(a.label){case 0:return r=Al(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,a){s.push(r.Ll(a,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Kg.oc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(vl.d)(this,function(l){switch(l.label){case 0:n=Al(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return lp.forEach(e,function(e){return lp.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return lp.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!gp(r=l.sent()))throw r;return El("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.fc.get(a),c=u.Lt(u.Ot),n.fc=n.fc.zt(a,c));return[2]}})})}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function tv(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r;return Object(vl.d)(this,function(i){switch(i.label){case 0:return(n=Al(t)).currentUser.isEqual(e)?[3,3]:(El("SyncEngine","User change. New user:",e.A()),[4,ty(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new Ll(Vl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Zb(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ev(t,e){var n=Al(t),r=n.xl.get(e);if(r&&r.Pl)return gd().add(r.key);var i=gd(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.vl.get(a[s]);i=i.Pe(u.view._l)}return i}function nv(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i;return Object(vl.d)(this,function(o){switch(o.label){case 0:return[4,uy((n=Al(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&Kb(n,e.targetId,i.Il),i)]}})})}function rv(t){return Object(vl.b)(this,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){return[2,ly((e=Al(t)).bh).then(function(t){return Zb(e,t)})]})})}function iv(t,e,n,r){return Object(vl.b)(this,void 0,void 0,function(){var i,o;return Object(vl.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Al(t),r=Al(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):lp.resolve(null)})})}((i=Al(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,lb(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Wb(i,e,r||null),$b(i,e),function(t,e){Al(Al(t).zo).xi(e)}(i.bh,e)):Tl(),s.label=4;case 4:return[4,Zb(i,o)];case 5:return s.sent(),[3,7];case 6:El("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function ov(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(vl.d)(this,function(c){switch(c.label){case 0:return hv(n=Al(t)),fv(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,sv(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,bb(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Jy(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],u=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?a.push(e):u=u.then(function(){return Yb(n,e),ay(n.bh,e,!0)}),Xy(n.yl,e)}),[4,u]);case 4:return c.sent(),[4,sv(n,a)];case 5:return c.sent(),function(t){var e=Al(t);e.xl.forEach(function(t,n){Xy(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new nd(Xl.H)}(n),n.kl=!1,[4,bb(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function sv(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(vl.d)(this,function(g){switch(g.label){case 0:n=Al(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Sl.get(a=s[o]))&&0!==c.length?[4,sy(n.bh,cf(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,nv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,cy(n.bh,a)];case 8:return p=g.sent(),[4,sy(n.bh,p)];case 9:return u=g.sent(),[4,Lb(n,av(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function av(t){return tf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function uv(t){var e=Al(t);return Al(Al(e.bh).persistence).Uo()}function cv(t,e,n,r){return Object(vl.b)(this,void 0,void 0,function(){var i,o,s;return Object(vl.d)(this,function(a){switch(a.label){case 0:return(i=Al(t)).kl?(El("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ly(i.bh)];case 3:return o=a.sent(),s=_d.Me(e,"current"===n),[4,Zb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,ay(i.bh,e,!0)];case 6:return a.sent(),Yb(i,e,r),[3,8];case 7:Tl(),a.label=8;case 8:return[2]}})})}function lv(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(vl.d)(this,function(f){switch(f.label){case 0:if(!(r=hv(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(El("SyncEngine","Adding an already active target "+s),[3,5]):[4,cy(r.bh,s)]:[3,6];case 2:return a=f.sent(),[4,sy(r.bh,a)];case 3:return u=f.sent(),[4,Lb(r,av(a),u.targetId,!1)];case 4:f.sent(),Jy(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(vl.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,ay(r.bh,t,!1).then(function(){Xy(r.yl,t),Yb(r,t)}).catch(gg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function hv(t){var e=Al(t);return e.yl.Dh.Lh=Ub.bind(null,e),e.yl.Dh.vn=ev.bind(null,e),e.yl.Dh.Mh=qb.bind(null,e),e.bl.ah=Ib.bind(null,e.gl),e.bl.Bl=Sb.bind(null,e.gl),e}function fv(t){var e=Al(t);return e.yl.Dh.Bh=Bb.bind(null,e),e.yl.Dh.qh=zb.bind(null,e),e}var dv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(e){switch(e.label){case 0:return this.Qt=Hy(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Zg(this.persistence,new Jg,t.Jl,this.Qt)},t.prototype.jl=function(t){return new _y(Ey.ia,this.Qt)},t.prototype.Wl=function(t){return new Dy},t.prototype.terminate=function(){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),pv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(vl.c)(e,t),e.prototype.initialize=function(e){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,hy(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,fv(this.Yl._a)];case 4:return n.sent(),[4,lb(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return Zg(this.persistence,new Jg,t.Jl,this.Qt)},e.prototype.zl=function(t){return new kg(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=Wg(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?pg.Ys(this.cacheSizeBytes):pg.ti;return new zg(this.synchronizeTabs,e,t.clientId,n,t._s,My(),Uy(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Dy},e}(dv),gv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(vl.c)(e,t),e.prototype.initialize=function(e){return Object(vl.b)(this,void 0,void 0,function(){var n,r=this;return Object(vl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof ky?(this.Vl._a={eu:iv.bind(null,n),nu:cv.bind(null,n),su:lv.bind(null,n),Uo:uv.bind(null,n),tu:rv.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(vl.b)(r,void 0,void 0,function(){return Object(vl.d)(this,function(e){switch(e.label){case 0:return[4,ov(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=My();if(!ky.Kn(e))throw new Ll(Vl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Wg(t.yu.t,t.yu.persistenceKey);return new ky(e,t._s,n,t.clientId,t.Jl)},e}(pv),yv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n=this;return Object(vl.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Hb(n._a,t,1)},this.yl.Dh.n_=tv.bind(null,this._a),[4,bb(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new _b},t.prototype.Xl=function(t){var e=Hy(t.yu.t),n=new Fy(t.yu);return function(t,e,n){return new $y(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Hb(s._a,t,0)},o=Ry.Kn()?new Ry:new Py,new Yy(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Rb(t,e,n,r,i,o);return s&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(vl.b)(this,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){switch(n.label){case 0:return e=Al(t),El("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,Ky(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),bv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),vv=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new cp,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(vl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(vl.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new xb(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(vl.b)(this,void 0,void 0,function(){var t,e;return Object(vl.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(vl.b)(this,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(vl.b)(this,void 0,void 0,function(){var t,e;return Object(vl.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Jl(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),mv=function(t){this._methodName=t},wv=function(t){this.d_=t};function _v(t,e,n){if(!n)throw new Ll(Vl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ov(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ev(t,e,n,r){if(!0===e&&!0===r)throw new Ll(Vl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Iv(t){if(!Xl.wt(t))throw new Ll(Vl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Sv(t){if(Xl.wt(t))throw new Ll(Vl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Cv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Tl()}function Tv(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ll(Vl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Cv(t);throw new Ll(Vl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function xv(t,e){if(e<=0)throw new Ll(Vl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Av=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ll(Vl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ll(Vl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ev("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),jv=new Map,Nv=function(){function t(t,e){this.w_="(lite)",this.E_=new Av({}),this.T_=!1,t instanceof wl?(this.I_=t,this.m_=new Hl):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ll(Vl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(t.options.projectId)}(t),this.m_=new ql(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Ll(Vl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Ll(Vl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Av(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Hl;switch(t.type){case"gapi":var e=t.client;return xl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new zl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ll(Vl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=jv.get(this))&&(El("ComponentProvider","Removing Datastore"),jv.delete(this),t.terminate()),Promise.resolve();var t},t}(),kv=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Pv(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Dv=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Pv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ef(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(vl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new kv(this.firestore,null,new Xl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Dv);function Rv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof wv&&(t=t.d_),_v("collection","path",e),t instanceof Nv)return Sv(n=Ql.ot.apply(Ql,Object(vl.g)([e],r))),new Pv(t,null,n);if(!(t instanceof kv||t instanceof Pv))throw new Ll(Vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sv(n=Ql.ot.apply(Ql,Object(vl.g)([t.path],r)).child(Ql.ot(e))),new Pv(t.firestore,null,n)}function Vv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof wv&&(t=t.d_),1===arguments.length&&(e=Nl.u()),_v("doc","path",e),t instanceof Nv)return Iv(n=Ql.ot.apply(Ql,Object(vl.g)([e],r))),new kv(t,null,new Xl(n));if(!(t instanceof kv||t instanceof Pv))throw new Ll(Vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Iv(n=t.D_.child(Ql.ot.apply(Ql,Object(vl.g)([e],r)))),new kv(t.firestore,t instanceof Pv?t.v_:null,new Xl(n))}function Lv(t,e){return t instanceof wv&&(t=t.d_),e instanceof wv&&(e=e.d_),(t instanceof kv||t instanceof Pv)&&(e instanceof kv||e instanceof Pv)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Fv(t,e){return t instanceof wv&&(t=t.d_),e instanceof wv&&(e=e.d_),t instanceof Dv&&e instanceof Dv&&t.firestore===e.firestore&&hf(t.C_,e.C_)&&t.v_===e.v_}var Mv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ll(Vl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ll(Vl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return kl(this.x_,t.x_)||kl(this.N_,t.N_)},t}(),Uv=/^__.*__$/,Hv=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new zf(t,this.data,this.Gt,e,this.fieldTransforms):new Bf(t,this.data,e,this.fieldTransforms)},t}(),qv=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new zf(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Bv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tl()}}var zv=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return lm(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Bv(this.k_)&&Uv.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Gv=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Hy(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new zv({k_:t,methodName:e,j_:n,path:Jl.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function $v(t){var e=t.p_(),n=Hy(t.I_);return new Gv(t.I_,!!e.ignoreUndefinedProperties,n)}function Wv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);sm("Data must be an object, but it was:",s,r);var a,u,c=im(r,s);if(o.merge)a=new nh(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=am(e,f[h],n);if(!s.contains(d))throw new Ll(Vl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");hm(l,d)||l.push(d)}a=new nh(l),u=s.fieldTransforms.filter(function(t){return a.Tt(t.field)})}else a=null,u=s.fieldTransforms;return new Hv(new Ch(c),a,u)}var Yv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(mv);function Qv(t,e,n){return new zv({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var Kv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.prototype.z_=function(t){return new Df(t.path,new Sf)},e.prototype.isEqual=function(t){return t instanceof e},e}(mv),Jv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(vl.c)(e,t),e.prototype.z_=function(t){var e=Qv(this,t,!0),n=this.H_.map(function(t){return rm(t,e)}),r=new Cf(n);return new Df(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(mv),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(vl.c)(e,t),e.prototype.z_=function(t){var e=Qv(this,t,!0),n=this.H_.map(function(t){return rm(t,e)}),r=new xf(n);return new Df(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(mv),Zv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(vl.c)(e,t),e.prototype.z_=function(t){var e=new jf(t.Qt,wf(t.Qt,this.J_));return new Df(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(mv);function tm(t,e,n,r){var i=t.G_(1,e,n);sm("Data must be an object, but it was:",i,r);var o=[],s=new Th;th(r,function(t,r){var a=cm(e,t,n);r instanceof wv&&(r=r.d_);var u=i.U_(a);if(r instanceof Yv)o.push(a);else{var c=rm(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new nh(o);return new qv(s.Pt(),a,i.fieldTransforms)}function em(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[am(e,r,n)],u=[i];if(o.length%2!=0)throw new Ll(Vl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(am(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Th,f=a.length-1;f>=0;--f)if(!hm(l,a[f])){var d=a[f],p=u[f];p instanceof wv&&(p=p.d_);var g=s.U_(d);if(p instanceof Yv)l.push(d);else{var y=rm(p,g);null!=y&&(l.push(d),h.set(d,y))}}var b=new nh(l);return new qv(h.Pt(),b,s.fieldTransforms)}function nm(t,e,n,r){return void 0===r&&(r=!1),rm(n,t.G_(r?4:3,e))}function rm(t,e){if(t instanceof wv&&(t=t.d_),om(t))return sm("Unsupported field value:",e,t),im(t,e);if(t instanceof mv)return function(t,e){if(!Bv(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=rm(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof wv&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wf(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=$l.fromDate(t);return{timestampValue:Dd(e.Qt,n)}}if(t instanceof $l)return n=new $l(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Dd(e.Qt,n)};if(t instanceof Mv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fl)return{bytesValue:Pd(e.Qt,t.I)};if(t instanceof kv){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ld(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Cv(t))}(t,e)}function im(t,e){var n={};return eh(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):th(t,function(t,r){var i=rm(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function om(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $l||t instanceof Mv||t instanceof Fl||t instanceof kv||t instanceof mv)}function sm(t,e,n){if(!om(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Cv(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function am(t,e,n){if(e instanceof wv&&(e=e.d_),e instanceof vv)return e.f_;if("string"==typeof e)return cm(t,e);throw lm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var um=new RegExp("[~\\*/\\[\\]]");function cm(t,e,n){if(e.search(um)>=0)throw lm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(vv.bind.apply(vv,Object(vl.g)([void 0],e.split("."))))).f_}catch(r){throw lm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lm(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Ll(Vl.INVALID_ARGUMENT,(a+=". ")+t+u)}function hm(t,e){return t.some(function(t){return t.isEqual(e)})}var fm=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(vl.b)(this,void 0,void 0,function(){var e,n=this;return Object(vl.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Ll(Vl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(vl.d)(this,function(u){switch(u.label){case 0:return n=Al(t),r=Bd(n.Qt)+"/documents",i={documents:e.map(function(t){return Md(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){xl(!!e.found);var n=Ud(t,e.found.name),r=Vd(e.found.updateTime),i=new Ch({mapValue:{fields:e.found.fields}});return new jh(n,r,i,{})}(t,e):"missing"in e?function(t,e){xl(!!e.missing),xl(!!e.readTime);var n=Ud(t,e.missing),r=Vd(e.readTime);return new Nh(n,r)}(t,e):Tl()}(n.Qt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());xl(!!e),a.push(e)}),a)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Nh||t instanceof jh?n.sf(t):Tl()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Jf(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(vl.b)(this,void 0,void 0,function(){var t,e=this;return Object(vl.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Xl._t(n);e.mutations.push(new Xf(r,e.jt(r)))}),[4,function(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i;return Object(vl.d)(this,function(o){switch(o.label){case 0:return n=Al(t),r=Bd(n.Qt)+"/documents",i={writes:e.map(function(t){return Wd(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof jh)e=t.version;else{if(!(t instanceof Nh))throw Tl();e=Wl.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ll(Vl.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Rf.updateTime(e):Rf.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Wl.min()))throw new Ll(Vl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rf.updateTime(e)}return Rf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),dm=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new qy(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(vl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(vl.d)(this,function(r){return t=new fm(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!lh(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!td(e)}return!1},t}(),pm=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Ml.UNAUTHENTICATED,this.clientId=Nl.u(),this._f=function(){},this.C=new cp,this.credentials.v(function(t){El("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new Ll(Vl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new cp;return this._s.Tf(function(){return Object(vl.b)(t,void 0,void 0,function(){var t,n;return Object(vl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=_p(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function gm(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(vl.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),El("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(vl.b)(i,void 0,void 0,function(){return Object(vl.d)(this,function(t){switch(t.label){case 0:return[4,ty(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function ym(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r;return Object(vl.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,bm(t)];case 1:return n=i.sent(),El("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(vl.b)(this,void 0,void 0,function(){var n,r;return Object(vl.d)(this,function(i){switch(i.label){case 0:return(n=Al(t))._s.Af(),El("RemoteStore","RemoteStore received new credentials"),r=rb(n),n.Nh.add(3),[4,Ky(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,Qy(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function bm(t){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(El("FirestoreClient","Using default OfflineComponentProvider"),[4,gm(t,new dv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function vm(t){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(El("FirestoreClient","Using default OnlineComponentProvider"),[4,ym(t,new yv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function mm(t){return bm(t).then(function(t){return t.persistence})}function wm(t){return bm(t).then(function(t){return t.bh})}function _m(t){return vm(t).then(function(t){return t.yl})}function Om(t){return vm(t).then(function(t){return t._a})}function Em(t){return Object(vl.b)(this,void 0,void 0,function(){var e,n;return Object(vl.d)(this,function(r){switch(r.label){case 0:return[4,vm(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Vb.bind(null,e._a),n.Hh=Fb.bind(null,e._a),n)]}})})}function Im(t,e,n){var r=this;void 0===n&&(n={});var i=new cp;return t._s.Ps(function(){return Object(vl.b)(r,void 0,void 0,function(){var r;return Object(vl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new bv({next:function(o){e.Ps(function(){return Eb(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ll(Vl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ll(Vl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Tb(ef(n.path),o,{includeMetadataChanges:!0,nl:!0});return Ob(t,s)},[4,Em(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function Sm(t,e,n){var r=this;void 0===n&&(n={});var i=new cp;return t._s.Ps(function(){return Object(vl.b)(r,void 0,void 0,function(){var r;return Object(vl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new bv({next:function(n){e.Ps(function(){return Eb(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Ll(Vl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Tb(n,o,{includeMetadataChanges:!0,nl:!0});return Ob(t,s)},[4,Em(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var Cm=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new qy(this,"async_queue_retry"),this.vf=function(){var e=Uy();e&&El("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Uy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Uy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(vl.b)(this,void 0,void 0,function(){var t,e=this;return Object(vl.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!gp(t=n.sent()))throw t;return El("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Il("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=wp.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Tl()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(vl.b)(this,void 0,void 0,function(){var t;return Object(vl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Tm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new cp,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var xm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Cm,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(vl.c)(e,t),e.prototype.b_=function(){return this.qf||jm(this),this.qf.terminate()},e}(Nv);function Am(t){return t.qf||jm(t),t.qf.df(),t.qf}function jm(t){var e=t.p_(),n=function(t,e,n){return new ml(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new pm(t.m_,t.Bf,n)}function Nm(t,e,n){var r=this,i=new cp;return t._s.enqueue(function(){return Object(vl.b)(r,void 0,void 0,function(){var r;return Object(vl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,gm(t,n)];case 1:return o.sent(),[4,ym(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Vl.FAILED_PRECONDITION||t.code===Vl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function km(t){if(t.R_||t.P_)throw new Ll(Vl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Dm=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),dh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oh(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(sh(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Tl()}},t.prototype.Hf=function(t,e){var n=this,r={};return th(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new Mv(oh(t.latitude),oh(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=uh(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(ch(t));default:return null}},t.prototype.Qf=function(t){var e=ih(t);return new $l(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=Ql.ot(t);xl(up(n));var r=new wl(n.get(1),n.get(3)),i=new Xl(n.Y(5));return r.isEqual(e)||Il("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Pm=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new kv(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Rm(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Vm("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Rm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Pm);function Vm(t,e){return"string"==typeof e?cm(t,e):e instanceof wv?e.d_.f_:e.f_}function Lm(t){if(rf(t)&&0===t.xt.length)throw new Ll(Vl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fm=function(){};function Mm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Um=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(vl.c)(e,t),e.prototype.td=function(t){var e=$v(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Wm(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push($m(r,t,l[c]));a={arrayValue:{values:u}}}else a=$m(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Wm(s,o),a=nm(n,"where",s,"in"===o||"not-in"===o);var h=Fh.create(i,o,a);return function(t,e){if(e.Ct()){var n=sf(t);if(null!==n&&!n.isEqual(e.field))throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=of(t);null!==r&&Ym(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ll(Vl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Dv(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Zh(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Fm),Hm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(vl.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Qh(e,n);return function(t,e){if(null===of(t)){var n=sf(t);null!==n&&Ym(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Dv(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new Zh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Fm),qm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(vl.c)(e,t),e.prototype.td=function(t){return new Dv(t.firestore,t.v_,lf(t.C_,this.od,this.ad))},e}(Fm),Bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(vl.c)(e,t),e.prototype.td=function(t){var e=Gm(t,this.type,this.ud,this.hd);return new Dv(t.firestore,t.v_,function(t,e){return new Zh(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Fm),zm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(vl.c)(e,t),e.prototype.td=function(t){var e=Gm(t,this.type,this.ud,this.hd);return new Dv(t.firestore,t.v_,function(t,e){return new Zh(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Fm);function Gm(t,e,n,r){if(n[0]instanceof wv&&(n[0]=n[0].d_),n[0]instanceof Pm)return function(t,e,n,r,i){if(!r)throw new Ll(Vl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=uf(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(wh(e,r.key));else{var c=r.field(u.field);if(ah(c))throw new Ll(Vl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Wh(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=$v(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new Ll(Vl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!af(t)&&-1!==c.indexOf("/"))throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ql.ot(c));if(!Xl.wt(l))throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Xl(l);a.push(wh(e,h))}else{var f=nm(n,r,c);a.push(f)}}return new Wh(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function $m(t,e,n){if(n instanceof wv&&(n=n.d_),"string"==typeof n){if(""===n)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!af(e)&&-1!==n.indexOf("/"))throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ql.ot(n));if(!Xl.wt(r))throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return wh(t,new Xl(r))}if(n instanceof kv)return wh(t,n.S_);throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Cv(n)+".")}function Wm(t,e){if(!Array.isArray(t)||0===t.length)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ym(t,e,n){if(!n.isEqual(e))throw new Ll(Vl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Qm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Km=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(vl.c)(e,t),e.prototype.Wf=function(t){return new Fl(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new kv(this.firestore,null,e)},e}(Dm),Jm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Xm=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return Object(vl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new Zm(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Vm("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Pm),Zm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Xm),tw=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Jm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new Zm(n.Yf,n.Xf,r.key,r,new Jm(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Ll(Vl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new Zm(t.Yf,t.Xf,e.doc.key,e.doc,new Jm(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Zm(t.Yf,t.Xf,e.doc.key,e.doc,new Jm(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ew(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function ew(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tl()}}function nw(t,e){return t instanceof Xm&&e instanceof Xm?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof tw&&e instanceof tw&&t.Yf===e.Yf&&Fv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var rw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(vl.c)(e,t),e.prototype.Wf=function(t){return new Fl(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new kv(this.firestore,null,e)},e}(Dm);function iw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Tv(t,kv);var o=Tv(t.firestore,xm),s=$v(o);return e instanceof wv&&(e=e.d_),sw(o,[("string"==typeof e||e instanceof vv?em(s,"updateDoc",t.S_,e,n,r):tm(s,"updateDoc",t.S_,e)).F_(t.S_,Rf.exists(!0))])}function ow(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof wv&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Tm(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Tm(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof kv)c=Tv(t.firestore,xm),l=ef(t.S_.path),u={next:function(e){i[a]&&i[a](aw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Tv(t,Dv);c=Tv(d.firestore,xm),l=d.C_;var p=new rw(c);u={next:function(t){i[a]&&i[a](new tw(c,p,d,t))},error:i[a+1],complete:i[a+2]},Lm(t.C_)}return function(t,e,n,r){var i=this,o=new bv(r),s=new Tb(e,o,n);return t._s.Ps(function(){return Object(vl.b)(i,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){switch(n.label){case 0:return e=Ob,[4,Em(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(vl.b)(i,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){switch(n.label){case 0:return e=Eb,[4,Em(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Am(c),l,h,u)}function sw(t,e){return function(t,e){var n=this,r=new cp;return t._s.Ps(function(){return Object(vl.b)(n,void 0,void 0,function(){var n;return Object(vl.d)(this,function(i){switch(i.label){case 0:return n=Mb,[4,Om(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Am(t),e)}function aw(t,e,n){var r=n.docs.get(e.S_),i=new rw(t);return new Xm(t,i,e.S_,r,new Jm(n.hasPendingWrites,n.fromCache),e.v_)}var uw=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=$v(t)}return t.prototype.set=function(t,e,n){this.md();var r=cw(t,this.Yf),i=Qm(r.v_,e,n),o=Wv(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Rf.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=cw(t,this.Yf);return e instanceof wv&&(e=e.d_),o="string"==typeof e||e instanceof vv?em(this.Id,"WriteBatch.update",s.S_,e,n,r):tm(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Rf.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=cw(t,this.Yf);return this.Ed=this.Ed.concat(new Jf(e.S_,Rf.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Ll(Vl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function cw(t,e){if(t instanceof wv&&(t=t.d_),t.firestore!==e)throw new Ll(Vl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var lw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(vl.c)(e,t),e.prototype.get=function(e){var n=this,r=cw(e,this.Yf),i=new rw(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new Xm(n.Yf,i,r.S_,t.Zf,new Jm(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=$v(t)}return t.prototype.get=function(t){var e=this,n=cw(t,this.Yf),r=new Km(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Tl();var i=t[0];if(i instanceof Nh)return new Pm(e.Yf,r,n.S_,null,n.v_);if(i instanceof jh)return new Pm(e.Yf,r,i.key,i,n.v_);throw Tl()})},t.prototype.set=function(t,e,n){var r=cw(t,this.Yf),i=Qm(r.v_,e,n),o=Wv(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=cw(t,this.Yf);return e instanceof wv&&(e=e.d_),o="string"==typeof e||e instanceof vv?em(this.Id,"Transaction.update",s.S_,e,n,r):tm(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=cw(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function hw(){if("undefined"==typeof Uint8Array)throw new Ll(Vl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function fw(){if("undefined"==typeof atob)throw new Ll(Vl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var dw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.fromBase64String=function(t){return fw(),new e(Fl.fromBase64String(t))},e.fromUint8Array=function(t){return hw(),new e(Fl.fromUint8Array(t))},e.prototype.toBase64=function(){return fw(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return hw(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(wv),pw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){km(t=Tv(t,xm));var n=Am(t),r=t.p_(),i=new yv;return Nm(n,i,new pv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){km(t=Tv(t,xm));var e=Am(t),n=t.p_(),r=new yv;return Nm(e,r,new gv(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Ll(Vl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new cp;return t.Bf.Tf(function(){return Object(vl.b)(e,void 0,void 0,function(){var e;return Object(vl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(vl.b)(this,void 0,void 0,function(){return Object(vl.d)(this,function(e){switch(e.label){case 0:return fp.Kn()?[4,fp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Wg(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),gw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof wl||(i.Pd=e),i}return Object(vl.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Tv(t,Nv)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Sl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(vl.b)(e,void 0,void 0,function(){var e,n;return Object(vl.d)(this,function(r){switch(r.label){case 0:return[4,mm(t)];case 1:return e=r.sent(),[4,_m(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Al(t);return e.Nh.delete(0),Qy(e)}(n))]}})})})}(Am(Tv(this.d_,xm)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(vl.b)(e,void 0,void 0,function(){var e,n;return Object(vl.d)(this,function(r){switch(r.label){case 0:return[4,mm(t)];case 1:return e=r.sent(),[4,_m(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(vl.b)(this,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){switch(n.label){case 0:return(e=Al(t)).Nh.add(0),[4,Ky(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(Am(Tv(this.d_,xm)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ev("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new cp;return t._s.Ps(function(){return Object(vl.b)(e,void 0,void 0,function(){var e;return Object(vl.d)(this,function(r){switch(r.label){case 0:return e=Gb,[4,Om(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Am(Tv(this.d_,xm)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new bv(e);return t._s.Ps(function(){return Object(vl.b)(n,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Al(t).Wh.add(e),e.next()},[4,Em(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(vl.b)(n,void 0,void 0,function(){var e;return Object(vl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Al(t).Wh.delete(e)},[4,Em(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Am(t=Tv(t,xm)),Tm(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Ll(Vl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Aw(this,Rv(this.d_,t))}catch(t){throw _w(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ww(this,Vv(this.d_,t))}catch(t){throw _w(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Cw(this,function(t,e){if(t=Tv(t,Nv),_v("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Dv(t,null,function(t){return new Zh(Ql.ct(),t)}(e))}(this.d_,t))}catch(t){throw _w(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new cp;return t._s.Ps(function(){return Object(vl.b)(n,void 0,void 0,function(){var n;return Object(vl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return vm(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new dm(t._s,n,e,r).run(),[2]}})})}),r.promise}(Am(t),function(n){return e(new lw(t,n))})}(this.d_,function(n){return t(new bw(e,n))})},e.prototype.batch=function(){var t=this;return Am(this.d_),new vw(new uw(this.d_,function(e){return sw(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new Ll(Vl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Ll(Vl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(wv),yw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(vl.c)(e,t),e.prototype.Wf=function(t){return new dw(new Fl(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return ww.yd(e,this.firestore,null)},e}(Dm),bw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new yw(e),r}return Object(vl.c)(e,t),e.prototype.get=function(t){var e=this,n=jw(t);return this.d_.get(n).then(function(t){return new Iw(e.Yf,new Xm(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=jw(t);return n?(Ov("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=jw(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(vl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=jw(t);return this.d_.delete(e),this},e}(wv),vw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.prototype.set=function(t,e,n){var r=jw(t);return n?(Ov("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=jw(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(vl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=jw(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(wv),mw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(vl.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Zm(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Sw(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new yw(t),n),i.set(n,o)),o},e}(wv);mw.Vd=new WeakMap;var ww=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new yw(e),r}return Object(vl.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Ll(Vl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new kv(n.d_,r,new Xl(t)))},e.yd=function(t,n,r){return new e(n,new kv(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Aw(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Aw(this.firestore,Rv(this.d_,t))}catch(t){throw _w(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof wv&&(t=t.d_),t instanceof kv&&Lv(this.d_,t)},e.prototype.set=function(t,e){e=Ov("DocumentReference.set",e);try{return function(t,e,n){t=Tv(t,kv);var r=Tv(t.firestore,xm),i=Qm(t.v_,e,n);return sw(r,[Wv($v(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Rf.Kt())])}(this.d_,t,e)}catch(t){throw _w(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?iw(this.d_,t):iw.apply(void 0,Object(vl.g)([this.d_,t,e],n))}catch(t){throw _w(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return sw(Tv((t=this.d_).firestore,xm),[new Jf(t.S_,Rf.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ow(e),i=Ew(e,function(e){return new Iw(t.firestore,new Xm(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return ow(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Tv(t,kv);var e=Tv(t.firestore,xm),n=Am(e),r=new rw(e);return function(t,e){var n=this,r=new cp;return t._s.Ps(function(){return Object(vl.b)(n,void 0,void 0,function(){var n;return Object(vl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r,i;return Object(vl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Al(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof jh?n.resolve(i):i instanceof Nh?n.resolve(null):n.reject(new Ll(Vl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=_p(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,wm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Xm(e,r,t.S_,n,new Jm(n instanceof jh&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Tv(t,kv);var e=Tv(t.firestore,xm);return Im(Am(e),t.S_,{source:"server"}).then(function(n){return aw(e,t,n)})}(this.d_):function(t){t=Tv(t,kv);var e=Tv(t.firestore,xm);return Im(Am(e),t.S_).then(function(n){return aw(e,t,n)})}(this.d_)).then(function(t){return new Iw(e.firestore,new Xm(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(mw.gd(this.firestore,t)))},e}(wv);function _w(t,e,n){return t.message=t.message.replace(e,n),t}function Ow(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Tm(r))return r}return{}}function Ew(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Tm(t[0])?t[0]:Tm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Iw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(vl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new ww(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return nw(this.d_,t.d_)},e}(wv),Sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Iw),Cw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new yw(e),r}return Object(vl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Mm(this.d_,function(t,e,n){var r=e,i=Vm("where",t);return new Um(i,r,n)}(t,n,r)))}catch(t){throw _w(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Mm(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Vm("orderBy",t);return new Hm(r,n)}(t,n)))}catch(t){throw _w(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Mm(this.d_,function(t){return xv("limit",t),new qm("limit",t,"F")}(t)))}catch(t){throw _w(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Mm(this.d_,function(t){return xv("limitToLast",t),new qm("limitToLast",t,"L")}(t)))}catch(t){throw _w(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bm("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw _w(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bm("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw _w(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zm("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw _w(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zm("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw _w(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Fv(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Tv(t,Dv);var e=Tv(t.firestore,xm),n=Am(e),r=new rw(e);return function(t,e){var n=this,r=new cp;return t._s.Ps(function(){return Object(vl.b)(n,void 0,void 0,function(){var n;return Object(vl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(vl.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(vl.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,uy(t,e,!0)];case 1:return a=u.sent(),r=new kb(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=_p(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,wm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new tw(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Tv(t,Dv);var e=Tv(t.firestore,xm),n=Am(e),r=new rw(e);return Sm(n,t.C_,{source:"server"}).then(function(n){return new tw(e,r,t,n)})}(this.d_):function(t){t=Tv(t,Dv);var e=Tv(t.firestore,xm),n=Am(e),r=new rw(e);return Lm(t.C_),Sm(n,t.C_).then(function(n){return new tw(e,r,t,n)})}(this.d_)).then(function(t){return new xw(e.firestore,new tw(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ow(e),i=Ew(e,function(e){return new xw(t.firestore,new tw(t.firestore.d_,t.Xf,t.d_,e._d))});return ow(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(mw.gd(this.firestore,t)))},e}(wv),Tw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(vl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Sw(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(wv),xw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(vl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Cw(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new Sw(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new Tw(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new Sw(n.Yf,r))})},e.prototype.isEqual=function(t){return nw(this.d_,t.d_)},e}(wv),Aw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(vl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new ww(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ww(this.firestore,void 0===t?Vv(this.d_):Vv(this.d_,t))}catch(t){throw _w(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Tv(t.firestore,xm),r=Vv(t),i=Qm(t.v_,e);return sw(n,[Wv($v(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Rf.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new ww(e.firestore,t)})},e.prototype.isEqual=function(t){return Lv(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(mw.gd(this.firestore,t)))},e}(Cw);function jw(t){return t instanceof wv&&(t=t.d_),Tv(t,kv)}var Nw,kw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(vv.bind.apply(vv,Object(vl.g)([void 0],e))))||this}return Object(vl.c)(e,t),e.documentId=function(){return new e(Jl.ht().rt())},e.prototype.isEqual=function(t){return t instanceof wv&&(t=t.d_),t instanceof vv&&this.d_.f_.isEqual(t.f_)},e}(wv),Dw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(vl.c)(e,t),e.serverTimestamp=function(){var t=new Kv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Yv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jv("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xv("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Zv("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(wv),Pw=n("/6Yf"),Rw={Firestore:gw,GeoPoint:Mv,Timestamp:$l,Blob:dw,Transaction:bw,WriteBatch:vw,DocumentReference:ww,DocumentSnapshot:Iw,Query:Cw,QueryDocumentSnapshot:Sw,QuerySnapshot:xw,CollectionReference:Aw,FieldPath:kw,FieldValue:Dw,setLogLevel:function(t){_l.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Pw.a("firestore",function(t){return function(t,e){return new gw(t,new xm(t,e),new pw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Rw)))})(Nw=ps.a),Nw.registerVersion("@firebase/firestore","2.1.7");var Vw=n("VRyK"),Lw=n("qgXg"),Fw=n("Ylt2");class Mw extends Et.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Uw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new It.a;if(this.isStopped||this.hasError?o=Ee.a.EMPTY:(this.observers.push(t),o=new Fw.a(this,t)),r&&t.add(t=new hs.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Lw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Uw{constructor(t,e){this.time=t,this.value=e}}function Hw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Mw(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function qw(t,e){return e?Gt(()=>t,e):Gt(()=>t)}var Bw=n("tf+s");const zw=new r.q("angularfire2.auth.use-emulator"),Gw=new r.q("angularfire2.auth.settings"),$w=new r.q("angularfire2.auth.tenant-id"),Ww=new r.q("angularfire2.auth.langugage-code"),Yw=new r.q("angularfire2.auth.use-device-language"),Qw=new r.q("angularfire.auth.persistence");let Kw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new fs.d(i),f=Object(fs.h)(h),d=new Et.a,p=Object(Ot.a)(void 0).pipe(Object(hs.b)(h.outsideAngular),Gt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Bt.a)(()=>Object(fs.g)(t,i,e)),Object(Bt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(fs.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Hw({bufferSize:1,refCount:!1}));if(q(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ot.a)(null);else{p.pipe(_e()).subscribe();const t=p.pipe(Gt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Hw({bufferSize:1,refCount:!1})),e=t=>new kt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Gt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Gt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(qw(n),Object(Bw.a)(h.outsideAngular),Object(hs.b)(h.insideAngular)),this.user=t.pipe(qw(r),Object(Bw.a)(h.outsideAngular),Object(hs.b)(h.insideAngular)),this.idToken=this.user.pipe(Gt(t=>t?Object(_t.a)(t.getIdToken()):Object(Ot.a)(null))),this.idTokenResult=this.user.pipe(Gt(t=>t?Object(_t.a)(t.getIdTokenResult()):Object(Ot.a)(null))),this.credential=Object(Vw.a)(t,d,this.authState.pipe(ne(t=>!t))).pipe(Object(Bt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Bw.a)(h.outsideAngular),Object(hs.b)(h.insideAngular))}return Object(fs.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(fs.c),r.Sb(fs.b,8),r.Sb(r.B),r.Sb(r.z),r.Sb(zw,8),r.Sb(Gw,8),r.Sb($w,8),r.Sb(Ww,8),r.Sb(Yw,8),r.Sb(Qw,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(fs.c),Object(r.Sb)(fs.b,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(zw,8),Object(r.Sb)(Gw,8),Object(r.Sb)($w,8),Object(r.Sb)(Ww,8),Object(r.Sb)(Yw,8),Object(r.Sb)(Qw,8))},token:t,providedIn:"any"}),t})();function Jw(t,e){return function(t,e=os.a){return new kt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Xw(t,e){return Jw(t,e).pipe(Object(Bt.a)(t=>({payload:t,type:"query"})))}function Zw(t,e){return Xw(t,e).pipe(Xt(void 0),ss(),Object(Bt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function t_(t,e,n){return Zw(t,n).pipe(Zt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return e_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return e_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return e_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new cs(void 0,void 0)),Object(Bt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function e_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function n_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(fs.e)(Kw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class r_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Zw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Bt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Xt(void 0),ss(),ne(([t,e])=>e.length>0||!t),Object(Bt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Zt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=n_(t);return t_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Xw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(hs.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new i_(this.ref.doc(t),this.afs)}}class i_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=l_(n,e);return new r_(r,i,this.afs)}snapshotChanges(){return Jw(this.ref,this.afs.schedulers.outsideAngular).pipe(Xt(void 0),ss(),Object(Bt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Bt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(_t.a)(this.ref.get(t)).pipe(Object(hs.b)(this.afs.schedulers.insideAngular))}}class o_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Zw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ne(t=>t.length>0),this.afs.keepUnstableUntilFirst):Zw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Zt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=n_(t);return t_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Xw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(hs.b)(this.afs.schedulers.insideAngular))}}const s_=new r.q("angularfire2.enableFirestorePersistence"),a_=new r.q("angularfire2.firestore.persistenceSettings"),u_=new r.q("angularfire2.firestore.settings"),c_=new r.q("angularfire2.firestore.use-emulator");function l_(t,e=(t=>t)){return{query:e(t),ref:t}}let h_=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new fs.d(o),this.keepUnstableUntilFirst=Object(fs.h)(this.schedulers);const c=Object(fs.g)(t,o,e);!ds.a.auth&&u&&Object(fs.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(fs.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!q(i)){const e=()=>{try{return Object(_t.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Nw){return"undefined"!=typeof console&&console.warn(Nw),Object(Ot.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ot.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=l_(n,e),o=this.schedulers.ngZone.run(()=>r);return new r_(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new o_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new i_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(fs.c),r.Sb(fs.b,8),r.Sb(s_,8),r.Sb(u_,8),r.Sb(r.B),r.Sb(r.z),r.Sb(a_,8),r.Sb(c_,8),r.Sb(zw,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(fs.c),Object(r.Sb)(fs.b,8),Object(r.Sb)(s_,8),Object(r.Sb)(u_,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(a_,8),Object(r.Sb)(c_,8),Object(r.Sb)(zw,8))},token:t,providedIn:"any"}),t})(),f_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:s_,useValue:!0},{provide:a_,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[h_]}),t})(),d_=(()=>{class t{transform(t){return"petName"===t?"Pet Name":t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"labelName",type:t,pure:!0}),t})();function p_(t,e){if(1&t&&(r.Ob(0,"option",18),r.hc(1),r.Nb()),2&t){const t=e.$implicit;r.ac("value",t),r.yb(1),r.ic(t)}}function g_(t,e){if(1&t&&(r.Mb(0),r.Ob(1,"div",20),r.Ob(2,"label"),r.hc(3),r.Yb(4,"labelName"),r.Nb(),r.Kb(5,"input",21),r.Nb(),r.Lb()),2&t){const t=e.$implicit;r.yb(3),r.ic(r.Zb(4,2,t)),r.yb(2),r.ac("formControlName",t)}}function y_(t,e){if(1&t&&(r.Ob(0,"div"),r.gc(1,g_,6,4,"ng-container",19),r.Nb()),2&t){const t=r.Xb().$implicit,e=r.Xb(2);r.yb(1),r.ac("ngForOf",e.objToArray(t.controls))}}function b_(t,e){if(1&t&&(r.Ob(0,"div"),r.Ob(1,"div"),r.Kb(2,"app-person-edit",22),r.Nb(),r.Nb()),2&t){const t=r.Xb(3);r.yb(2),r.ac("passedInHabitant",t.habitantToPassToNext)}}function v_(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",10),r.Ob(1,"div",11),r.Ob(2,"div",12),r.hc(3),r.Nb(),r.Ob(4,"div"),r.Ob(5,"label"),r.hc(6,"Dependent type"),r.Nb(),r.Ob(7,"select",13),r.Vb("change",function(){r.dc(t);const n=e.index;return r.Xb(2).onTypeChange(n)}),r.Ob(8,"option",14),r.hc(9,"None"),r.Nb(),r.gc(10,p_,2,2,"option",15),r.Nb(),r.Ob(11,"button",16),r.Vb("click",function(){r.dc(t);const n=e.index;return r.Xb(2).onRemoveDep(n)}),r.hc(12,"Delete this dependent"),r.Nb(),r.Nb(),r.Nb(),r.gc(13,y_,2,1,"div",17),r.gc(14,b_,3,1,"div",17),r.Nb()}if(2&t){const t=e.$implicit,n=e.index,i=r.Xb(2);r.ac("formGroupName",n),r.yb(3),r.jc("#",n+1,""),r.yb(7),r.ac("ngForOf",i.typeSelections),r.yb(3),r.ac("ngIf","habitant"!==t.get("dependent_type").value),r.yb(1),r.ac("ngIf","habitant"===t.get("dependent_type").value)}}function m_(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",1),r.Ob(1,"div",2),r.hc(2," Habitant Information "),r.Nb(),r.Ob(3,"div"),r.Ob(4,"div",3),r.Ob(5,"label"),r.hc(6,"Habitant Name"),r.Nb(),r.Kb(7,"input",4),r.Nb(),r.Ob(8,"div",3),r.Ob(9,"label"),r.hc(10,"Age"),r.Nb(),r.Kb(11,"input",5),r.Nb(),r.Ob(12,"div",3),r.Ob(13,"div",6),r.Ob(14,"label"),r.hc(15,"Dependent(s)"),r.Nb(),r.Ob(16,"button",7),r.Vb("click",function(){return r.dc(t),r.Xb().onAddDep()}),r.hc(17,"Add another dependent"),r.Nb(),r.Nb(),r.Ob(18,"div",8),r.gc(19,v_,15,5,"div",9),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.ac("formGroup",t.habitantFg),r.yb(19),r.ac("ngForOf",null==t.getDependentsArray?null:t.getDependentsArray.controls)}}const w_=["habitant","pet","deceased"];let __=(()=>{class t{constructor(t){this.fb=t,this.typeSelections=[...w_],this.habitantFg=this.createNewHibitantFg()}ngOnChanges(){if(this.passedInHabitant){console.log("in changes"),this.habitantFg=this.passedInHabitant;const t=this.habitantFg.get("dependents");t?t.controls.forEach((t,e)=>{this.onTypeChange(e)}):this.habitantFg.addControl("dependents",this.fb.array([new Do({dependent_type:is(null,!1,[Di.required])})]))}}ngOnInit(){}createNewHibitantFg(){return this.fb.group({habitantName:is(null,!1,[Di.required]),age:is(null,!1,[Di.required]),dependents:this.fb.array([new Do({dependent_type:is(null,!1,[Di.required])})])})}onTypeChange(t){var e,n,r,i,o,s;const a=null===(e=this.getDependentsArray.at(t).get("dependent_type"))||void 0===e?void 0:e.value,u=this.getDependentsArray.at(t);if("pet"===a)u.addControl("petName",is(null,!1,[Di.required])),u.removeControl("habitant");else if("deceased"===a)u.removeControl("petName"),u.removeControl("habitant");else if("habitant"===a){u.removeControl("petName");const e=this.createNewHibitantFg();(null===(n=this.passedInHabitant)||void 0===n?void 0:n.get("habitant"))?(console.log("Pass-next from first level"),(null===(r=this.passedInHabitant.get("habitant"))||void 0===r?void 0:r.get("dependents")).at(t).addControl("habitant",e),this.habitantToPassToNext=(null===(i=this.passedInHabitant.get("habitant"))||void 0===i?void 0:i.get("dependents")).at(t).get("habitant")):(console.log("Pass next 2nd level beyond"),(null===(o=this.passedInHabitant)||void 0===o?void 0:o.get("dependents")).at(t).addControl("habitant",e),this.habitantToPassToNext=(null===(s=this.passedInHabitant)||void 0===s?void 0:s.get("dependents")).at(t).get("habitant"))}}get getDependentsArray(){var t;return null===(t=this.habitantFg)||void 0===t?void 0:t.get("dependents")}objToArray(t){return Object.keys(t).filter(t=>"dependent_type"!==t)}onAddDep(){this.getDependentsArray.push(new Do({dependent_type:is(null,!1)}))}onRemoveDep(t){this.getDependentsArray.removeAt(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Qo))},t.\u0275cmp=r.Db({type:t,selectors:[["app-person-edit"]],inputs:{passedInHabitant:"passedInHabitant"},features:[r.wb],decls:1,vars:1,consts:[["class","habitant-form ml-2 mb",3,"formGroup",4,"ngIf"],[1,"habitant-form","ml-2","mb",3,"formGroup"],[1,"title"],[1,"form-group","mb"],["formControlName","habitantName",1,"form-control"],["formControlName","age",1,"form-control"],[1,"title-add","mt","mb"],[1,"btn","btn-sm","btn-primary",3,"click"],["formArrayName","dependents"],["class","mb",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb",3,"formGroupName"],[1,"flex","bl","mb"],[1,"mr"],["formControlName","dependent_type",3,"change"],["disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-danger","btn-sm","btn-block","ml",3,"click"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"flex"],[1,"form-control",3,"formControlName"],[3,"passedInHabitant"]],template:function(t,e){1&t&&r.gc(0,m_,20,2,"div",0),2&t&&r.ac("ngIf",e.habitantFg)},directives:[k,Ki,Uo,Ti,Qi,Wo,zo,j,qo,so,ao,ho,t],pipes:[d_],styles:[".habitant-form[_ngcontent-%COMP%]{width:500px;margin-left:20px;margin-top:10px;border-left:1px solid #ccc;padding-left:10px}.title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.flex[_ngcontent-%COMP%], .title-add[_ngcontent-%COMP%]{display:flex}.mb[_ngcontent-%COMP%]{margin-bottom:10px}.mt[_ngcontent-%COMP%]{margin-top:10px}.mr[_ngcontent-%COMP%]{margin-right:10px}.ml[_ngcontent-%COMP%]{margin-left:10px}label[_ngcontent-%COMP%]{margin-right:10px}.bl[_ngcontent-%COMP%]{align-items:baseline}"]}),t})();function O_(t,e){if(1&t&&(r.Mb(0),r.Ob(1,"div",0),r.Ob(2,"div",3),r.Ob(3,"div",8),r.Ob(4,"label"),r.hc(5),r.Nb(),r.Kb(6,"input",9),r.Nb(),r.Nb(),r.Nb(),r.Lb()),2&t){const t=r.Xb().$implicit;r.yb(5),r.ic(t),r.yb(1),r.ac("formControlName",t)}}function E_(t,e){if(1&t&&(r.Mb(0),r.Kb(1,"app-person-edit",10),r.Lb()),2&t){const t=r.Xb(4);r.yb(1),r.ac("passedInHabitant",t.currentFg.get("habitant"))}}function I_(t,e){if(1&t&&(r.Mb(0),r.gc(1,O_,7,2,"ng-container",2),r.gc(2,E_,2,1,"ng-container",2),r.Lb()),2&t){const t=e.$implicit;r.yb(1),r.ac("ngIf","habitant"!==t),r.yb(1),r.ac("ngIf","habitant"===t)}}function S_(t,e){if(1&t&&(r.Mb(0),r.Ob(1,"form",6),r.gc(2,I_,3,2,"ng-container",7),r.Nb(),r.Lb()),2&t){const t=r.Xb(2);r.yb(1),r.ac("formGroup",t.currentFg),r.yb(1),r.ac("ngForOf",t.objToArray(t.currentFg.controls))}}function C_(t,e){if(1&t&&(r.Ob(0,"div"),r.hc(1),r.Nb()),2&t){const t=r.Xb(2);r.yb(1),r.jc(" Form is ",t.formValid?"Valid":"Invalid"," ")}}function T_(t,e){if(1&t){const t=r.Pb();r.Mb(0),r.Ob(1,"div",0),r.Ob(2,"div",3),r.Ob(3,"h3"),r.hc(4),r.Nb(),r.Ob(5,"span"),r.hc(6),r.Nb(),r.Nb(),r.Nb(),r.Kb(7,"hr"),r.gc(8,S_,3,2,"ng-container",2),r.Ob(9,"div",4),r.Ob(10,"div",3),r.Ob(11,"button",5),r.Vb("click",function(){return r.dc(t),r.Xb().onSaveEdit()}),r.hc(12,"Save"),r.Nb(),r.gc(13,C_,2,1,"div",2),r.Nb(),r.Nb(),r.Lb()}if(2&t){const t=r.Xb();r.yb(4),r.jc(" Editing Item ",t.currentFg.dirty?"*":""," "),r.yb(2),r.jc("(id: ",null==t.currentHome?null:t.currentHome.id,")"),r.yb(2),r.ac("ngIf",t.currentFg),r.yb(5),r.ac("ngIf",t.saveClicked)}}function x_(t,e){if(1&t&&(r.Ob(0,"pre"),r.hc(1),r.Yb(2,"json"),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.jc("      ",r.Zb(2,1,t.currentFg.value),"\n    ")}}let A_=(()=>{class t{constructor(t,e,n,r,i){this.actRoute=t,this.fb=e,this.fs=n,this.router=r,this.route=i,this.currentFg=new Do({}),this.currentHome=void 0,this.onDest$=new Et.a,this.formValid=!1,this.saveClicked=!1}ngOnInit(){this.actRoute.data.pipe(Xo(this.onDest$)).subscribe(t=>{t.home.address&&t.home.year&&(this.currentHome=t.home,this.currentHome&&this.createFormGroup(this.currentHome))})}createFormGroup(t){this.currentFg=this.fb.group({address:is(t.address,!1,[Di.required]),year:is(t.year,!1,[Di.required])}),this.addHabitantToFormGroup(t.habitant)}addHabitantToFormGroup(t){this.currentFg&&this.loopHabitant(t,this.currentFg)}loopHabitant(t,e){let n=t;const r=this.objToArray(n);n&&(e.addControl("habitant",new Do({})),r.forEach(t=>{if("dependents"!==t&&e.get("habitant").addControl(t,is(n[t],!1,[Di.required])),"dependents"===t&&n.dependents.length>0){const t=n.dependents?n.dependents:[];e.get("habitant").addControl("dependents",new Po([])),t.forEach((t,n)=>{e.get("habitant").get("dependents").push(new Do({})),this.objToArray(t).forEach(r=>{"habitant"!==r&&e.get("habitant").get("dependents").at(n).addControl(r,is(t[r],!1,[Di.required])),"habitant"===r&&t.habitant&&this.loopHabitant(t.habitant,e.get("habitant").get("dependents").at(n))})})}}))}onSaveEdit(){var t,e;if(console.log(this.currentFg.value),this.saveClicked=!0,this.formValid=this.currentFg.valid,this.currentFg.valid&&(null===(t=this.currentHome)||void 0===t?void 0:t.id)){const t=null===(e=this.currentHome)||void 0===e?void 0:e.id;this.currentFg.markAsPristine(),this.fs.doc("homes/"+t).update(Object.assign({},this.currentFg.value)).then(e=>{console.log("done"),this.router.navigate(["../"],{relativeTo:this.route,queryParams:{edited:t}})})}}ngOnDestroy(){this.onDest$.next(),this.onDest$.complete()}objToArray(t){return Object.keys(t)}canDeactivate(){if(this.currentFg.dirty){const t=window.confirm("There are unsaved changes! Are you sure?");return Object(Ot.a)(t)}return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(kn),r.Jb(Qo),r.Jb(h_),r.Jb(Jr),r.Jb(kn))},t.\u0275cmp=r.Db({type:t,selectors:[["app-edit-item"]],decls:8,vars:2,consts:[[1,"row"],[1,"col-6"],[4,"ngIf"],[1,"col-12"],[1,"mt-3","row"],[1,"btn","btn-primary",3,"click"],[3,"formGroup"],[4,"ngFor","ngForOf"],[1,"form-group","mb"],[1,"form-control",3,"formControlName"],[3,"passedInHabitant"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.gc(2,T_,14,4,"ng-container",2),r.Nb(),r.Ob(3,"div",1),r.Ob(4,"h3"),r.hc(5,"Form Value: "),r.Nb(),r.Kb(6,"hr"),r.gc(7,x_,3,3,"pre",2),r.Nb(),r.Nb()),2&t&&(r.yb(2),r.ac("ngIf",e.currentHome),r.yb(5),r.ac("ngIf",e.currentFg))},directives:[k,Lo,Ki,Uo,j,Ti,Qi,Wo,__],pipes:[U],styles:[""]}),t})();function j_(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",4),r.Vb("click",function(){r.dc(t);const n=e.$implicit;return r.Xb(2).onGoToEdit(n.id)}),r.Ob(1,"div"),r.hc(2),r.Ob(3,"span"),r.hc(4),r.Nb(),r.Ob(5,"span"),r.hc(6),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=e.index,i=r.Xb(2);r.yb(1),r.Ab("col-12 "+(i.lastEdited===t.id?"edited-item":"")),r.yb(1),r.kc(" ",n+1," - ",t.id," "),r.yb(2),r.ic(t.address),r.yb(2),r.ic(t.year)}}function N_(t,e){if(1&t&&(r.Mb(0),r.gc(1,j_,7,6,"div",3),r.Lb()),2&t){const t=e.ngIf;r.yb(1),r.ac("ngForOf",t)}}let k_=(()=>{class t{constructor(t,e,n){this.fs=t,this.router=e,this.route=n,this.onDest$=new Et.a,this.itemsCollection=t.collection("homes"),this.items=this.itemsCollection.snapshotChanges().pipe(Object(Bt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}ngOnInit(){this.route.queryParamMap.pipe(Xo(this.onDest$)).subscribe(t=>{this.lastEdited=t.get("edited")})}onGoToEdit(t){t&&this.router.navigate(["./",t],{relativeTo:this.route,queryParams:{edited:t}})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(h_),r.Jb(Jr),r.Jb(kn))},t.\u0275cmp=r.Db({type:t,selectors:[["app-edit"]],decls:5,vars:3,consts:[[1,"row","mb"],[1,"col-12"],[4,"ngIf"],["class","row mb clickable",3,"click",4,"ngFor","ngForOf"],[1,"row","mb","clickable",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.hc(2," Choose a item to edit "),r.Nb(),r.Nb(),r.gc(3,N_,2,1,"ng-container",2),r.Yb(4,"async")),2&t&&(r.yb(3),r.ac("ngIf",r.Zb(4,1,e.items)))},directives:[k,j],pipes:[M],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}.clickable[_ngcontent-%COMP%]:hover{background-color:#9fc2ae}.row[_ngcontent-%COMP%]   .edited-item[_ngcontent-%COMP%]{background-color:#eee}",".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.mb[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{margin-bottom:10px}.mt[_ngcontent-%COMP%]{margin-top:10px}.nav[_ngcontent-%COMP%]{background-color:#eee;padding:10px}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),D_=(()=>{class t{constructor(t){this.fs=t}resolve(t,e){return this.fs.doc("homes/"+t.params.homeId).snapshotChanges().pipe(Object(Bt.a)(t=>Object.assign(Object.assign({},t.payload.data()),{id:t.payload.id})),Qt(1))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(h_))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P_=n("1EKS");let R_=(()=>{class t{constructor(){this.test={name:"John.",address:{city:"LA",state:"CA",code:{code:123}}},this.test1={name:"John.",address:{city:"LA",state:"CA",code:{code:1231}}},this.test3=[this.test,this.test,this.test,this.test,this.test,this.test],this.test4=[this.test,this.test,this.test,this.test,this.test,this.test],P_(this.test3),P_(this.test4)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function V_(t,e){if(1&t&&(r.Ob(0,"option",18),r.hc(1),r.Nb()),2&t){const t=e.$implicit;r.ac("value",t),r.yb(1),r.ic(t)}}function L_(t,e){if(1&t&&(r.Mb(0),r.Ob(1,"div",20),r.Ob(2,"label"),r.hc(3),r.Yb(4,"labelName"),r.Nb(),r.Kb(5,"input",21),r.Nb(),r.Lb()),2&t){const t=e.$implicit;r.yb(3),r.ic(r.Zb(4,2,t)),r.yb(2),r.ac("formControlName",t)}}function F_(t,e){if(1&t&&(r.Ob(0,"div"),r.gc(1,L_,6,4,"ng-container",19),r.Nb()),2&t){const t=r.Xb().$implicit,e=r.Xb(2);r.yb(1),r.ac("ngForOf",e.objToArray(t.controls))}}function M_(t,e){if(1&t&&(r.Ob(0,"div"),r.Ob(1,"div"),r.Kb(2,"app-person",22),r.Nb(),r.Nb()),2&t){const t=r.Xb(3);r.yb(2),r.ac("passedInHabitant",t.habitantToPassToNext)}}function U_(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",10),r.Ob(1,"div",11),r.Ob(2,"div",12),r.hc(3),r.Nb(),r.Ob(4,"div"),r.Ob(5,"label"),r.hc(6,"Dependent type"),r.Nb(),r.Ob(7,"select",13),r.Vb("change",function(){r.dc(t);const n=e.index;return r.Xb(2).onTypeChange(n)}),r.Ob(8,"option",14),r.hc(9,"None"),r.Nb(),r.gc(10,V_,2,2,"option",15),r.Nb(),r.Ob(11,"button",16),r.Vb("click",function(){r.dc(t);const n=e.index;return r.Xb(2).onRemoveDep(n)}),r.hc(12,"Delete this dependent"),r.Nb(),r.Nb(),r.Nb(),r.gc(13,F_,2,1,"div",17),r.gc(14,M_,3,1,"div",17),r.Nb()}if(2&t){const t=e.$implicit,n=e.index,i=r.Xb(2);r.ac("formGroupName",n),r.yb(3),r.jc("#",n+1,""),r.yb(7),r.ac("ngForOf",i.typeSelections),r.yb(3),r.ac("ngIf","habitant"!==t.get("dependent_type").value),r.yb(1),r.ac("ngIf","habitant"===t.get("dependent_type").value)}}function H_(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",1),r.Ob(1,"div",2),r.hc(2," Habitant Information "),r.Nb(),r.Ob(3,"div"),r.Ob(4,"div",3),r.Ob(5,"label"),r.hc(6,"Habitant Name"),r.Nb(),r.Kb(7,"input",4),r.Nb(),r.Ob(8,"div",3),r.Ob(9,"label"),r.hc(10,"Age"),r.Nb(),r.Kb(11,"input",5),r.Nb(),r.Ob(12,"div",3),r.Ob(13,"div",6),r.Ob(14,"label"),r.hc(15,"Dependent(s)"),r.Nb(),r.Ob(16,"button",7),r.Vb("click",function(){return r.dc(t),r.Xb().onAddDep()}),r.hc(17,"Add another dependent"),r.Nb(),r.Nb(),r.Ob(18,"div",8),r.gc(19,U_,15,5,"div",9),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.ac("formGroup",t.habitantFg),r.yb(19),r.ac("ngForOf",t.getDependentsArray.controls)}}const q_=["habitant","pet","deceased"];let B_=(()=>{class t{constructor(t){this.fb=t,this.typeSelections=[...q_],this.habitantFg=this.createNewHibitantFg()}ngOnChanges(){var t,e;(null===(t=this.passedInHabitant)||void 0===t?void 0:t.get("habitantName"))?(console.log("Got a habitant fg from previous"),this.habitantFg=this.passedInHabitant):(console.log("Creating the first habitant fg"),null===(e=this.passedInHabitant)||void 0===e||e.addControl("habitant",this.habitantFg))}ngOnInit(){}createNewHibitantFg(){return this.fb.group({habitantName:is(null,!1,[Di.required]),age:is(null,!1,[Di.required]),dependents:this.fb.array([new Do({dependent_type:is(null,!1,[Di.required])})])})}onTypeChange(t){var e,n,r,i,o,s;const a=null===(e=this.getDependentsArray.at(t).get("dependent_type"))||void 0===e?void 0:e.value,u=this.getDependentsArray.at(t);if("pet"===a)u.addControl("petName",is(null,!1,[Di.required])),u.removeControl("habitant");else if("deceased"===a)u.removeControl("petName"),u.removeControl("habitant");else if("habitant"===a){u.removeControl("petName");const e=this.createNewHibitantFg();(null===(n=this.passedInHabitant)||void 0===n?void 0:n.get("habitant"))?(console.log("Pass-next from first level"),(null===(r=this.passedInHabitant.get("habitant"))||void 0===r?void 0:r.get("dependents")).at(t).addControl("habitant",e),this.habitantToPassToNext=(null===(i=this.passedInHabitant.get("habitant"))||void 0===i?void 0:i.get("dependents")).at(t).get("habitant")):(console.log("Pass next 2nd level beyond"),(null===(o=this.passedInHabitant)||void 0===o?void 0:o.get("dependents")).at(t).addControl("habitant",e),this.habitantToPassToNext=(null===(s=this.passedInHabitant)||void 0===s?void 0:s.get("dependents")).at(t).get("habitant"))}}get getDependentsArray(){var t;return null===(t=this.habitantFg)||void 0===t?void 0:t.get("dependents")}objToArray(t){return Object.keys(t).filter(t=>"dependent_type"!==t)}onAddDep(){this.getDependentsArray.push(new Do({dependent_type:is(null,!1)}))}onRemoveDep(t){this.getDependentsArray.removeAt(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Qo))},t.\u0275cmp=r.Db({type:t,selectors:[["app-person"]],inputs:{passedInHabitant:"passedInHabitant"},features:[r.wb],decls:1,vars:1,consts:[["class","habitant-form ml-2 mb",3,"formGroup",4,"ngIf"],[1,"habitant-form","ml-2","mb",3,"formGroup"],[1,"title"],[1,"form-group","mb"],["formControlName","habitantName",1,"form-control"],["formControlName","age",1,"form-control"],[1,"title-add","mt","mb"],[1,"btn","btn-sm","btn-primary",3,"click"],["formArrayName","dependents"],["class","mb",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb",3,"formGroupName"],[1,"flex","bl","mb"],[1,"mr"],["formControlName","dependent_type",3,"change"],["disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-danger","btn-sm","btn-block","ml",3,"click"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"flex"],[1,"form-control",3,"formControlName"],[3,"passedInHabitant"]],template:function(t,e){1&t&&r.gc(0,H_,20,2,"div",0),2&t&&r.ac("ngIf",e.habitantFg)},directives:[k,Ki,Uo,Ti,Qi,Wo,zo,j,qo,so,ao,ho,t],pipes:[d_],styles:[".habitant-form[_ngcontent-%COMP%]{width:500px;margin-left:20px;margin-top:10px;border-left:1px solid #ccc;padding-left:10px}.title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.flex[_ngcontent-%COMP%], .title-add[_ngcontent-%COMP%]{display:flex}.mb[_ngcontent-%COMP%]{margin-bottom:10px}.mt[_ngcontent-%COMP%]{margin-top:10px}.mr[_ngcontent-%COMP%]{margin-right:10px}.ml[_ngcontent-%COMP%]{margin-left:10px}label[_ngcontent-%COMP%]{margin-right:10px}.bl[_ngcontent-%COMP%]{align-items:baseline}"]}),t})();const z_=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class t{constructor(t,e,n,r,i){this.fb=t,this.fs=n,this.router=r,this.route=i,this.mainFg=new Do({}),this.homeCollection=n.collection("homes")}ngOnInit(){this.mainFg=this.createMainFormGroup(),this.mainFg.valueChanges.pipe().subscribe(t=>{})}createMainFormGroup(){return this.fb.group({address:is("1000 Friendly St.",!1,[Di.required]),year:is("2021",!1,[Di.required])})}addItem(t){const e=this.fs.createId(),n=Object.assign({},t);this.homeCollection.doc(e).set(n),this.router.navigate(["../","edit"],{relativeTo:this.route})}onSubmit(){console.log(this.mainFg.value),this.mainFg.valid&&this.addItem(this.mainFg.value)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Qo),r.Jb(R_),r.Jb(h_),r.Jb(Jr),r.Jb(kn))},t.\u0275cmp=r.Db({type:t,selectors:[["app-home"]],decls:27,vars:6,consts:[[1,"row"],[1,"col-7"],[3,"formGroup"],[1,"title"],[1,"form-group","mb"],["formControlName","address",1,"form-control"],["formControlName","year",1,"form-control"],[3,"passedInHabitant"],["type","button",1,"btn","btn-primary","mt-3",3,"disabled","click"],[1,"col-5"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"h3"),r.hc(3,"Recursion Form"),r.Nb(),r.Kb(4,"hr"),r.Ob(5,"form",2),r.Ob(6,"div",3),r.hc(7," Home Information "),r.Nb(),r.Ob(8,"div",4),r.Ob(9,"label"),r.hc(10,"Address"),r.Nb(),r.Kb(11,"input",5),r.Nb(),r.Ob(12,"div",4),r.Ob(13,"label"),r.hc(14,"Year Built"),r.Nb(),r.Kb(15,"input",6),r.Nb(),r.Kb(16,"app-person",7),r.Kb(17,"hr"),r.Ob(18,"button",8),r.Vb("click",function(){return e.onSubmit()}),r.hc(19,"Submit"),r.Nb(),r.Nb(),r.Nb(),r.Ob(20,"div",9),r.Ob(21,"h3"),r.hc(22,"Form Value:"),r.Nb(),r.Kb(23,"hr"),r.Ob(24,"pre"),r.hc(25),r.Yb(26,"json"),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(5),r.ac("formGroup",e.mainFg),r.yb(11),r.ac("passedInHabitant",e.mainFg),r.yb(2),r.ac("disabled",e.mainFg.invalid),r.yb(7),r.jc("      ",r.Zb(26,4,e.mainFg.value),"\n    "))},directives:[Lo,Ki,Uo,Ti,Qi,Wo,B_],pipes:[U],styles:[".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.mb[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{margin-bottom:10px}.mt[_ngcontent-%COMP%]{margin-top:10px}.nav[_ngcontent-%COMP%]{background-color:#eee;padding:10px}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},{path:"edit",component:k_},{path:"edit/:homeId",component:A_,resolve:{home:D_},canDeactivate:[mi]},{path:"**",redirectTo:"home",pathMatch:"full"}];let G_=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[li.forRoot(z_)],li]}),t})(),$_=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[rs]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[mi],imports:[[wt,H,G_,Ko,li,Jo,fs.a.initializeApp(i),f_]]}),t})();Object(r.S)(),vt().bootstrapModule($_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);